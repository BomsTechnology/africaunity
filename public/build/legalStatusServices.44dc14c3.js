var l=(n,g,a)=>new Promise((e,S)=>{var p=s=>{try{c(a.next(s))}catch(t){S(t)}},v=s=>{try{c(a.throw(s))}catch(t){S(t)}},c=s=>s.done?e(s.value):Promise.resolve(s.value).then(p,v);c((a=a.apply(n,g)).next())});import{r as i,p as o}from"./app.59e8d623.js";function L(){const n=i([]),g=i([]),a=i(""),e=i(0);return{legalStatuses:n,legalStatus:g,errorsLegal:a,loading:e,getLegalStatuses:()=>l(this,null,function*(){a.value="",e.value=!0;let t=yield o.get("/api/legalStatuses",{headers:{Authorization:`Bearer ${localStorage.token}`}});n.value=t.data.data,e.value=!1}),getLegalStatus:t=>l(this,null,function*(){a.value="",e.value=!0;let r=yield o.get("/api/legalStatuses/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,g.value=r.data.data}),createLegalStatus:t=>l(this,null,function*(){a.value="";try{e.value=!0,yield o.post("/api/legalStatuses",t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=0}catch(r){if(r.response.status==422){e.value=0;for(const u in r.response.data.errors)a.value+=r.response.data.errors[u][0]+`
`}}}),updateLegalStatus:(t,r)=>l(this,null,function*(){a.value="";try{e.value=!0,yield o.put("/api/legalStatuses/"+t,r,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(u){if(e.value=0,u.response.status==422)for(const d in u.response.data.errors)a.value+=u.response.data.errors[d][0]+`	
`}}),destroyLegalStatus:t=>l(this,null,function*(){a.value="";try{return e.value=!0,yield o.delete("/api/legalStatuses/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,!0}catch(r){e.value=0,a.value="Impossible de supprimer ce legalStatus"}})}}export{L as u};
