var n=(m,l,t)=>new Promise((e,i)=>{var p=s=>{try{u(t.next(s))}catch(d){i(d)}},C=s=>{try{u(t.throw(s))}catch(d){i(d)}},u=s=>s.done?e(s.value):Promise.resolve(s.value).then(p,C);u((t=t.apply(m,l)).next())});import{r as c,p as o}from"./app.js";function T(){const m=c([]),l=c([]),t=c(""),e=c(0);return{tenderComments:m,tenderComment:l,errorsCmtAds:t,loading:e,getTenderComments:()=>n(this,null,function*(){t.value="",e.value=!0;let a=yield o.get("/api/tenders-comments",{headers:{Authorization:`Bearer ${localStorage.token}`}});m.value=a.data.data,e.value=!1}),getTenderComment:a=>n(this,null,function*(){t.value="",e.value=!0;let r=yield o.get("/api/tenders-comments/"+a,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,l.value=r.data.data}),createTenderComment:a=>n(this,null,function*(){t.value="";try{e.value=!0,yield o.post("/api/tenders-comments",a,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(r){if(r.response.status==422){e.value=0;for(const v in r.response.data.errorsCmtAds)t.value+=r.response.data.errorsCmtAds[v][0]+`
`}}}),updateTenderComment:a=>n(this,null,function*(){t.value="";try{e.value=!0,yield o.put("/api/tenders-comments/"+a.id,a,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(r){if(e.value=0,r.response.status==422)for(const v in r.response.data.errorsCmtAds)t.value+=r.response.data.errorsCmtAds[v][0]+`	
`}}),destroyTenderComment:a=>n(this,null,function*(){t.value="";try{return e.value=!0,yield o.delete(`/api/tenders-comments/${JSON.stringify(a)}`,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,!0}catch(r){e.value=0,t.value="Impossible de supprimer ce tenderComment"}}),getTenderCommentsPost:a=>n(this,null,function*(){t.value="",e.value=!0;let r=yield o.get("/api/tenders-comments-post/"+a,{headers:{Authorization:`Bearer ${localStorage.token}`}});m.value=r.data.data,e.value=!1}),getTenderCommentsUser:a=>n(this,null,function*(){t.value="",e.value=!0;let r=yield o.get("/api/tenders-comments-user/"+a,{headers:{Authorization:`Bearer ${localStorage.token}`}});m.value=r.data.data,e.value=!1})}}export{T as u};
