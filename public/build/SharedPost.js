var C=(f,x,d)=>new Promise((g,s)=>{var y=r=>{try{_(d.next(r))}catch(i){s(i)}},p=r=>{try{_(d.throw(r))}catch(i){s(i)}},_=r=>r.done?g(r.value):Promise.resolve(r.value).then(y,p);_((d=d.apply(f,x)).next())});import{_ as $}from"./FilterArticle.js";import{u as N,a as L,o as j,r as z,b as v,d as o,e as a,f as t,h as e,k as c,t as n,F as B,x as M,H as P,g as l,w as m,j as k,n as D,l as w,P as H}from"./app.js";import{u as V}from"./postServices.js";import{u as T}from"./commentServices.js";import{r as q}from"./CalendarIcon.js";import{r as E}from"./UserIcon.js";import{r as F}from"./ChatBubbleOvalLeftEllipsisIcon.js";import{r as I}from"./UserCircleIcon.js";import{r as A}from"./PencilSquareIcon.js";const J={class:"mx-auto flex min-h-screen w-full flex-col bg-white p-4 text-lg md:space-y-2 lg:flex-row lg:space-x-2 xl:w-[90%]"},O={class:"lg:w-[70%]"},U={key:0,class:"py-6 lg:px-4"},G={class:"overflow-hidden rounded-lg bg-white shadow-md"},K=["src"],Q={class:"p-6"},R={class:"container"},W={class:"mt-2 block transform text-3xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600"},X={class:"flex my-4 items-center gap-4 flex-wrap"},Y={key:0},Z={key:1},ee={key:2},se={key:3},te={class:"mt-2 flex space-x-2 text-xs text-gray-500"},oe={class:"flex space-x-1"},ae={href:"#",class:"hover:text-primary-blue"},re={key:0,class:"flex space-x-1"},ne={class:"flex space-x-1"},le={href:"#",class:"hover:text-primary-blue"},ie=["innerHTML"],ce={key:0,class:"pt-6 text-center login"},de={key:0,type:"submit",class:"mt-4 w-full bg-primary-blue px-8 py-2 text-lg text-white"},_e={class:"mt-4"},ue={key:0,class:"flex items-center justify-between"},me=["src"],pe={class:"mx-2 font-semibold text-gray-700"},he={class:"flex items-center"},fe={key:0,class:"ml-3"},xe={class:"flex items-center space-x-3 px-2 py-4"},ge=["href"],ye=t("svg",{fill:"#25D366",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",class:"h-6 w-6"},[t("path",{d:"M 15 3 C 8.373 3 3 8.373 3 15 C 3 17.251208 3.6323415 19.350068 4.7109375 21.150391 L 3.1074219 27 L 9.0820312 25.431641 C 10.829354 26.425062 12.84649 27 15 27 C 21.627 27 27 21.627 27 15 C 27 8.373 21.627 3 15 3 z M 10.892578 9.4023438 C 11.087578 9.4023438 11.287937 9.4011562 11.460938 9.4101562 C 11.674938 9.4151563 11.907859 9.4308281 12.130859 9.9238281 C 12.395859 10.509828 12.972875 11.979906 13.046875 12.128906 C 13.120875 12.277906 13.173313 12.453437 13.070312 12.648438 C 12.972312 12.848437 12.921344 12.969484 12.777344 13.146484 C 12.628344 13.318484 12.465078 13.532109 12.330078 13.662109 C 12.181078 13.811109 12.027219 13.974484 12.199219 14.271484 C 12.371219 14.568484 12.968563 15.542125 13.851562 16.328125 C 14.986562 17.342125 15.944188 17.653734 16.242188 17.802734 C 16.540187 17.951734 16.712766 17.928516 16.884766 17.728516 C 17.061766 17.533516 17.628125 16.864406 17.828125 16.566406 C 18.023125 16.268406 18.222188 16.319969 18.492188 16.417969 C 18.766188 16.515969 20.227391 17.235766 20.525391 17.384766 C 20.823391 17.533766 21.01875 17.607516 21.09375 17.728516 C 21.17075 17.853516 21.170828 18.448578 20.923828 19.142578 C 20.676828 19.835578 19.463922 20.505734 18.919922 20.552734 C 18.370922 20.603734 17.858562 20.7995 15.351562 19.8125 C 12.327563 18.6215 10.420484 15.524219 10.271484 15.324219 C 10.122484 15.129219 9.0605469 13.713906 9.0605469 12.253906 C 9.0605469 10.788906 9.8286563 10.071437 10.097656 9.7734375 C 10.371656 9.4754375 10.692578 9.4023438 10.892578 9.4023438 z"})],-1),ve=[ye],we={key:1,class:"p-28"},Ce={class:"bg-white lg:w-[30%]"},De={__name:"SharedPost",props:{id:{required:!0,type:String},slug:{required:!1,type:String}},setup(f){const x=f,{locale:d}=N(),g=window.location.href,{post:s,getPostShared:y,loading:p}=V(),{errors:_}=T(),r=localStorage.user?JSON.parse(localStorage.user):"";return L({user_id:r.id,post_id:"",content:""}),j(()=>C(this,null,function*(){yield y(x.id)})),z(0),(i,ke)=>{const h=v("router-link"),b=v("Spin"),S=v("NoContent");return o(),a("div",J,[t("div",O,[e(s).length!=0?(o(),a("div",U,[t("div",G,[e(s).type=="article"?(o(),a("img",{key:0,class:"h-96 w-full object-cover",src:e(s).image,alt:""},null,8,K)):c("",!0),t("div",Q,[t("div",R,[t("h1",W,n(e(s).title),1),t("ul",X,[(o(!0),a(B,null,M(e(s).ministries,u=>(o(),a("li",{class:"rounded py-1 px-2 text-xs capitalize text-white",style:P("background:"+u.color)},[i.$i18n.locale=="en"?(o(),a("span",Y,n(u.name_en),1)):i.$i18n.locale=="fr"?(o(),a("span",Z,n(u.name_fr),1)):i.$i18n.locale=="es"?(o(),a("span",ee,n(u.name_es),1)):(o(),a("span",se,n(u.name_pt),1))],4))),256))]),t("div",te,[t("div",oe,[l(e(q),{class:"h-4 w-4"}),t("a",ae,n(new Date(e(s).date).toLocaleDateString(e(d),{day:"numeric",year:"numeric",month:"long"})),1)]),e(s).user!=null?(o(),a("div",re,[l(e(E),{class:"h-4 w-4"}),l(h,{to:{name:"compte",params:{slug:e(s).user.slug,id:e(s).user.id}},class:"hover:text-primary-blue"},{default:m(()=>[k(n(e(s).user.firstname),1)]),_:1},8,["to"])])):c("",!0),t("div",ne,[l(e(F),{class:"h-4 w-4"}),t("a",le,n(e(s).comments),1)])]),t("div",{class:D({blurred:e(r).id==null})},[t("p",{class:"my-4 mt-2 py-4 text-gray-600 break-words",innerHTML:e(s).content},null,8,ie)],2),e(r).id==null?(o(),a("div",ce,[l(h,{class:"text-gray-400 hover:underline",to:{name:"login"}},{default:m(()=>[e(p)==0?(o(),a("button",de,n(i.$t("modal-not-login")),1)):c("",!0)]),_:1})])):c("",!0)]),t("div",_e,[e(s).user!=null?(o(),a("div",ue,[l(h,{to:{name:"compte",params:{slug:e(s).user.slug,id:e(s).user.id}},class:"flex items-center"},{default:m(()=>[e(s).user.avatar?(o(),a("img",{key:0,class:"h-16 w-16 rounded-full object-cover shadow",src:e(s).user.avatar},null,8,me)):(o(),w(e(I),{key:1,class:"h-10 w-10 text-gray-700"})),t("span",pe,n(e(s).user.firstname),1)]),_:1},8,["to"]),t("div",he,[e(r).id==e(s).user.id?(o(),a("div",fe,[l(h,{to:{name:"edit.post",params:{id:e(s).id,type:e(s).type}}},{default:m(()=>[l(e(A),{class:"h-5 w-5 cursor-pointer text-gray-400 hover:text-primary-blue"})]),_:1},8,["to"])])):c("",!0)])])):c("",!0)]),t("div",xe,[t("a",{href:"whatsapp://send?text=Hello, I have just published an publication on the AfricaUnity website. please go see, thank you "+e(g)},ve,8,ge)])]),e(_)!=""?(o(),w(H,{key:1},{default:m(()=>[k(n(e(_)),1)]),_:1})):c("",!0)])])):e(p)==1?(o(),a("div",we,[l(b)])):(o(),w(S,{key:2}))]),t("div",Ce,[l($)])])}}};export{De as default};
