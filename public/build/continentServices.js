var r=(u,l,o)=>new Promise((t,e)=>{var d=s=>{try{c(o.next(s))}catch(p){e(p)}},h=s=>{try{c(o.throw(s))}catch(p){e(p)}},c=s=>s.done?t(s.value):Promise.resolve(s.value).then(d,h);c((o=o.apply(u,l)).next())});import{G as y,r as v,u as f,p as i}from"./app.js";function $(){const u=y(),l=v([]),o=v([]),t=v(""),e=v(0),{locale:d}=f();return{continents:l,continent:o,errors:t,loading:e,getContinents:()=>r(this,null,function*(){t.value="",e.value=!0;let a=yield i.get(`/api/continents/language/${d.value}`,{headers:{Authorization:`Bearer ${localStorage.token}`}});l.value=a.data.data,e.value=!1}),getContinent:a=>r(this,null,function*(){t.value="",e.value=!0;let n=yield i.get("/api/continents/"+a,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,o.value=n.data.data}),createContinent:a=>r(this,null,function*(){t.value="";try{e.value=!0,yield i.post("/api/continents",a,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,u.push({name:"admin.continent.index"})}catch(n){if(n.response.status==422){e.value=0;for(const g in n.response.data.errors)t.value+=n.response.data.errors[g][0]+`
`}}}),updateContinent:a=>r(this,null,function*(){t.value="";try{e.value=!0,yield i.put("/api/continents/"+a,o.value,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,u.push({name:"admin.continent.index"})}catch(n){if(e.value=0,n.response.status==422)for(const g in n.response.data.errors)t.value+=n.response.data.errors[g][0]+`	
`}}),destroyContinent:a=>r(this,null,function*(){t.value="";try{return e.value=!0,yield i.delete(`/api/continents/${JSON.stringify(a)}`,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,!0}catch(n){e.value=0,t.value="Impossible de supprimer ce continent"}})}}export{$ as u};
