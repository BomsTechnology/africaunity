var G=Object.defineProperty;var U=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var A=(n,l,a)=>l in n?G(n,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[l]=a,C=(n,l)=>{for(var a in l||(l={}))J.call(l,a)&&A(n,a,l[a]);if(U)for(var a of U(l))K.call(l,a)&&A(n,a,l[a]);return n};var x=(n,l,a)=>new Promise((y,g)=>{var p=d=>{try{r(a.next(d))}catch(b){g(b)}},f=d=>{try{r(a.throw(d))}catch(b){g(b)}},r=d=>d.done?y(d.value):Promise.resolve(d.value).then(p,f);r((a=a.apply(n,l)).next())});import{G as L,r as v,o as R,b as S,d as i,e as c,f as e,h as o,l as q,w as W,j as H,t as k,P as O,k as _,m as Q,I as u,K as m,g as w,J as E,F,x as N}from"./app.js";import{u as X}from"./announcementServices.js";import{u as Y}from"./categoryAnnouncementServices.js";import{u as Z}from"./currencyServices.js";import{u as ee}from"./universityServices.js";import{_ as te}from"./RichText.js";import{_ as re}from"./DropZone.js";const oe={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},se={class:"z-0 w-full p-4"},ae=e("div",{class:"flex w-full justify-between bg-white px-8 py-5"},[e("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Edit Announcement ")],-1),le={class:"mx-auto w-full bg-white p-6"},ne=e("h2",{class:"text-md font-light text-gray-700"}," Add a new Announcement ",-1),de={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},ie={class:"col-span-2"},ue=e("label",{class:"dark:text-gray-200 text-gray-700"},"Title",-1),ce=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"University",-1),ge=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Category",-1),be=["value"],me=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Phone",-1),ye=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Adress Email",-1),pe=e("label",{class:"dark:text-gray-200 text-gray-700"},"Price",-1),fe=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Currency",-1),xe=["value"],ve=e("label",{class:"dark:text-gray-200 text-gray-700"},"Address",-1),ke=e("label",{class:"dark:text-gray-200 text-gray-700"},"Website",-1),_e={class:"col-span-2"},we=e("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),he={class:"col-span-2"},Ve=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),Ue={class:"mt-6 flex justify-end"},Ae={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},Ce={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},ze={__name:"AnnouncementEdit",props:{id:{required:!0,type:String}},setup(n){const l=n,a=L(),y=v([]),g=v(!1),{updateAnnouncement:p,getAnnouncement:f,announcement:r,errors:d,loading:b}=X(),{categoryAnnouncements:B,getCategoryAnnouncements:M}=Y(),{currencies:j,getCurrencies:z}=Z(),{universities:D,getAllUniversities:I}=ee(),h=v(0);R(()=>x(this,null,function*(){g.value=!0,yield f(l.id),y.value=r.value.image,h.value++,yield M(),yield z();let V=r.value.university_id;yield I(),r.value.university_id="0",r.value.university_id=V,g.value=!1,r.value.image=""}));const P=()=>x(this,null,function*(){yield p(C({},r.value),l.id),d.value==""&&a.push({name:"admin.announcement.index"})});return(V,s)=>{const T=S("SelectFilter"),$=S("Spin");return i(),c("div",oe,[e("div",se,[ae,e("section",le,[o(d)!=""?(i(),q(O,{key:0},{default:W(()=>[H(k(o(d)),1)]),_:1})):_("",!0),ne,e("form",{onSubmit:s[11]||(s[11]=Q(t=>P(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",de,[e("div",ie,[ue,u(e("input",{required:"","onUpdate:modelValue":s[0]||(s[0]=t=>o(r).title=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,o(r).title]])]),e("div",null,[ce,w(T,{modelValue:o(r).university_id,"onUpdate:modelValue":s[1]||(s[1]=t=>o(r).university_id=t),data:o(D),placeholder:"Select University",required:!1,resetField:!0,loading:g.value,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","loading"])]),e("div",null,[ge,u(e("select",{required:"","onUpdate:modelValue":s[2]||(s[2]=t=>o(r).category_announcement_id=t),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(i(!0),c(F,null,N(o(B),t=>(i(),c("option",{key:t.id,value:t.id},k(t.name),9,be))),128))],512),[[E,o(r).category_announcement_id]])]),e("div",null,[me,u(e("input",{required:"","onUpdate:modelValue":s[3]||(s[3]=t=>o(r).phone=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,o(r).phone]])]),e("div",null,[ye,u(e("input",{required:"","onUpdate:modelValue":s[4]||(s[4]=t=>o(r).email=t),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,o(r).email]])]),e("div",null,[pe,u(e("input",{required:"","onUpdate:modelValue":s[5]||(s[5]=t=>o(r).price=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,o(r).price]])]),e("div",null,[fe,u(e("select",{required:"","onUpdate:modelValue":s[6]||(s[6]=t=>o(r).currency_id=t),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(i(!0),c(F,null,N(o(j),t=>(i(),c("option",{key:t.id,value:t.id},k(t.symbol+" "+t.name),9,xe))),128))],512),[[E,o(r).currency_id]])]),e("div",null,[ve,u(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>o(r).adress=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,o(r).adress]])]),e("div",null,[ke,u(e("input",{"onUpdate:modelValue":s[8]||(s[8]=t=>o(r).website=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,o(r).website]])]),e("div",_e,[we,w(re,{modelValue:y.value,"onUpdate:modelValue":s[9]||(s[9]=t=>y.value=t),multiple:!0},null,8,["modelValue"])]),e("div",he,[Ve,(i(),q(te,{key:h.value,modelValue:o(r).description,"onUpdate:modelValue":s[10]||(s[10]=t=>o(r).description=t)},null,8,["modelValue"]))])]),e("div",Ue,[o(b)==0?(i(),c("button",Ae," Save ")):_("",!0),o(b)==1?(i(),c("button",Ce,[w($,{size:"small"})])):_("",!0)])],32)])])])}}};export{ze as default};
