var K=Object.defineProperty;var U=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var C=(d,a,i)=>a in d?K(d,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):d[a]=i,S=(d,a)=>{for(var i in a||(a={}))L.call(a,i)&&C(d,i,a[i]);if(U)for(var i of U(a))P.call(a,i)&&C(d,i,a[i]);return d};var k=(d,a,i)=>new Promise((y,_)=>{var x=u=>{try{t(i.next(u))}catch(f){_(f)}},h=u=>{try{t(i.throw(u))}catch(f){_(f)}},t=u=>u.done?y(u.value):Promise.resolve(u.value).then(x,h);t((i=i.apply(d,a)).next())});import{G as R,r as V,o as H,b as A,d as c,e as m,f as e,t as n,h as s,l as q,w as O,j as p,P as Q,k as v,m as W,I as g,K as b,g as $,J as F,F as N,x as B}from"./app.js";import{u as X}from"./announcementServices.js";import{u as Y}from"./categoryAnnouncementServices.js";import{u as Z}from"./currencyServices.js";import{u as ee}from"./universityServices.js";import{_ as te}from"./DropZone.js";import{_ as oe}from"./RichText.js";const se={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},le={class:"w-full space-y-4 py-5 text-center"},ne={class:"text-4xl font-bold capitalize text-primary-blue"},re={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},ie={class:"text-xl font-semibold"},ae={class:"text-md font-light text-gray-700"},de={class:"mt-4"},ue={class:"col-span-2"},ce={class:"text-gray-700"},me=e("span",{class:"text-red-500"},"*",-1),pe={class:"text-xs font-light text-gray-400"},ge={class:"divSelect2 col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},fe={class:"text-gray-700",for:"pt"},be=e("span",{class:"text-red-500"},"*",-1),ye={class:"text-gray-700",for:"pt"},_e=e("span",{class:"text-red-500"},"*",-1),ve=["value"],xe={class:"text-gray-700"},he=e("span",{class:"text-red-500"},"*",-1),we={class:"text-gray-700"},ke=e("span",{class:"text-red-500"},"*",-1),Ve={key:0},$e={class:"text-gray-700"},Ue=e("span",{class:"text-red-500"},"*",-1),Ce={key:1},Se={class:"text-gray-700",for:"es"},Ae=e("span",{class:"text-red-500"},"*",-1),qe=["value"],Fe={class:"text-gray-700"},Ne={class:"text-gray-700"},Be={class:"col-span-2 mt-4"},Me={class:"text-gray-700",for:"fr"},De={class:"flex items-center space-x-4 py-4"},Ee={class:"col-span-2 mt-4"},je={class:"text-gray-700",for:"pt"},ze=e("span",{class:"text-red-500"},"*",-1),Ie={class:"mt-6"},Te={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Ge={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},We={__name:"EditAnnouncement",props:{id:{required:!0,type:String}},setup(d){const a=d,i=R(),y=V([]),_=V(0),{updateAnnouncement:x,getAnnouncement:h,announcement:t,errors:u,loading:f}=X(),{categoryAnnouncements:M,getCategoryAnnouncements:D}=Y(),{currencies:E,getCurrencies:j}=Z(),{universities:z,getAllUniversities:I}=ee(),w=V(!1);H(()=>k(this,null,function*(){w.value=!0,yield h(a.id),_.value++,y.value=t.value.image,yield j(),yield D();let r=t.value.university_id;yield I(),t.value.university_id="0",t.value.university_id=r,w.value=!1})),t.value.image="";const T=()=>k(this,null,function*(){yield x(S({},t.value),a.id),u.value==""&&i.push({name:"ads"})});return(r,l)=>{const G=A("SelectFilter"),J=A("Spin");return c(),m("div",se,[e("div",le,[e("h1",ne,n(r.$t("edit"))+" "+n(r.$t("ads")),1)]),e("section",re,[s(u)!=""?(c(),q(Q,{key:0},{default:O(()=>[p(n(s(u)),1)]),_:1})):v("",!0),e("h1",ie,n(r.$t("edit"))+" "+n(r.$t("ads")),1),e("h2",ae,n(r.$t("good-msg-post"))+" ! ",1),e("form",{onSubmit:l[11]||(l[11]=W(o=>T(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",de,[e("div",ue,[e("label",ce,[p(n(r.$t("title"))+" ",1),me]),g(e("input",{required:"","onUpdate:modelValue":l[0]||(l[0]=o=>s(t).title=o),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,s(t).title]]),e("span",pe,n(s(t).title?s(t).title.length:0)+" of 50 Characters",1)]),e("div",ge,[e("div",null,[e("label",fe,[p(n(r.$t("university"))+" ",1),be]),$(G,{modelValue:s(t).university_id,"onUpdate:modelValue":l[1]||(l[1]=o=>s(t).university_id=o),data:s(z),placeholder:"Select University",required:!1,resetField:!0,loading:w.value,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","loading"])]),e("div",null,[e("label",ye,[p(n(r.$t("category"))+" ",1),_e]),g(e("select",{required:"","onUpdate:modelValue":l[2]||(l[2]=o=>s(t).category_announcement_id=o),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(c(!0),m(N,null,B(s(M),o=>(c(),m("option",{key:o.id,value:o.id},n(o.name),9,ve))),128))],512),[[F,s(t).category_announcement_id]])]),e("div",null,[e("label",xe,[p(n(r.$t("contact-phone"))+" ",1),he]),g(e("input",{required:"","onUpdate:modelValue":l[3]||(l[3]=o=>s(t).phone=o),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,s(t).phone]])]),e("div",null,[e("label",we,[p(n(r.$t("contact-email"))+" ",1),ke]),g(e("input",{required:"","onUpdate:modelValue":l[4]||(l[4]=o=>s(t).email=o),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,s(t).email]])]),s(t).category_announcement_id!=10?(c(),m("div",Ve,[e("label",$e,[p(n(r.$t("price"))+" ",1),Ue]),g(e("input",{required:"","onUpdate:modelValue":l[5]||(l[5]=o=>s(t).price=o),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,s(t).price]])])):v("",!0),s(t).category_announcement_id!=10?(c(),m("div",Ce,[e("label",Se,[p(n(r.$t("currency"))+" ",1),Ae]),g(e("select",{required:"","onUpdate:modelValue":l[6]||(l[6]=o=>s(t).currency_id=o),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(c(!0),m(N,null,B(s(E),o=>(c(),m("option",{key:o.id,value:o.id},n(o.symbol+" "+o.name),9,qe))),128))],512),[[F,s(t).currency_id]])])):v("",!0),e("div",null,[e("label",Fe,n(r.$t("adresse")),1),g(e("input",{"onUpdate:modelValue":l[7]||(l[7]=o=>s(t).adress=o),placeholder:"Douala Cameroon",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,s(t).adress]])]),e("div",null,[e("label",Ne,n(r.$t("website")),1),g(e("input",{"onUpdate:modelValue":l[8]||(l[8]=o=>s(t).website=o),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,s(t).website]])])]),e("div",Be,[e("label",Me,n(r.$t("thumbnails")),1),e("div",De,[$(te,{modelValue:y.value,"onUpdate:modelValue":l[9]||(l[9]=o=>y.value=o),multiple:!0},null,8,["modelValue"])])]),e("div",Ee,[e("label",je,[p(n(r.$t("description"))+" ",1),ze]),(c(),q(oe,{key:_.value,modelValue:s(t).description,"onUpdate:modelValue":l[10]||(l[10]=o=>s(t).description=o)},null,8,["modelValue"]))])]),e("div",Ie,[s(f)==0?(c(),m("button",Te,n(r.$t("save")),1)):v("",!0),s(f)==1?(c(),m("button",Ge,[$(J,{size:"small"})])):v("",!0)])],32)])])}}};export{We as default};
