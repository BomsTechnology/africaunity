import{c as s,d as n,e,a as h,r as m,b as w,i as g,v as _,k as M,w as S,j as c,t as u,P as z,m as x,l as A,K as f,f as C}from"./app.1a4e1017.js";function R(l,b){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M21.721 12.752a9.711 9.711 0 00-.945-5.003 12.754 12.754 0 01-4.339 2.708 18.991 18.991 0 01-.214 4.772 17.165 17.165 0 005.498-2.477zM14.634 15.55a17.324 17.324 0 00.332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 00.332 4.647 17.385 17.385 0 005.268 0zM9.772 17.119a18.963 18.963 0 004.456 0A17.182 17.182 0 0112 21.724a17.18 17.18 0 01-2.228-4.605zM7.777 15.23a18.87 18.87 0 01-.214-4.774 12.753 12.753 0 01-4.34-2.708 9.711 9.711 0 00-.944 5.004 17.165 17.165 0 005.498 2.477zM21.356 14.752a9.765 9.765 0 01-7.478 6.817 18.64 18.64 0 001.988-4.718 18.627 18.627 0 005.49-2.098zM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 001.988 4.718 9.765 9.765 0 01-7.478-6.816zM13.878 2.43a9.755 9.755 0 016.116 3.986 11.267 11.267 0 01-3.746 2.504 18.63 18.63 0 00-2.37-6.49zM12 2.276a17.152 17.152 0 012.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0112 2.276zM10.122 2.43a18.629 18.629 0 00-2.37 6.49 11.266 11.266 0 01-3.746-2.504 9.754 9.754 0 016.116-3.985z"})])}function W(l,b){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M9 2.25a.75.75 0 01.75.75v1.506a49.38 49.38 0 015.343.371.75.75 0 11-.186 1.489c-.66-.083-1.323-.151-1.99-.206a18.67 18.67 0 01-2.969 6.323c.317.384.65.753.998 1.107a.75.75 0 11-1.07 1.052A18.902 18.902 0 019 13.687a18.823 18.823 0 01-5.656 4.482.75.75 0 11-.688-1.333 17.323 17.323 0 005.396-4.353A18.72 18.72 0 015.89 8.598a.75.75 0 011.388-.568A17.21 17.21 0 009 11.224a17.17 17.17 0 002.391-5.165 48.038 48.038 0 00-8.298.307.75.75 0 01-.186-1.489 49.159 49.159 0 015.343-.371V3A.75.75 0 019 2.25zM15.75 9a.75.75 0 01.68.433l5.25 11.25a.75.75 0 01-1.36.634l-1.198-2.567h-6.744l-1.198 2.567a.75.75 0 01-1.36-.634l5.25-11.25A.75.75 0 0115.75 9zm-2.672 8.25h5.344l-2.672-5.726-2.672 5.726z","clip-rule":"evenodd"})])}const V={class:"fixed inset-0 z-40 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},j={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},N=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),$={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},B={class:"relative rounded-lg bg-white py-4 shadow"},O={key:1,class:"mx-8 bg-green-50 py-4 px-2 text-green-700"},J={class:"flex items-center justify-center text-xl font-bold text-gray-900 md:text-2xl"},q={class:""},D={class:"dark:text-gray-200 text-gray-700"},F=e("span",{class:"text-red-500"},"*",-1),U={class:""},E={class:"dark:text-gray-200 text-gray-700"},K=e("span",{class:"text-red-500"},"*",-1),P={class:""},T=e("label",{class:"dark:text-gray-200 text-gray-700"},[c("CV(Pdf | max: 5mo) "),e("span",{class:"text-red-500"},"*")],-1),G=e("label",{for:"report",class:"dark:text-gray-300 mb-2 block text-sm font-medium text-gray-900"},[c("Message "),e("span",{class:"text-red-500"},"*")],-1),H={key:0,type:"submit",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 w-full rounded-lg bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},I={key:1,type:"submit",disabled:"",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 flex w-full items-center justify-center rounded-lg bg-blue-300 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},L={key:3,class:"px-8"},X={__name:"Apply",props:{open:Boolean,toogleModal:Function,id:String},setup(l){const b=l,a=h({user:JSON.parse(localStorage.user).id,job:b.id,message:"",email:JSON.parse(localStorage.user).email,name:JSON.parse(localStorage.user).firstname+" "+(JSON.parse(localStorage.user).lastname?JSON.parse(localStorage.user).lastname:""),cv:""}),i=m(0),d=m(""),y=m(null),v=async()=>{if(a.cv.size>5e6){d.value="Votre fichier est tr\xE8s volimineux";return}let r=new FormData;r.append("user",a.user),r.append("job",a.job),r.append("message",a.message),r.append("email",a.email),r.append("name",a.name),r.append("cv",a.cv),d.value="";try{i.value=1,await axios.post("/api/jobOffers-apply",r,{headers:{Authorization:`Bearer ${localStorage.token}`}}),i.value=2}catch(t){if(t.response.status==422){i.value=0;for(const p in t.response.data.errors)d.value+=t.response.data.errors[p][0]+`
`}else d.value=t.response.data.message}},k=async()=>{a.cv=y.value.files[0]};return(r,t)=>{const p=w("Spin");return g((s(),n("div",V,[e("div",j,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:t[0]||(t[0]=(...o)=>l.toogleModal&&l.toogleModal(...o))}),N,e("div",$,[e("div",B,[d.value!=""?(s(),M(z,{key:0},{default:S(()=>[c(u(d.value),1)]),_:1})):x("",!0),i.value==2?(s(),n("div",O,[e("p",null,u(r.$t("msg-contact-sucess")),1)])):(s(),n("form",{key:2,onSubmit:t[5]||(t[5]=A(o=>v(),["prevent"])),class:"space-y-6 px-6 pb-4 sm:pb-6 lg:px-8 xl:pb-8",action:"#"},[e("h3",J,u(r.$t("apply")),1),e("div",q,[e("label",D,[c(u(r.$t("full-name"))+" ",1),F]),g(e("input",{required:"","onUpdate:modelValue":t[1]||(t[1]=o=>a.name=o),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[f,a.name]])]),e("div",U,[e("label",E,[c(u(r.$t("email"))+" ",1),K]),g(e("input",{required:"","onUpdate:modelValue":t[2]||(t[2]=o=>a.email=o),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[f,a.email]])]),e("div",P,[T,e("input",{required:"",ref_key:"file",ref:y,onChange:t[3]||(t[3]=o=>k()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),e("div",null,[G,g(e("textarea",{required:"","onUpdate:modelValue":t[4]||(t[4]=o=>a.message=o),id:"report",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`
                            `,512),[[f,a.message]])]),i.value==0?(s(),n("button",H,u(r.$t("send")),1)):(s(),n("button",I,[C(p,{size:"small"})]))],32)),i.value==2?(s(),n("div",L,[e("button",{type:"button",onClick:t[6]||(t[6]=(...o)=>l.toogleModal&&l.toogleModal(...o)),class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-2 w-full rounded bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"}," OK ")])):x("",!0)])])])],512)),[[_,l.open]])}}};export{X as _,W as a,R as r};
