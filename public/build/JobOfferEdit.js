var O=(V,k,m)=>new Promise((w,h)=>{var q=y=>{try{g(m.next(y))}catch(v){h(v)}},t=y=>{try{g(m.throw(y))}catch(v){h(v)}},g=y=>y.done?w(y.value):Promise.resolve(y.value).then(q,t);g((m=m.apply(V,k)).next())});import{G as ie,r as _,o as ue,b as ce,d as n,e as s,f as r,h as o,l as pe,w as ye,j as M,t as i,P as be,k as S,m as ge,I as d,K as b,J as u,F as c,x as p,g as me}from"./app.js";import{u as fe}from"./jobOfferServices.js";import{u as _e}from"./currencyServices.js";import{u as ve}from"./activityAreaServices.js";import{u as xe,a as ke}from"./workDepartmentServices.js";import{u as we,a as he,b as Ce}from"./yearExperienceServices.js";import{u as Ve}from"./workModeServices.js";import{u as qe}from"./languageServices.js";import{u as Ue}from"./countryServices.js";import{u as ze}from"./zoneServices.js";import{u as Oe}from"./continentServices.js";import{u as Se}from"./cityServices.js";const Ee={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},Je={class:"z-0 w-full p-4"},Le=r("div",{class:"flex w-full justify-between bg-white px-8 py-5"},[r("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Edit JobOffer ")],-1),Me={class:"mx-auto w-full bg-white p-6"},je=r("h2",{class:"text-md font-light text-gray-700"}," Edit a JobOffer ",-1),Ae={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},De={class:"col-span-2"},We=r("label",{class:"dark:text-gray-200 text-gray-700"},"Title",-1),Fe=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Continent",-1),Te=["value"],$e=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Zone",-1),Ne=["value"],Be={key:1,value:"null"},Pe=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Country",-1),Re=["value"],Ze={key:1,value:"null"},Ye=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"City",-1),Ge=["value"],Ie={key:1,value:"null"},Ke={class:"col-span-2"},He=r("label",{class:"dark:text-gray-200 text-gray-700"},"Location",-1),Qe={class:""},Xe={class:"dark:text-gray-200 text-gray-700"},er=r("span",{class:"text-red-500"},"*",-1),rr=r("label",{class:"dark:text-gray-200 text-gray-700"},"Company Name",-1),tr=r("label",{class:"dark:text-gray-200 text-gray-700"},"Company Email",-1),or=r("label",{class:"dark:text-gray-200 text-gray-700"},"Company Website",-1),ar=r("label",{class:"dark:text-gray-200 text-gray-700"},"Company logo",-1),lr={class:"col-span-2 grid grid-cols-1 gap-6 sm:grid-cols-3"},nr=r("label",{class:"dark:text-gray-200 text-gray-700"},"Min Price",-1),sr=r("label",{class:"dark:text-gray-200 text-gray-700"},"Max Price",-1),dr=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Currency",-1),ir=["value"],ur={class:"col-span-2"},cr=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Languages",-1),pr=["value"],yr=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Size Company",-1),br=["value"],gr=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Level Study",-1),mr=["value"],fr={class:"col-span-2"},_r=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Activity Areas",-1),vr=["value"],xr=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Work Department",-1),kr=["value"],wr=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Work Mode",-1),hr=["value"],Cr=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Offer Type",-1),Vr=["value"],qr=r("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Year Experience",-1),Ur=["value"],zr={class:"col-span-2"},Or=r("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),Sr={class:"mt-6 flex justify-end"},Er={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},Jr={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},Zr={__name:"JobOfferEdit",props:{id:{required:!0,type:String}},setup(V){const k=V,m=ie(),w=_(null),{updateJobOffer:h,getJobOffer2:q,jobOffer:t,errors:g,loading:y}=fe(),{currencies:v,getCurrencies:j}=_e(),{languages:A,getLanguages:D}=qe(),{activityAreas:W,getActivityAreas:F}=ve(),{sizeCompanies:T,getSizeCompanies:$}=xe(),{levelStudies:N,getLevelStudies:B}=we(),{offerTypes:P,getOfferTypes:R}=he(),{workDepartments:Z,getWorkDepartments:Y}=ke(),{workModes:G,getWorkModes:I}=Ve(),{yearExperiences:K,getYearExperiences:H}=Ce(),{countries:E,getCountries:Q}=Ue(),{zones:J,getZones:X}=ze(),{continents:ee,getContinents:re}=Oe(),{cities:L,getCities:te}=Se(),C=_([]),x=_([]),f=_([]),oe=()=>{f.value=L.value.filter(l=>l.country_id==t.value.country_id),t.value.city.id=""},ae=()=>{x.value=E.value.filter(l=>l.zone_id==t.value.zone_id),t.value.country.id="",t.value.city.id="",f.value=[]},le=()=>{C.value=J.value.filter(l=>l.continent_id==t.value.continent_id),t.value.zone.id="",t.value.country.id="",t.value.city.id="",f.value=[],x.value=[]};ue(()=>O(this,null,function*(){yield q(k.id),j(),yield re(),yield X(),yield H(),yield I(),yield Y(),yield B(),yield $(),yield R(),yield F(),yield D(),yield Q(),yield te(),C.value=J.value.filter(l=>l.continent_id==t.value.continent_id),x.value=E.value.filter(l=>l.zone_id==t.value.zone_id),f.value=L.value.filter(l=>l.country_id==t.value.country_id),t.value.company_logo=""}));const U=_([]),z=_([]),ne=()=>O(this,null,function*(){let l=new FormData;l.append("title",t.value.title),l.append("description",t.value.description),l.append("start_date",t.value.start_date),l.append("location",t.value.location),l.append("company_name",t.value.company_name),l.append("company_email",t.value.company_email),l.append("company_website",t.value.company_website),l.append("company_logo",t.value.company_logo),l.append("min_price",t.value.min_price),l.append("max_price",t.value.max_price),l.append("user_id",t.value.user_id),l.append("currency_id",t.value.currency_id),l.append("year_experience_id",t.value.year_experience_id),l.append("work_department_id",t.value.work_department_id),l.append("work_mode_id",t.value.work_mode_id),l.append("size_company_id",t.value.size_company_id),l.append("offer_type_id",t.value.offer_type_id),l.append("level_study_id",t.value.level_study_id),l.append("city_id",t.value.city_id),l.append("zone_id",t.value.zone_id),l.append("continent_id",t.value.continent_id),l.append("country_id",t.value.country_id),l.append("languages",U.value),l.append("activityAreas",z.value),l.append("_method","PUT"),yield h(l,k.id),g.value==""&&m.push({name:"admin.jobOffer.index"})}),se=()=>{t.value.company_logo=w.value.files[0]};return(l,a)=>{const de=ce("Spin");return n(),s("div",Ee,[r("div",Je,[Le,r("section",Me,[o(g)!=""?(n(),pe(be,{key:0},{default:ye(()=>[M(i(o(g)),1)]),_:1})):S("",!0),je,r("form",{onSubmit:a[23]||(a[23]=ge(e=>ne(),["prevent"])),id:"jobOfferform",enctype:"multipart/form-data"},[r("div",Ae,[r("div",De,[We,d(r("input",{required:"","onUpdate:modelValue":a[0]||(a[0]=e=>o(t).title=e),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o(t).title]])]),r("div",null,[Fe,d(r("select",{required:"",onChange:le,"onUpdate:modelValue":a[1]||(a[1]=e=>o(t).continent_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),s(c,null,p(o(ee),e=>(n(),s("option",{key:e.id,value:e.id},i(e.name_en),9,Te))),128))],544),[[u,o(t).continent_id]])]),r("div",null,[$e,d(r("select",{required:"",onChange:ae,"onUpdate:modelValue":a[2]||(a[2]=e=>o(t).zone_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[C.value.length!=0?(n(!0),s(c,{key:0},p(C.value,e=>(n(),s("option",{key:e.id,value:e.id},i(e.name_en),9,Ne))),128)):(n(),s("option",Be," Requires "+i(l.$t("continent")),1))],544),[[u,o(t).zone_id]])]),r("div",null,[Pe,d(r("select",{required:"",onChange:oe,"onUpdate:modelValue":a[3]||(a[3]=e=>o(t).country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[x.value.length!=0?(n(!0),s(c,{key:0},p(x.value,e=>(n(),s("option",{key:e.id,value:e.id},i(e.name_en),9,Re))),128)):(n(),s("option",Ze," Requires "+i(l.$t("zoned")),1))],544),[[u,o(t).country_id]])]),r("div",null,[Ye,d(r("select",{required:"","onUpdate:modelValue":a[4]||(a[4]=e=>o(t).city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[f.value.length!=0?(n(!0),s(c,{key:0},p(f.value,e=>(n(),s("option",{key:e.id,value:e.id},i(e.name_en),9,Ge))),128)):(n(),s("option",Ie," Requires "+i(l.$t("country")),1))],512),[[u,o(t).city_id]])]),r("div",Ke,[He,d(r("input",{required:"","onUpdate:modelValue":a[5]||(a[5]=e=>o(t).location=e),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o(t).location]])]),r("div",Qe,[r("label",Xe,[M(i(l.$t("start-date"))+" ",1),er]),d(r("input",{required:"","onUpdate:modelValue":a[6]||(a[6]=e=>o(t).start_date=e),type:"date",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o(t).start_date]])]),r("div",null,[rr,d(r("input",{required:"","onUpdate:modelValue":a[7]||(a[7]=e=>o(t).company_name=e),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o(t).company_name]])]),r("div",null,[tr,d(r("input",{required:"","onUpdate:modelValue":a[8]||(a[8]=e=>o(t).company_email=e),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o(t).company_email]])]),r("div",null,[or,d(r("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>o(t).company_website=e),type:"url",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o(t).company_website]])]),r("div",null,[ar,r("input",{ref_key:"file",ref:w,onChange:a[10]||(a[10]=e=>se()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),r("div",lr,[r("div",null,[nr,d(r("input",{required:"","onUpdate:modelValue":a[11]||(a[11]=e=>o(t).min_price=e),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o(t).min_price]])]),r("div",null,[sr,d(r("input",{required:"","onUpdate:modelValue":a[12]||(a[12]=e=>o(t).max_price=e),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o(t).max_price]])]),r("div",null,[dr,d(r("select",{required:"","onUpdate:modelValue":a[13]||(a[13]=e=>o(t).currency_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),s(c,null,p(o(v),e=>(n(),s("option",{key:e.id,value:e.id},i(e.symbol+" "+e.name),9,ir))),128))],512),[[u,o(t).currency_id]])])]),r("div",ur,[cr,d(r("select",{required:"",multiple:"","onUpdate:modelValue":a[14]||(a[14]=e=>U.value=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),s(c,null,p(o(A),e=>(n(),s("option",{key:e.id,value:e.id},i(e.name_en),9,pr))),128))],512),[[u,U.value]])]),r("div",null,[yr,d(r("select",{required:"","onUpdate:modelValue":a[15]||(a[15]=e=>o(t).size_company_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),s(c,null,p(o(T),e=>(n(),s("option",{key:e.id,value:e.id},i(e.name_en),9,br))),128))],512),[[u,o(t).size_company_id]])]),r("div",null,[gr,d(r("select",{required:"","onUpdate:modelValue":a[16]||(a[16]=e=>o(t).level_study_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),s(c,null,p(o(N),e=>(n(),s("option",{key:e.id,value:e.id},i(e.name_en),9,mr))),128))],512),[[u,o(t).level_study_id]])]),r("div",fr,[_r,d(r("select",{required:"",multiple:"","onUpdate:modelValue":a[17]||(a[17]=e=>z.value=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),s(c,null,p(o(W),e=>(n(),s("option",{key:e.id,value:e.id},i(e.name_en),9,vr))),128))],512),[[u,z.value]])]),r("div",null,[xr,d(r("select",{required:"","onUpdate:modelValue":a[18]||(a[18]=e=>o(t).work_department_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),s(c,null,p(o(Z),e=>(n(),s("option",{key:e.id,value:e.id},i(e.name_en),9,kr))),128))],512),[[u,o(t).work_department_id]])]),r("div",null,[wr,d(r("select",{required:"","onUpdate:modelValue":a[19]||(a[19]=e=>o(t).work_mode_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),s(c,null,p(o(G),e=>(n(),s("option",{key:e.id,value:e.id},i(e.name_en),9,hr))),128))],512),[[u,o(t).work_mode_id]])]),r("div",null,[Cr,d(r("select",{required:"","onUpdate:modelValue":a[20]||(a[20]=e=>o(t).offer_type_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),s(c,null,p(o(P),e=>(n(),s("option",{key:e.id,value:e.id},i(e.name_en),9,Vr))),128))],512),[[u,o(t).offer_type_id]])]),r("div",null,[qr,d(r("select",{required:"","onUpdate:modelValue":a[21]||(a[21]=e=>o(t).year_experience_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),s(c,null,p(o(K),e=>(n(),s("option",{key:e.id,value:e.id},i(e.name_en),9,Ur))),128))],512),[[u,o(t).year_experience_id]])]),r("div",zr,[Or,d(r("textarea",{required:"",type:"text","onUpdate:modelValue":a[22]||(a[22]=e=>o(t).description=e),id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`
                            `,512),[[b,o(t).description]])])]),r("div",Sr,[o(y)==0?(n(),s("button",Er," Save ")):S("",!0),o(y)==1?(n(),s("button",Jr,[me(de,{size:"small"})])):S("",!0)])],32)])])])}}};export{Zr as default};
