var x=(V,w,b)=>new Promise((q,p)=>{var v=c=>{try{h(b.next(c))}catch(k){p(k)}},g=c=>{try{h(b.throw(c))}catch(k){p(k)}},h=c=>c.done?q(c.value):Promise.resolve(c.value).then(v,g);h((b=b.apply(V,w)).next())});import{r as $,G as te,o as oe,b as S,d as l,e as i,f as o,t as s,h as r,l as ne,w as se,j as d,k as U,m as re,I as u,K as m,J as y,F as _,x as f,g as le}from"./app.js";import{u as ie}from"./zoneServices.js";import{u as ae}from"./cityServices.js";import{u as de}from"./countryServices.js";import{u as ue}from"./currencyServices.js";import{u as pe}from"./continentServices.js";import{u as ce}from"./demonstrationServices.js";import{u as me}from"./demonstrationModeServices.js";import{u as ye}from"./demonstrationTypeServices.js";import{u as _e}from"./demonstrationNicheServices.js";const fe={class:"text-center text-2xl font-bold text-gray-500 sm:text-4xl"},be={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},ge={class:"mt-4"},ve={class:"col-span-2"},he={class:"text-gray-700"},ke=o("span",{class:"text-red-500"},"*",-1),we={class:"text-xs font-light text-gray-400"},xe={class:"col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},$e={class:"text-gray-700",for:"pt"},Ue=o("span",{class:"text-red-500"},"*",-1),Ve=["value"],qe={key:0},Ce={key:1},De={key:2},ze={key:3},Se={class:"text-gray-700",for:"pt"},Re=o("span",{class:"text-red-500"},"*",-1),Fe=["value"],Le={key:0},je={key:1},Be={key:2},Ee={key:3},Oe={class:"text-gray-700",for:"es"},Ie=o("span",{class:"text-red-500"},"*",-1),Ne=["value"],Ze={key:0},Ge={key:1},Je={key:2},Me={key:3},Pe={class:"text-gray-700",for:"es"},Ke=o("span",{class:"text-red-500"},"*",-1),Te=["value"],Ae={key:0},He={key:1},Qe={key:2},We={key:3},Xe={key:1,value:"null"},Ye={class:"text-gray-700",for:"es"},et=o("span",{class:"text-red-500"},"*",-1),tt=["value"],ot={key:0},nt={key:1},st={key:2},rt={key:3},lt={key:1,value:"null"},it={class:"d text-gray-700",for:"es"},at=o("span",{class:"text-red-500"},"*",-1),dt=["value"],ut={key:0},pt={key:1},ct={key:2},mt={key:3},yt={key:1,value:"null"},_t={class:"sm:col-span-2"},ft={class:"text-gray-700",for:"pt"},bt=o("span",{class:"text-red-500"},"*",-1),gt={class:"sm:col-span-2"},vt={class:"text-gray-700"},ht=o("span",{class:"text-red-500"},"*",-1),kt=o("option",{value:"free"},"Gratuit",-1),wt=o("option",{value:"paying"},"Payant",-1),xt=[kt,wt],$t={class:"text-gray-700"},Ut={class:"text-gray-700",for:"es"},Vt=["value"],qt={class:"text-gray-700"},Ct=o("span",{class:"text-red-500"},"*",-1),Dt={class:"text-gray-700"},zt=o("span",{class:"text-red-500"},"*",-1),St={class:"text-gray-700"},Rt=o("span",{class:"text-red-500"},"*",-1),Ft=["value"],Lt={key:0},jt={key:1},Bt={key:2},Et={key:3},Ot={class:"text-gray-700"},It=o("span",{class:"text-red-500"},"*",-1),Nt={class:"text-gray-700"},Zt=o("span",{class:"text-red-500"},"*",-1),Gt={class:"text-gray-700"},Jt=o("span",{class:"text-red-500"},"*",-1),Mt={class:"sm:col-span-2 mt-4"},Pt={class:"text-gray-700",for:"fr"},Kt={class:"flex items-center space-x-4 py-4"},Tt=["src","alt"],At={class:"sm:col-span-2 mt-4"},Ht={class:"text-gray-700",for:"pt"},Qt=o("span",{class:"text-red-500"},"*",-1),Wt={class:"mt-20"},Xt={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Yt={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},co={__name:"DemonstrationEdit",props:{id:{required:!0,type:String}},setup(V){const w=V,b=$(null),q=te(),p=$([]),v=$([]),g=$([]),{zones:h,getZones:c}=ie(),{cities:k,getCities:R}=ae(),{countries:D,getCountries:F}=de(),{currencies:L,getCurrencies:j}=ue(),{continents:B,getContinents:E}=pe(),{errors:C,loading:z,demonstration:n,getDemonstration:O,updateDemonstration:I}=ce(),{demonstrationTypes:N,getDemonstrationTypes:Z}=ye(),{demonstrationModes:G,getDemonstrationModes:J}=me(),{demonstrationNiches:M,getDemonstrationNiches:P}=_e();localStorage.user&&JSON.parse(localStorage.user),oe(()=>x(this,null,function*(){yield O(w.id),yield Z(),yield J(),yield P(),yield j(),yield E(),yield c(),yield F(),yield R(),v.value=h.value.filter(t=>t.continent_id==n.value.continent_id),g.value=D.value.filter(t=>t.zone_id==n.value.zone_id),p.value=k.value.filter(t=>t.country_id==n.value.country_id)}));const K=()=>x(this,null,function*(){let t=new FormData;t.append("title",n.value.title),t.append("description",n.value.description),t.append("price",n.value.price),t.append("image",n.value.image),t.append("email",n.value.email),t.append("hourly",n.value.hourly),t.append("start_date",n.value.start_date),t.append("end_date",n.value.end_date),t.append("phone",n.value.phone),t.append("enter_type",n.value.enter_type),t.append("user_id",n.value.user_id),t.append("currency_id",n.value.currency_id),t.append("place_link",n.value.place_link),t.append("demonstration_type_id",n.value.demonstration_type_id),t.append("demonstration_mode_id",n.value.demonstration_mode_id),t.append("demonstration_niche_id",n.value.demonstration_niche_id),t.append("city_id",n.value.city_id),t.append("zone_id",n.value.zone_id),t.append("continent_id",n.value.continent_id),t.append("country_id",n.value.country_id),t.append("_method","PUT"),yield I(t,w.id),C.value==""&&q.push({name:"admin.event.index"})}),T=()=>{p.value=k.value.filter(t=>t.country_id==n.country_id),n.city_id=""},A=()=>{g.value=D.value.filter(t=>t.zone_id==n.zone_id),n.country_id="",n.city_id="",p.value=[]},H=()=>{v.value=h.value.filter(t=>t.continent_id==n.continent_id),n.zone_id="",n.country_id="",n.city_id="",p.value=[],g.value=[]},Q=()=>x(this,null,function*(){n.value.image=b.value.files[0]});function W(t){return URL.createObjectURL(t)}function X(t){return URL.revokeObjectURL(t)}return(t,a)=>{const Y=S("Error"),ee=S("Spin");return l(),i("div",null,[o("h1",fe,s(t.$tc("edit",1))+" Demonstration ",1),o("section",be,[r(C)!=""?(l(),ne(Y,{key:0},{default:se(()=>[d(s(r(C)),1)]),_:1})):U("",!0),o("form",{onSubmit:a[23]||(a[23]=re(e=>K(),["prevent"])),id:"postform",enctype:"multipart/form-data"},[o("div",ge,[o("div",ve,[o("label",he,[d(s(t.$t("title"))+" ",1),ke]),u(o("input",{required:"","onUpdate:modelValue":a[0]||(a[0]=e=>r(n).title=e),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,r(n).title]]),o("span",we,s(r(n).title?r(n).title.length:0)+" of 50 Characters",1)]),o("div",xe,[o("div",null,[o("label",$e,[d(s(t.$t("event-type"))+" ",1),Ue]),u(o("select",{required:"","onUpdate:modelValue":a[1]||(a[1]=e=>r(n).demonstration_type_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),i(_,null,f(r(N),e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",qe,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",Ce,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",De,s(e.name_es),1)):(l(),i("span",ze,s(e.name_pt),1))],8,Ve))),128))],512),[[y,r(n).demonstration_type_id]])]),o("div",null,[o("label",Se,[d(s(t.$t("event-mode"))+" ",1),Re]),u(o("select",{required:"","onUpdate:modelValue":a[2]||(a[2]=e=>r(n).demonstration_mode_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),i(_,null,f(r(G),e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",Le,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",je,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",Be,s(e.name_es),1)):(l(),i("span",Ee,s(e.name_pt),1))],8,Fe))),128))],512),[[y,r(n).demonstration_mode_id]])]),o("div",null,[o("label",Oe,[d(s(t.$t("continent"))+" ",1),Ie]),u(o("select",{required:"","onUpdate:modelValue":a[3]||(a[3]=e=>r(n).continent_id=e),onChange:a[4]||(a[4]=e=>H()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),i(_,null,f(r(B),e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",Ze,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",Ge,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",Je,s(e.name_es),1)):(l(),i("span",Me,s(e.name_pt),1))],8,Ne))),128))],544),[[y,r(n).continent_id]])]),o("div",null,[o("label",Pe,[d(s(t.$t("zoned"))+" ",1),Ke]),u(o("select",{required:"","onUpdate:modelValue":a[5]||(a[5]=e=>r(n).zone_id=e),onChange:a[6]||(a[6]=e=>A()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[v.value.length!=0?(l(!0),i(_,{key:0},f(v.value,e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",Ae,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",He,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",Qe,s(e.name_es),1)):(l(),i("span",We,s(e.name_pt),1))],8,Te))),128)):(l(),i("option",Xe," Requires "+s(t.$t("continent")),1))],544),[[y,r(n).zone_id]])]),o("div",null,[o("label",Ye,[d(s(t.$t("country"))+" ",1),et]),u(o("select",{required:"",onChange:a[7]||(a[7]=e=>T()),"onUpdate:modelValue":a[8]||(a[8]=e=>r(n).country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[g.value.length!=0?(l(!0),i(_,{key:0},f(g.value,e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",ot,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",nt,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",st,s(e.name_es),1)):(l(),i("span",rt,s(e.name_pt),1))],8,tt))),128)):(l(),i("option",lt," Requires "+s(t.$t("zoned")),1))],544),[[y,r(n).country_id]])]),o("div",null,[o("label",it,[d(s(t.$t("city"))+" ",1),at]),u(o("select",{required:"","onUpdate:modelValue":a[9]||(a[9]=e=>r(n).city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[p.value.length!=0?(l(!0),i(_,{key:0},f(p.value,e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",ut,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",pt,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",ct,s(e.name_es),1)):(l(),i("span",mt,s(e.name_pt),1))],8,dt))),128)):(l(),i("option",yt," Requires "+s(t.$t("country")),1))],512),[[y,r(n).city_id]])]),o("div",_t,[o("label",ft,[d(s(t.$t("location-link"))+" ",1),bt]),u(o("input",{required:"","onUpdate:modelValue":a[10]||(a[10]=e=>r(n).place_link=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,r(n).place_link]])]),o("div",gt,[o("label",vt,[d(s(t.$t("enter-type")),1),ht]),u(o("select",{required:"","onUpdate:modelValue":a[11]||(a[11]=e=>r(n).enter_type=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},xt,512),[[y,r(n).enter_type]])]),o("div",null,[o("label",$t,s(t.$t("price")),1),u(o("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>r(n).price=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,r(n).price]])]),o("div",null,[o("label",Ut,s(t.$t("currency")),1),u(o("select",{"onUpdate:modelValue":a[13]||(a[13]=e=>r(n).currency_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),i(_,null,f(r(L),e=>(l(),i("option",{key:e.id,value:e.id},s(e.symbol+" "+e.name),9,Vt))),128))],512),[[y,r(n).currency_id]])]),o("div",null,[o("label",qt,[d(s(t.$t("start-date"))+" ",1),Ct]),u(o("input",{"onUpdate:modelValue":a[14]||(a[14]=e=>r(n).start_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,r(n).start_date]])]),o("div",null,[o("label",Dt,[d(s(t.$t("end-date"))+" ",1),zt]),u(o("input",{"onUpdate:modelValue":a[15]||(a[15]=e=>r(n).end_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,r(n).end_date]])]),o("div",null,[o("label",St,[d(s(t.$t("niche"))+" ",1),Rt]),u(o("select",{required:"","onUpdate:modelValue":a[16]||(a[16]=e=>r(n).demonstration_niche_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),i(_,null,f(r(M),e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",Lt,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",jt,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",Bt,s(e.name_es),1)):(l(),i("span",Et,s(e.name_pt),1))],8,Ft))),128))],512),[[y,r(n).demonstration_niche_id]])]),o("div",null,[o("label",Ot,[d(s(t.$t("hour"))+" ",1),It]),u(o("input",{"onUpdate:modelValue":a[17]||(a[17]=e=>r(n).hourly=e),type:"time",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,r(n).hourly]])]),o("div",null,[o("label",Nt,[d(s(t.$t("contact-phone"))+" ",1),Zt]),u(o("input",{required:"","onUpdate:modelValue":a[18]||(a[18]=e=>r(n).phone=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,r(n).phone]])]),o("div",null,[o("label",Gt,[d(s(t.$t("contact-email"))+" ",1),Jt]),u(o("input",{required:"","onUpdate:modelValue":a[19]||(a[19]=e=>r(n).email=e),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,r(n).email]])])]),o("div",Mt,[o("label",Pt,s(t.$t("thumbnails")),1),o("div",Kt,[r(n).image?(l(),i("img",{key:0,src:typeof r(n).image=="string"?r(n).image:W(r(n).image),onLoad:a[20]||(a[20]=e=>typeof r(n).image=="string"?"":X(r(n).image)),class:"h-16 w-16 rounded-full",alt:r(n).title},null,40,Tt)):U("",!0),o("input",{ref_key:"file",ref:b,onChange:a[21]||(a[21]=e=>Q()),accept:"image/*",type:"file",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)])]),o("div",At,[o("label",Ht,[d(s(t.$t("description"))+" ",1),Qt]),u(o("textarea",{required:"",type:"text","onUpdate:modelValue":a[22]||(a[22]=e=>r(n).description=e),id:"pt",class:"mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`
                        `,512),[[m,r(n).description]])])]),o("div",Wt,[r(z)==0?(l(),i("button",Xt,s(t.$t("save")),1)):U("",!0),r(z)==1?(l(),i("button",Yt,[d(s(t.$t("save"))+"... ",1),le(ee,{size:"small"})])):U("",!0)])],32)])])}}};export{co as default};
