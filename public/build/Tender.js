var re=Object.defineProperty;var I=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var J=(c,u,d)=>u in c?re(c,u,{enumerable:!0,configurable:!0,writable:!0,value:d}):c[u]=d,O=(c,u)=>{for(var d in u||(u={}))le.call(u,d)&&J(c,d,u[d]);if(I)for(var d of I(u))ie.call(u,d)&&J(c,d,u[d]);return c};var f=(c,u,d)=>new Promise((j,k)=>{var T=p=>{try{C(d.next(p))}catch(z){k(z)}},A=p=>{try{C(d.throw(p))}catch(z){k(z)}},C=p=>p.done?j(p.value):Promise.resolve(p.value).then(T,A);C((d=d.apply(c,u)).next())});import{d as t,e as o,f as s,F as v,x as h,g as b,h as i,R as de,u as ue,r as w,o as ce,T as ye,a as pe,b as G,t as a,l as x,X as me,k as y,i as _e,w as L,I as g,K as H,J as $,U as fe}from"./app.js";import{u as ge}from"./tenderServices.js";import{u as ve}from"./currencyServices.js";import{u as he}from"./activityAreaServices.js";import{u as be}from"./countryServices.js";import{u as ke}from"./zoneServices.js";import{u as we}from"./continentServices.js";import{u as xe}from"./cityServices.js";import{r as $e}from"./PhotoIcon.js";import{r as Ce}from"./PlusCircleIcon.js";import{r as ze}from"./BuildingOffice2Icon.js";import{r as Ve,a as je}from"./MapPinIcon.js";const Ue={class:"animate-pulse"},Te={class:"space-y-3 py-8"},Ae={class:"mx-auto h-16 w-16 overflow-hidden"},Fe=de('<div class="flex w-5/6 flex-col items-start justify-center p-6"><div class="mb-4 h-5 w-32 rounded-md bg-gray-200"></div><div class="mb-4 h-2.5 w-5/6 rounded-full bg-gray-200"></div><div class="flex w-full items-center justify-between"><div class="mb-4 h-2.5 w-1/5 rounded-full bg-gray-200"></div><div class="mb-4 h-2.5 w-3/5 rounded-full bg-gray-200"></div></div></div>',1),P={__name:"Tender",setup(c){const u=[1,2,3,4];return(d,j)=>(t(),o("div",Ue,[s("div",Te,[(t(),o(v,null,h(u,k=>s("div",{key:k,class:"flex items-center rounded bg-gray-100 shadow"},[s("div",Ae,[b(i($e),{class:"h-full w-full text-gray-200"})]),Fe])),64))])]))}},Se={class:"mx-auto w-full bg-white py-4 xl:w-[90%]"},Ne={class:"py-4 text-center text-5xl font-bold capitalize text-primary-blue"},Be={class:"py-8 px-6 lg:px-16"},Ke={class:"flex justify-end px-6 py-4"},Re={key:1},De={key:3},Le={key:0,class:"space-y-3 bg-gray-100 px-10 pb-8 pt-4 text-xs shadow lg:text-sm"},Me={class:"grid grid-cols-1 gap-2 lg:grid-cols-2"},qe={class:"dark:text-gray-200 text-gray-700"},Ee={class:"dark:text-gray-200 text-gray-700"},Ze=s("option",{value:""},"--------------",-1),Ie=["value"],Je={key:0},Oe={key:1},Ge={key:2},He={key:3},Pe={class:"grid grid-cols-1 gap-2 lg:grid-cols-4"},Xe={class:""},Qe={class:"text-gray-700",for:"es"},We=s("option",{value:""},"--------------",-1),Ye=["value"],et={key:0},tt={key:1},st={key:2},ot={key:3},nt={class:""},at={class:"text-gray-700",for:"es"},rt=s("option",{value:""},"--------------",-1),lt=["value"],it={key:0},dt={key:1},ut={key:2},ct={key:3},yt={key:1,value:"null"},pt={class:""},mt={class:"text-gray-700",for:"es"},_t=s("option",{value:""},"--------------",-1),ft=["value"],gt={key:0},vt={key:1},ht={key:2},bt={key:3},kt={key:1,value:"null"},wt={class:""},xt={class:"text-gray-700",for:"es"},$t=s("option",{value:""},"--------------",-1),Ct=["value"],zt={key:0},Vt={key:1},jt={key:2},Ut={key:3},Tt={key:1,value:"null"},At={class:"grid grid-cols-1 gap-2 lg:grid-cols-3"},Ft={class:"dark:text-gray-200 text-gray-700",for:"es"},St={class:"dark:text-gray-200 text-gray-700",for:"es"},Nt=s("option",{value:""},"--------------",-1),Bt=["value"],Kt={key:0,class:"bg-primary-blue p-2 shadow"},Rt={key:1,class:"flex justify-end px-6 py-4"},Dt={class:"text-base leading-4"},Lt={class:"flex items-center space-x-4"},Mt={class:"hidden lg:block"},qt=["src"],Et={class:"capitalize"},Zt={class:"font-bold capitalize text-gray-500"},It={class:"hidden justify-start space-x-4 font-light capitalize text-gray-500 lg:flex"},Jt={class:"flex items-center justify-center space-x-2"},Ot={key:0,class:"flex items-center justify-start space-x-2"},Gt={class:""},Ht={class:"capitalize"},is={__name:"Tender",setup(c){const{locale:u}=ue(),{currencies:d,getCurrencies:j}=ve(),{activityAreas:k,getActivityAreas:T}=he(),{zones:A,getZones:C}=ke(),{continents:p,getContinents:z}=we(),{countries:X,getCountries:Q}=be(),{cities:W,getCities:Y}=xe(),{tenders:F,filterTenders:ee,getTendersFront:S,loading:N,isAll:M,page:B}=ge(),q=localStorage.user?JSON.parse(localStorage.user):"",K=w([]),U=w([]),V=w([]),R=w(null),D=w(!0);ce(()=>f(this,null,function*(){window.addEventListener("scroll",E),yield S(),yield j(),yield z(),yield C(),yield T(),yield Q(),yield Y()})),ye(()=>f(this,null,function*(){B.value=1,window.removeEventListener("scroll",E)}));const E=r=>f(this,null,function*(){R.value&&R.value.getBoundingClientRect().bottom<window.innerHeight&&D.value&&!M.value&&n.country==""&&n.continent==""&&n.zone==""&&n.activity_area==""&&n.city==""&&n.min_price==""&&n.currency==""&&(D.value=!1,B.value++,yield S(),D.value=!0)}),m=w(!0),n=pe({country:"",continent:"",zone:"",activity_area:"",city:"",min_price:"",currency:"",searchKey:""}),te=()=>{m.value=!m.value},_=()=>f(this,null,function*(){n.country!=""||n.continent!=""||n.zone!=""||n.activity_area!=""||n.city!=""||n.min_price!=""||n.currency!=""||n.searchKey!=""?(n.min_price=n.min_price.trim().replaceAll(" ",""),yield ee(O({},n))):(B.value=1,M.value=!1,yield S())}),se=()=>f(this,null,function*(){V.value=W.value.filter(r=>r.country_id==n.country),n.city="",yield _()}),oe=()=>f(this,null,function*(){U.value=X.value.filter(r=>r.zone_id==n.zone),n.country="",n.city="",V.value=[],yield _()}),ne=()=>f(this,null,function*(){K.value=A.value.filter(r=>r.continent_id==n.continent),n.zone="",n.country="",n.city="",V.value=[],U.value=[],yield _()});return(r,l)=>{const Z=G("router-link"),ae=G("NoContent");return t(),o("div",Se,[s("h1",Ne,a(r.$t("appel d'offre")),1),s("div",Be,[s("div",Ke,[s("button",{onClick:l[0]||(l[0]=e=>te()),class:"flex items-center justify-start text-sm text-primary-blue hover:underline"},[m.value?(t(),x(i(me),{key:0,class:"h-5 w-5"})):y("",!0),m.value?(t(),o("span",Re,a(r.$t("hide-filter")),1)):y("",!0),m.value?y("",!0):(t(),x(i(_e),{key:2,class:"h-5 w-5"})),m.value?y("",!0):(t(),o("span",De,a(r.$t("show-filter")),1))])]),b(fe,{"enter-active-class":" transition-all  ","enter-from-class":" opacity-0  -translate-y-full","enter-to-class":"  opacity-1 translate-y-0","leave-active-class":"","leave-from-class":"","leave-to-class":""},{default:L(()=>[m.value?(t(),o("div",Le,[s("div",Me,[s("div",null,[s("label",qe,a(r.$t("key-words")),1),g(s("input",{type:"text",onChange:l[1]||(l[1]=e=>_()),"onUpdate:modelValue":l[2]||(l[2]=e=>n.searchKey=e),class:"form-input mt-1 block w-full rounded-md border border-gray-200 bg-white px-3 pr-2 text-gray-700 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,544),[[H,n.searchKey]])]),s("div",null,[s("label",Ee,a(r.$t("activity-area")),1),g(s("select",{onChange:l[3]||(l[3]=e=>_()),"onUpdate:modelValue":l[4]||(l[4]=e=>n.activity_area=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Ze,(t(!0),o(v,null,h(i(k),e=>(t(),o("option",{key:e.id,value:e.id},[r.$i18n.locale=="en"?(t(),o("span",Je,a(e.name_en),1)):r.$i18n.locale=="fr"?(t(),o("span",Oe,a(e.name_fr),1)):r.$i18n.locale=="es"?(t(),o("span",Ge,a(e.name_es),1)):(t(),o("span",He,a(e.name_pt),1))],8,Ie))),128))],544),[[$,n.activity_area]])])]),s("div",Pe,[s("div",Xe,[s("label",Qe,a(r.$t("continent")),1),g(s("select",{onChange:l[5]||(l[5]=e=>ne()),"onUpdate:modelValue":l[6]||(l[6]=e=>n.continent=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[We,(t(!0),o(v,null,h(i(p),e=>(t(),o("option",{key:e.id,value:e.id},[r.$i18n.locale=="en"?(t(),o("span",et,a(e.name_en),1)):r.$i18n.locale=="fr"?(t(),o("span",tt,a(e.name_fr),1)):r.$i18n.locale=="es"?(t(),o("span",st,a(e.name_es),1)):(t(),o("span",ot,a(e.name_pt),1))],8,Ye))),128))],544),[[$,n.continent]])]),s("div",nt,[s("label",at,a(r.$t("zoned")),1),g(s("select",{onChange:l[7]||(l[7]=e=>oe()),"onUpdate:modelValue":l[8]||(l[8]=e=>n.zone=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[rt,K.value.length!=0?(t(!0),o(v,{key:0},h(K.value,e=>(t(),o("option",{key:e.id,value:e.id},[r.$i18n.locale=="en"?(t(),o("span",it,a(e.name_en),1)):r.$i18n.locale=="fr"?(t(),o("span",dt,a(e.name_fr),1)):r.$i18n.locale=="es"?(t(),o("span",ut,a(e.name_es),1)):(t(),o("span",ct,a(e.name_pt),1))],8,lt))),128)):(t(),o("option",yt," Requires "+a(r.$t("continent")),1))],544),[[$,n.zone]])]),s("div",pt,[s("label",mt,a(r.$t("country")),1),g(s("select",{onChange:l[9]||(l[9]=e=>se()),"onUpdate:modelValue":l[10]||(l[10]=e=>n.country=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[_t,U.value.length!=0?(t(!0),o(v,{key:0},h(U.value,e=>(t(),o("option",{key:e.id,value:e.id},[r.$i18n.locale=="en"?(t(),o("span",gt,a(e.name_en),1)):r.$i18n.locale=="fr"?(t(),o("span",vt,a(e.name_fr),1)):r.$i18n.locale=="es"?(t(),o("span",ht,a(e.name_es),1)):(t(),o("span",bt,a(e.name_pt),1))],8,ft))),128)):(t(),o("option",kt," Requires "+a(r.$t("zoned")),1))],544),[[$,n.country]])]),s("div",wt,[s("label",xt,a(r.$t("city")),1),g(s("select",{onChange:l[11]||(l[11]=e=>_()),"onUpdate:modelValue":l[12]||(l[12]=e=>n.city=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[$t,V.value.length!=0?(t(!0),o(v,{key:0},h(V.value,e=>(t(),o("option",{key:e.id,value:e.id},[r.$i18n.locale=="en"?(t(),o("span",zt,a(e.name_en),1)):r.$i18n.locale=="fr"?(t(),o("span",Vt,a(e.name_fr),1)):r.$i18n.locale=="es"?(t(),o("span",jt,a(e.name_es),1)):(t(),o("span",Ut,a(e.name_pt),1))],8,Ct))),128)):(t(),o("option",Tt," Requires "+a(r.$t("country")),1))],544),[[$,n.city]])])]),s("div",At,[s("div",null,[s("label",Ft,a(r.$t("salary"))+" Min. ",1),g(s("input",{"onUpdate:modelValue":l[13]||(l[13]=e=>n.min_price=e),onChange:l[14]||(l[14]=e=>_()),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544),[[H,n.min_price]])]),s("div",null,[s("label",St,a(r.$t("currency")),1),g(s("select",{onChange:l[15]||(l[15]=e=>_()),"onUpdate:modelValue":l[16]||(l[16]=e=>n.currency=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Nt,(t(!0),o(v,null,h(i(d),e=>(t(),o("option",{key:e.id,value:e.id},a(e.symbol+" "+e.name),9,Bt))),128))],544),[[$,n.currency]])])])])):y("",!0)]),_:1}),m.value?(t(),o("div",Kt)):y("",!0),i(q).type!="particular"&&i(q).type!="business1"?(t(),o("div",Rt,[b(Z,{to:{name:"add.tender"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:L(()=>[b(i(Ce),{class:"h-6 w-6"}),s("p",Dt,a(r.$t("add"))+" AO ",1)]),_:1},8,["to"])])):y("",!0),i(N)==3?(t(),x(P,{key:2})):i(F).length!=0?(t(),o("div",{key:3,ref_key:"tenderContainer",ref:R,class:"text-lg"},[(t(!0),o(v,null,h(i(F),e=>(t(),o("div",{key:e.id},[b(Z,{to:{name:"show.tender",params:{id:e.id,slug:e.slug}},class:"flex items-center justify-between border-b border-gray-200 px-2 py-4 hover:bg-gray-100"},{default:L(()=>[s("div",Lt,[s("div",Mt,[e.company_logo?(t(),o("img",{key:0,src:e.company_logo,alt:"",class:"h-16 w-16 object-cover"},null,8,qt)):(t(),x(i(ze),{key:1,class:"h-16 w-16 text-gray-500"}))]),s("div",null,[s("h1",Et,a(e.title),1),s("h2",Zt,a(e.company_name),1)]),s("div",It,[s("h1",Jt,[b(i(Ve),{class:"h-5 w-5"}),s("span",null,a(e.location),1)]),e.currency?(t(),o("h2",Ot,[b(i(je),{class:"h-5 w-5"}),s("span",null,a(e.min_price+e.currency.symbol)+" - "+a(e.max_price+e.currency.symbol),1)])):y("",!0)])]),s("div",Gt,[s("h1",Ht," Publi\xE9 le: "+a(new Date(e.date).toLocaleDateString(i(u),{day:"numeric",year:"numeric",month:"long"})),1)])]),_:2},1032,["to"])]))),128))],512)):y("",!0),i(N)==1?(t(),x(P,{key:4})):y("",!0),i(F).length==0&&i(N)!=1?(t(),x(ae,{key:5})):y("",!0)])])}}};export{is as default};
