var r=(u,c,a)=>new Promise((e,g)=>{var y=s=>{try{P(a.next(s))}catch(t){g(t)}},p=s=>{try{P(a.throw(s))}catch(t){g(t)}},P=s=>s.done?e(s.value):Promise.resolve(s.value).then(y,p);P((a=a.apply(u,c)).next())});import{G as d,r as i,p as l}from"./app.js";function C(){d();const u=i([]),c=i([]),a=i(""),e=i(0);return{categoryPersonalPosts:u,categoryPersonalPost:c,errors:a,loading:e,getCategoryPersonalPosts:()=>r(this,null,function*(){a.value="",e.value=!0;let t=yield l.get("/api/categoryPersonalPosts",{headers:{Authorization:`Bearer ${localStorage.token}`}});u.value=t.data.data,e.value=!1}),getCategoryPersonalPost:t=>r(this,null,function*(){a.value="",e.value=!0;let o=yield l.get("/api/categoryPersonalPosts/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,c.value=o.data.data}),createCategoryPersonalPost:t=>r(this,null,function*(){a.value="";try{e.value=!0,yield l.post("/api/categoryPersonalPosts",t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(o){if(o.response.status==422){e.value=0;for(const n in o.response.data.errors)a.value+=o.response.data.errors[n][0]+`
`}}}),updateCategoryPersonalPost:(t,o)=>r(this,null,function*(){a.value="";try{e.value=!0,yield l.put("/api/categoryPersonalPosts/"+o,t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(n){if(e.value=0,n.response.status==422)for(const v in n.response.data.errors)a.value+=n.response.data.errors[v][0]+`	
`}}),destroyCategoryPersonalPost:t=>r(this,null,function*(){a.value="";try{e.value=!0,yield l.delete(`/api/categoryPersonalPosts/${JSON.stringify(t)}`,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(o){e.value=0,o.response.status=="500"&&(a.value="Impossible de supprimer cette category")}})}}export{C as u};
