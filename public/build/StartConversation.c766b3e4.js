var f=(o,n,i)=>new Promise((u,m)=>{var g=s=>{try{d(i.next(s))}catch(v){m(v)}},c=s=>{try{d(i.throw(s))}catch(v){m(v)}},d=s=>s.done?u(s.value):Promise.resolve(s.value).then(g,c);d((i=i.apply(o,n)).next())});import{d as t,e as l,f as e,r as p,b as C,I as y,L as M,g as w,h as r,K as S,F as b,x as B,l as z,t as _,k as x,N as V}from"./app.59e8d623.js";import{u as $}from"./userServices.7388dd6e.js";import{r as N}from"./UserCircleIcon.87b9d93c.js";function te(o,n){return t(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25a.75.75 0 01.75.75v11.69l3.22-3.22a.75.75 0 111.06 1.06l-4.5 4.5a.75.75 0 01-1.06 0l-4.5-4.5a.75.75 0 111.06-1.06l3.22 3.22V3a.75.75 0 01.75-.75zm-9 13.5a.75.75 0 01.75.75v2.25a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5V16.5a.75.75 0 011.5 0v2.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V16.5a.75.75 0 01.75-.75z","clip-rule":"evenodd"})])}function ae(o,n){return t(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 00-1.032-.211 50.89 50.89 0 00-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 002.433 3.984L7.28 21.53A.75.75 0 016 21v-4.03a48.527 48.527 0 01-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979z"}),e("path",{d:"M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 001.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0015.75 7.5z"})])}function U(o,n){return t(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z","clip-rule":"evenodd"})])}function le(o,n){return t(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})])}const A={class:"fixed inset-0 z-40 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},F={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},T=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),H={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg align-middle"},L={class:"relative rounded-lg bg-white py-4 shadow"},j={class:"relative mx-2"},D={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},I={class:"max-h-96 overflow-y-auto"},q={key:0,class:"py-10"},E={key:1,class:"mt-10 flex flex-col"},J=["onClick"],K={class:"block h-32 w-32 overflow-hidden rounded-full shadow lg:h-20 lg:w-20"},O=["src"],R={key:0},G={class:"text-xs font-light lg:text-sm"},P={key:2},se={__name:"StartConversation",props:{open:Boolean,toogleModal:Function,conversationSelect:Function},setup(o){const{filterUserConversation:n,loading:i,users:u,errors:m}=$(),g=JSON.parse(localStorage.user),c=p(""),d=p(!1),s=p(null),v=()=>f(this,null,function*(){s.value&&clearTimeout(s.value),s.value=setTimeout(()=>f(this,null,function*(){d.value=!0,yield n(c.value)}),1e3)});return(Q,h)=>{const k=C("Spin");return y((t(),l("div",A,[e("div",F,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",style:{"backdrop-filter":"blur(5px)"},onClick:h[0]||(h[0]=(...a)=>o.toogleModal&&o.toogleModal(...a))}),T,e("div",H,[e("div",L,[e("div",j,[e("div",D,[w(r(U),{class:"h-5 w-5 text-gray-500"})]),y(e("input",{type:"text",onInput:v,"onUpdate:modelValue":h[1]||(h[1]=a=>c.value=a),class:"block w-full rounded-sm border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500",placeholder:"Rechercher...",required:""},null,544),[[S,c.value]])]),e("div",I,[r(i)?(t(),l("div",q,[w(k)])):r(u)&&r(u).length!=0?(t(),l("div",E,[(t(!0),l(b,null,B(r(u),a=>(t(),l("div",{key:a.id,onClick:W=>o.conversationSelect(a),class:"flex cursor-pointer items-center gap-3 bg-white px-4 py-2 hover:bg-gray-100"},[r(g).id!=a.id?(t(),l(b,{key:0},[e("div",K,[a.avatar?(t(),l("img",{key:0,src:a.avatar,class:"h-full w-full bg-cover object-cover",alt:""},null,8,O)):(t(),z(r(N),{key:1,class:"h-full w-full text-gray-500"}))]),e("div",null,[e("h2",null,[e("span",null,_(a.firstname),1),a.lastname?(t(),l("span",R,_(" "+a.lastname),1)):x("",!0)]),e("p",G,_(a.email),1)])],64)):x("",!0)],8,J))),128))])):c.value.length!=0&&d.value?(t(),l("div",P,[w(V)])):x("",!0)])])])])],512)),[[M,o.open]])}}};export{se as _,U as a,te as b,le as c,ae as r};
