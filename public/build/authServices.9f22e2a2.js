var o=(s,r,e)=>new Promise((n,i)=>{var d=t=>{try{l(e.next(t))}catch(a){i(a)}},v=t=>{try{l(e.throw(t))}catch(a){i(a)}},l=t=>t.done?n(t.value):Promise.resolve(t.value).then(d,v);l((e=e.apply(s,r)).next())});import{r as c,G as g,p as u}from"./app.59e8d623.js";function y(){const s=c([]),r=c(""),e=c(0),n=g();return{createUser:t=>o(this,null,function*(){r.value="";try{e.value=!0,yield u.post("/api/register",t),e.value=2}catch(a){e.value=0;for(const p in a.response.data.errors)r.value+=a.response.data.errors[p][0]+`
`}}),errors:r,loading:e,user:s,loginUser:t=>o(this,null,function*(){r.value="";try{e.value=!0;let a=yield u.post("/api/login",t);s.value=a.data.data,localStorage.user=JSON.stringify(a.data.data.user),localStorage.token=a.data.data.token,e.value=!1}catch(a){e.value=0,r.value=a.response.data.message}}),loginAdmin:t=>o(this,null,function*(){r.value="";try{e.value=!0;let a=yield u.post("/api/login-admin",t);localStorage.user=JSON.stringify(a.data.data.user),localStorage.token=a.data.data.token,e.value=!1,n.push({name:"admin.dash"})}catch(a){e.value=0,r.value="invalid email or password"}}),verifAdmin:t=>o(this,null,function*(){r.value="";try{e.value=!0;let a=yield u.post("/api/verif-admin",t);return s.value=a.data.data,e.value=!1,!0}catch(a){e.value=0,r.value="Your not a admin",n.push({name:"admin"})}})}}export{y as u};
