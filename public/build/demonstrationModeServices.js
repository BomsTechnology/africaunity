var r=(u,d,t)=>new Promise((e,p)=>{var v=s=>{try{l(t.next(s))}catch(a){p(a)}},m=s=>{try{l(t.throw(s))}catch(a){p(a)}},l=s=>s.done?e(s.value):Promise.resolve(s.value).then(v,m);l((t=t.apply(u,d)).next())});import{G as g,r as c,p as i}from"./app.js";function h(){g();const u=c([]),d=c([]),t=c(""),e=c(0);return{demonstrationModes:u,demonstrationMode:d,errors:t,loading:e,getDemonstrationModes:()=>r(this,null,function*(){t.value="",e.value=!0;let a=yield i.get("/api/demonstrationModes",{headers:{Authorization:`Bearer ${localStorage.token}`}});u.value=a.data.data,e.value=!1}),getDemonstrationMode:a=>r(this,null,function*(){t.value="",e.value=!0;let o=yield i.get("/api/demonstrationModes/"+a,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,d.value=o.data.data}),createDemonstrationMode:a=>r(this,null,function*(){t.value="";try{e.value=!0,yield i.post("/api/demonstrationModes",a,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(o){if(o.response.status==422){e.value=0;for(const n in o.response.data.errors)t.value+=o.response.data.errors[n][0]+`
`}}}),updateDemonstrationMode:(a,o)=>r(this,null,function*(){t.value="";try{e.value=!0,yield i.put("/api/demonstrationModes/"+o,a,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(n){if(e.value=0,n.response.status==422)for(const M in n.response.data.errors)t.value+=n.response.data.errors[M][0]+`	
`}}),destroyDemonstrationMode:a=>r(this,null,function*(){t.value="";try{e.value=!0,yield i.delete(`/api/demonstrationModes/${JSON.stringify(a)}`,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(o){e.value=0,o.response.status=="500"&&(t.value="Impossible de supprimer cette category")}})}}export{h as u};
