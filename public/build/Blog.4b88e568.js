import{u as M,r as m,o as q,c as z,d as o,e as a,h as i,g as u,f as s,t as l,I as f,K as D,J as b,F as k,x as C,w as g,l as L,j as v,b as h}from"./app.4a599ac6.js";import{u as U}from"./personalPostsServices.74d2f061.js";import{u as F}from"./categoryPersonalPostServices.cba8097f.js";import{r as I}from"./PlusCircleIcon.f06913c1.js";import{r as J}from"./BookOpenIcon.a4e12fb7.js";import{r as K}from"./UserIcon.89d23898.js";import{r as T}from"./CalendarIcon.39e8b1fb.js";const A={class:"mx-auto flex min-h-screen w-full bg-white p-4 text-lg md:space-y-2 lg:flex-row lg:space-x-2 xl:w-[90%]"},E={key:0,class:"py-6 w-full"},O={key:1,class:"w-full"},G={class:"text-center text-5xl font-bold capitalize text-primary-blue"},H={class:"mt-8 flex flex-col-reverse items-center justify-between px-6 py-2 space-x-4 w-full lg:flex-row"},Q={class:"items-center w-full space-y-2 lg:space-y-0 space-x-0 lg:space-x-2 flex lg:flex-row flex-col"},R={class:""},W={class:"relative lg:w-auto w-full"},X=s("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[s("svg",{class:"h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),Y={class:"w-full"},Z=s("option",{value:"",disabled:""},"Select Language",-1),ee={value:"fr"},se={value:"en"},te={value:"es"},oe={value:"pt"},le={class:"w-full"},ae=s("option",{value:""},"Select theme",-1),re=["value"],ne={key:0},ie={key:1},ue={key:2},ce={key:3},de={class:"lg:w-2/6 w-full justify-center flex lg:justify-end"},_e={class:"text-base leading-4"},pe={key:0,class:"grid gap-8 px-6 py-8 lg:grid-cols-4 md:grid-cols-2 grid-cols-1"},ge=["src"],me={class:"p-6"},fe={href:"#",class:"rounded py-1 px-2 text-xs capitalize text-white bg-primary-blue"},ve={key:0},he={key:1},ye={key:2},we={key:3},xe={class:"mt-4 flex items-center justify-between text-sm"},be={class:"flex items-center space-x-2 text-xs text-gray-500"},ke={class:"flex space-x-1"},Ce={class:"hidden space-x-1 lg:flex"},Le={href:"#",class:"hover:text-primary-blue"},qe={__name:"Blog",setup($e){const{locale:_}=M(),y=m(JSON.parse(localStorage.user)),{personalPosts:$,loading:P,getPersonalPostsLang:w}=U(),{categoryPersonalPosts:S,getCategoryPersonalPosts:j}=F(),r=m(""),d=m(""),n=m("");q(async function(){n.value=_.value,await w(n.value),await j()});const x=z(()=>$.value.filter(t=>d.value!=""&&n.value!=""?(t.title.toLowerCase().includes(r.value.toLowerCase())||t.content.toLowerCase().includes(r.value.toLowerCase()))&&t.category_personal_post_id==d.value&&t.language==n.value:n.value!=""?(t.title.toLowerCase().includes(r.value.toLowerCase())||t.content.toLowerCase().includes(r.value.toLowerCase()))&&t.language==n.value:d.value!=""?(t.title.toLowerCase().includes(r.value.toLowerCase())||t.content.toLowerCase().includes(r.value.toLowerCase()))&&t.category_personal_post_id==d.value:t.title.toLowerCase().includes(r.value.toLowerCase())||t.content.toLowerCase().includes(r.value.toLowerCase()))),B=async()=>{_.value=n.value,localStorage.lang=_,await w(_.value)};return(t,c)=>{const N=h("Spin"),p=h("router-link"),V=h("NoContent");return o(),a("div",A,[i(P)==1?(o(),a("div",E,[u(N)])):(o(),a("div",O,[s("h1",G,l(t.$t("personal-blog"))+" Post ",1),s("div",H,[s("div",Q,[s("div",R,[s("div",W,[X,f(s("input",{type:"text",id:"table-search","onUpdate:modelValue":c[0]||(c[0]=e=>r.value=e),class:"block w-80 rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500",placeholder:"Search"},null,512),[[D,r.value]])])]),s("div",Y,[f(s("select",{"onUpdate:modelValue":c[1]||(c[1]=e=>n.value=e),onChange:c[2]||(c[2]=e=>B()),class:"form-select block w-full rounded-md border border-gray-200 bg-gray-50 py-2 pr-8 pl-4 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Z,s("option",ee,l(t.$t("fr")),1),s("option",se,l(t.$t("en")),1),s("option",te,l(t.$t("es")),1),s("option",oe,l(t.$t("pt")),1)],544),[[b,n.value]])]),s("div",le,[f(s("select",{"onUpdate:modelValue":c[3]||(c[3]=e=>d.value=e),class:"form-select block w-full rounded-md border border-gray-200 bg-gray-50 py-2 pr-8 pl-4 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[ae,(o(!0),a(k,null,C(i(S),e=>(o(),a("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(o(),a("span",ne,l(e.name_en),1)):t.$i18n.locale=="fr"?(o(),a("span",ie,l(e.name_fr),1)):t.$i18n.locale=="es"?(o(),a("span",ue,l(e.name_es),1)):(o(),a("span",ce,l(e.name_pt),1))],8,re))),128))],512),[[b,d.value]])])]),s("div",de,[u(p,{to:{name:"compte",params:{slug:y.value.slug,id:y.value.id},query:{personal_post:"create"},hash:"#personal_post"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:g(()=>[u(i(I),{class:"h-6 w-6"}),s("p",_e,l(t.$tc("add",1))+" Post ",1)]),_:1},8,["to"])])]),i(x).length!=0?(o(),a("div",pe,[(o(!0),a(k,null,C(i(x),e=>(o(),a("div",{class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-md",key:e.id},[u(p,{to:{name:"compte",params:{id:e.user.id,slug:e.user.slug},query:{personal_post:e.id},hash:"#personal_post"}},{default:g(()=>[e.image?(o(),a("img",{key:0,class:"h-44 w-full object-cover",src:e.image,alt:""},null,8,ge)):(o(),L(i(J),{key:1,class:"h-44 w-full text-gray-500"}))]),_:2},1032,["to"]),s("div",me,[s("div",null,[s("a",fe,[t.$i18n.locale=="en"?(o(),a("span",ve,l(e.category_personal_post.name_en),1)):t.$i18n.locale=="fr"?(o(),a("span",he,l(e.category_personal_post.name_fr),1)):t.$i18n.locale=="es"?(o(),a("span",ye,l(e.category_personal_post.name_es),1)):(o(),a("span",we,l(e.category_personal_post.name_pt),1))]),u(p,{to:{name:"compte",params:{id:e.user.id,slug:e.user.slug},query:{personal_post:e.id},hash:"#personal_post"},class:"dark:text-white mt-2 block transform text-2xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600 hover:underline"},{default:g(()=>[v(l(e.title.length<=20?e.title:e.title.substring(0,19)+"..."),1)]),_:2},1032,["to"])]),s("div",xe,[u(p,{to:{name:"compte",params:{id:e.user.id,slug:e.user.slug},query:{personal_post:e.id},hash:"#personal_post"},class:"dark:text-blue-400 text-blue-600 hover:underline"},{default:g(()=>[v(l(t.$t("read-more")),1)]),_:2},1032,["to"]),s("div",be,[s("div",ke,[u(i(K),{class:"h-4 w-4"}),u(p,{to:{name:"compte",params:{slug:e.user.slug,id:e.user.id}},class:"hover:text-primary-blue"},{default:g(()=>[v(l(e.user.firstname),1)]),_:2},1032,["to"])]),s("div",Ce,[u(i(T),{class:"h-4 w-4"}),s("a",Le,l(new Date(e.date).toLocaleDateString(i(_),{day:"numeric",year:"numeric",month:"long"})),1)])])])])]))),128))])):(o(),L(V,{key:1}))]))])}}};export{qe as default};
