var L=(h,_,p)=>new Promise((l,m)=>{var v=d=>{try{y(p.next(d))}catch(g){m(g)}},b=d=>{try{y(p.throw(d))}catch(g){m(g)}},y=d=>d.done?l(d.value):Promise.resolve(d.value).then(v,b);y((p=p.apply(h,_)).next())});import{u as V,r as z,o as B,a as T,c as q,b as w,d as r,e as i,g as n,f as e,h as s,t as o,l as k,w as f,k as $,I as M,K as D,J as F,F as C,x as N,j as H}from"./app.59e8d623.js";import{u as I}from"./universityServices.322bd2df.js";import{u as J}from"./announcementServices.2b31cb9f.js";import{u as E}from"./categoryAnnouncementServices.fb0e60ce.js";import{_ as O}from"./Report.4ab95d46.js";import{r as R}from"./ExclamationCircleIcon.747ce3af.js";import{r as G}from"./PlusCircleIcon.cb1c78f8.js";import{r as P}from"./MegaphoneIcon.e07d9843.js";import{r as Q}from"./UserIcon.3f57577b.js";const W={class:"mx-auto min-h-screen w-full bg-white px-20 text-lg xl:w-[90%]"},X={key:0,class:"py-6 px-4"},Y={class:"overflow-hidden rounded-lg bg-white shadow-md"},Z=["src","alt"],ee={class:"p-6"},te={href:"#",class:"rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},se={key:0},oe={key:1},re={key:2},le={key:3},ie={class:"mt-2 block transform text-3xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600"},ae=["innerHTML"],de={class:"hidden lg:block"},ce={key:1,class:"p-28"},ne={class:"py-2 text-center text-3xl font-bold text-primary-blue"},pe={class:"flex justify-end px-6"},ue={class:"text-base leading-4"},ye={class:"mt-4 grid grid-cols-1 gap-2 bg-gray-50 px-10 pb-8 pt-4 shadow lg:grid-cols-3"},ge={class:"text-xs lg:text-sm"},he={class:"text-gray-700"},_e={class:"text-xs lg:text-sm"},me={class:"text-gray-700",for:"es"},xe=e("option",{value:""},"--------------",-1),fe=["value"],ve=e("div",{class:"bg-primary-blue p-2 shadow"},null,-1),be={class:"py-8"},we={key:0,class:"grid grid-cols-1 gap-8 py-8 md:grid-cols-2 lg:grid-cols-3 lg:px-10"},ke={class:"relative"},$e={key:0,class:"absolute top-5 right-5 z-10 flex h-8 w-8 items-center justify-center rounded-full bg-black/50 p-2 text-center text-sm text-white"},Ce=["src","alt"],Se={key:2,class:"h-48 w-full overflow-hidden rounded-t-lg bg-gray-50 py-10"},je={class:"space-y-2 px-4 py-2"},Ae={href:"#",class:"mt-2 rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},Le={class:"text-2xl font-bold capitalize text-gray-800 hover:underline"},Me={class:"mt-2 text-sm text-gray-600"},Ne={class:"flex h-10 items-center justify-between bg-gray-900 px-4 py-2"},Ue={key:0,class:"text-lg font-bold text-white"},Ke={class:"flex items-center space-x-2 text-xs text-white"},Ve={class:"flex space-x-1"},Oe={__name:"SingleUniversity",props:{id:{required:!0,type:String},slug:{required:!1,type:String}},setup(h){const _=h;V();const p=z(!1),{university:l,getUniversity2:m,loading:v}=I(),{categoryAnnouncements:b,getCategoryAnnouncements:y}=E(),d=localStorage.user?JSON.parse(localStorage.user):"",{announcements:g,getAnnouncementsUniversity:U}=J();B(()=>L(this,null,function*(){yield m(_.id),yield U(_.id),yield y()}));const u=T({searchKey:"",category:""}),S=q(()=>g.value.filter(a=>{let c="";return u.category!=""?c=a.title.toLowerCase().includes(u.searchKey.toLowerCase())&&a.category.id==u.category:c=a.title.toLowerCase().includes(u.searchKey.toLowerCase()),c})),j=()=>{p.value=!p.value};return(a,c)=>{const K=w("Spin"),A=w("NoContent"),x=w("router-link");return r(),i(C,null,[n(O,{open:p.value,toogleModal:j,id:h.id,type:"University"},null,8,["open","id"]),e("div",W,[e("div",null,[s(l).length!=0?(r(),i("div",X,[e("div",Y,[e("img",{class:"h-96 w-full object-cover",src:s(l).image,alt:s(l).name},null,8,Z),e("div",ee,[e("div",null,[e("a",te,[a.$i18n.locale=="en"?(r(),i("span",se,o(s(l).city.name_en+"-"+s(l).country.code_iso),1)):a.$i18n.locale=="fr"?(r(),i("span",oe,o(s(l).city.name_fr+"-"+s(l).country.code_iso),1)):a.$i18n.locale=="es"?(r(),i("span",re,o(s(l).city.name_es+"-"+s(l).country.code_iso),1)):(r(),i("span",le,o(s(l).country.name_pt+"-"+s(l).country.code_iso),1))]),e("h1",ie,o(s(l).name),1),e("p",{class:"my-4 mt-2 py-4 text-gray-600",innerHTML:s(l).description},null,8,ae)]),e("div",null,[e("button",{onClick:c[0]||(c[0]=t=>j()),class:"flex cursor-pointer items-center space-x-2 rounded-full border border-gray-400 px-2 py-1 text-xs text-gray-400 hover:border-white hover:bg-yellow-300 hover:text-white"},[n(s(R),{class:"h-5 w-5"}),e("span",de,o(a.$t("report")),1)])])])])])):s(v)==1?(r(),i("div",ce,[n(K)])):(r(),k(A,{key:2})),e("h1",ne,o(a.$t("ads-university"))+" "+o(s(l).name),1),e("div",pe,[s(d).type=="particular"||s(d).type=="admin"?(r(),k(x,{key:0,to:{name:"add.ads"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:f(()=>[n(s(G),{class:"h-6 w-6"}),e("p",ue,o(a.$tc("add",2))+" "+o(a.$t("ads")),1)]),_:1},8,["to"])):$("",!0)]),e("div",ye,[e("div",ge,[e("label",he,o(a.$t("key-words")),1),M(e("input",{type:"text","onUpdate:modelValue":c[1]||(c[1]=t=>u.searchKey=t),class:"form-input mt-2 block w-full rounded-md border border-gray-200 bg-white px-3 pr-2 text-gray-700 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,512),[[D,u.searchKey]])]),e("div",_e,[e("label",me,o(a.$t("category")),1),M(e("select",{"onUpdate:modelValue":c[2]||(c[2]=t=>u.category=t),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[xe,(r(!0),i(C,null,N(s(b),t=>(r(),i("option",{key:t.id,value:t.id},o(t.name),9,fe))),128))],512),[[F,u.category]])])]),ve,e("div",be,[S.value.length!=0?(r(),i("div",we,[(r(!0),i(C,null,N(S.value,t=>(r(),i("div",{class:"relative overflow-hidden rounded-lg shadow-lg",key:t.id},[n(x,{to:{name:"show.ads",params:{id:t.id,slug:t.slug}}},{default:f(()=>[e("div",ke,[t.image[0]?(r(),i("div",$e,[e("span",null,o(t.image.length),1)])):$("",!0),t.image[0]?(r(),i("img",{key:1,class:"h-48 w-full rounded-t-lg object-cover",src:t.image[0],alt:t.title},null,8,Ce)):(r(),i("div",Se,[n(s(P),{class:"h-full w-full text-gray-500"})]))])]),_:2},1032,["to"]),e("div",je,[e("a",Ae,o(t.category.name.length<=30?t.category.name:t.category.name.substring(0,25)+"..."),1),n(x,{to:{name:"show.ads",params:{id:t.id,slug:t.slug}}},{default:f(()=>[e("h1",Le,o(t.title.length<=20?t.title:t.title.substring(0,19)+"..."),1)]),_:2},1032,["to"]),e("p",Me,o(t.description.substring(0,19)+"..."),1)]),e("div",Ne,[t.price&&t.price!="null"?(r(),i("h1",Ue,o(t.price)+" "+o(t.currency.symbol),1)):$("",!0),e("div",Ke,[e("div",Ve,[n(s(Q),{class:"h-4 w-4"}),n(x,{to:{name:"compte",params:{slug:t.user.slug,id:t.user.id}},class:"hover:text-primary-blue"},{default:f(()=>[H(o(t.user.firstname),1)]),_:2},1032,["to"])])])])]))),128))])):(r(),k(A,{key:1}))])])])],64)}}};export{Oe as default};
