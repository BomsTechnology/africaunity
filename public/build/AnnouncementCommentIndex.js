var f=(C,r,l)=>new Promise((i,b)=>{var d=s=>{try{u(l.next(s))}catch(c){b(c)}},v=s=>{try{u(l.throw(s))}catch(c){b(c)}},u=s=>s.done?i(s.value):Promise.resolve(s.value).then(d,v);u((l=l.apply(C,r)).next())});import{r as x,o as N,a as T,b as A,d as g,e as h,f as e,I as S,K as E,g as _,h as m,l as U,w as p,j as V,t as w,P as z,k,m as $}from"./app.js";import{u as K}from"./announcementCommentServices.js";import{r as P}from"./TrashIcon.js";const q={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},O={class:"z-0 h-full w-full p-4"},F=e("div",{class:"flex justify-between bg-white px-8 py-5"},[e("h1",{class:"text-4xl font-bold text-primary-blue"},"Comment")],-1),G={class:"flex flex-col bg-white pt-8"},H={class:"overflow-x-auto shadow-lg"},J={class:"dark:bg-gray-800 inline-block min-w-full align-middle"},L={class:"items-center justify-between p-4 lg:flex"},Q={class:"relative mt-1"},R=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"dark:text-gray-400 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),W={class:""},X=e("span",{class:"hidden text-sm font-thin lg:block"},"Delete",-1),Y={key:0},Z=e("div",{class:"mt-6 flex justify-end"},[e("button",{type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"}," Save ")],-1),ee=["onClick"],ae={__name:"AnnouncementCommentIndex",setup(C){const r=x([]),{loading:l,errorsCmtAds:i,announcementComments:b,getAnnouncementComments:d,destroyAnnouncementComment:v,updateAnnouncementComment:u}=K(),s=x("");N(()=>f(this,null,function*(){yield d()}));const c=()=>f(this,null,function*(){if(r.value.length!=0){const a=x([]);r.value.forEach(o=>{a.value.push(o.id)}),confirm("I you Sure ?")&&(yield v(a.value),i.value==""&&(yield d(),r.value=[]))}}),n=T({id:"",user_id:"",announcement_id:"",content:""}),j=a=>{n.id=a.id,n.content=a.content,n.user_id=a.user.id,n.announcement_id=a.announcement.id},B=()=>f(this,null,function*(){yield u(n),n.id="",n.content="",n.user_id="",n.announcement_id="",yield d()}),D=[{text:"User",value:"user.firstname"},{text:"Post",value:"announcement.title"},{text:"Comment",value:"content"},{text:"ACTION",value:"id"}];return(a,o)=>{const I=A("router-link"),M=A("EasyDataTable");return g(),h("div",q,[e("div",O,[F,e("div",G,[e("div",H,[e("div",J,[e("div",L,[e("div",Q,[R,S(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>s.value=t),type:"text",id:"table-search",class:"dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 block w-80 rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-primary-blue focus:ring-primary-blue",placeholder:"Search for items"},null,512),[[E,s.value]])]),e("div",W,[e("button",{type:"button",title:"delete",onClick:o[1]||(o[1]=t=>c()),class:"flex items-center justify-between space-x-2 rounded border border-red-500 p-2 text-red-500 hover:bg-red-500 hover:text-white"},[_(m(P),{class:"h-6 w-6"}),X])])]),m(i)!=""?(g(),U(z,{key:0},{default:p(()=>[V(w(m(i)),1)]),_:1})):k("",!0),_(M,{"items-selected":r.value,"onUpdate:itemsSelected":o[4]||(o[4]=t=>r.value=t),headers:D,items:m(b),alternating:"","show-index":"","buttons-pagination":"",loading:m(l)},{"item-announcement.title":p(t=>[_(I,{to:{name:"show.ads",params:{id:t.announcement.id,slug:t.announcement.slug}},class:"hover:underline"},{default:p(()=>[V(w(t.announcement.title<=50?t.announcement.title:t.announcement.title.substring(0,49)+"..."),1)]),_:2},1032,["to"])]),"item-content":p(t=>[n.id==""||n.id!=t.id?(g(),h("span",Y,w(t.content<=50?t.content:t.content.substring(0,49)+"..."),1)):k("",!0),n.id!=""&&n.id==t.id?(g(),h("form",{key:1,onSubmit:o[3]||(o[3]=$(y=>B(),["prevent"]))},[S(e("textarea",{required:"","onUpdate:modelValue":o[2]||(o[2]=y=>n.content=y),type:"text",id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`
                                    `,512),[[E,n.content]]),Z],32)):k("",!0)]),"item-id":p(t=>[e("div",null,[e("button",{onClick:y=>j(t),type:"button",class:"dark:text-blue-500 text-primary-blue hover:underline"}," Edit ",8,ee)])]),_:1},8,["items-selected","items","loading"])])])])])])}}};export{ae as default};
