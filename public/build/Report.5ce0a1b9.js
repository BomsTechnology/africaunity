import{a as h,r as b,b as k,i as g,v,c as s,d as l,e,k as w,w as _,j as c,t as i,P as S,m as p,l as M,f,g as B,K as C}from"./app.1097d858.js";import{r as $}from"./ExclamationCircleIcon.0a1d0b9f.js";const N={class:"fixed inset-0 z-40 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},V={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},j=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),z={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},D={class:"relative rounded-lg bg-white py-4 shadow"},E={key:1,class:"mx-8 bg-green-50 py-4 px-2 text-green-700"},K={class:"flex items-center justify-center text-xl font-bold text-gray-900 md:text-2xl"},O={class:"mr-2 rounded-full bg-yellow-100 p-2 text-yellow-700"},R={for:"report",class:"dark:text-gray-300 mb-2 block text-sm font-medium text-gray-900"},T=e("span",{class:"text-red-500"},"*",-1),q={key:0,type:"submit",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 w-full rounded-lg bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},A={key:1,type:"submit",disabled:"",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 flex w-full items-center justify-center rounded-lg bg-blue-300 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},F={key:3,class:"px-8"},U={__name:"Report",props:{open:Boolean,toogleModal:Function,id:String,type:String},setup(r){const m=r,u=h({type:m.type,reported_id:m.id,user_id:JSON.parse(localStorage.user).id,content:""}),n=b(0),d=b(""),y=async()=>{d.value="";try{n.value=1,await axios.post("/api/report",u,{headers:{Authorization:`Bearer ${localStorage.token}`}}),n.value=2}catch(o){if(o.response.status==422){n.value=0;for(const t in o.response.data.errors)d.value+=o.response.data.errors[t][0]+`
`}}};return(o,t)=>{const x=k("Spin");return g((s(),l("div",N,[e("div",V,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:t[0]||(t[0]=(...a)=>r.toogleModal&&r.toogleModal(...a))}),j,e("div",z,[e("div",D,[d.value!=""?(s(),w(S,{key:0},{default:_(()=>[c(i(d.value),1)]),_:1})):p("",!0),n.value==2?(s(),l("div",E,[e("p",null,i(o.$t("msg-contact-sucess")),1)])):(s(),l("form",{key:2,onSubmit:t[2]||(t[2]=M(a=>y(),["prevent"])),class:"space-y-6 px-6 pb-4 sm:pb-6 lg:px-8 xl:pb-8",action:"#"},[e("h3",K,[e("span",O,[f(B($),{class:"h-5 w-5"})]),c(" "+i(o.$t("report")),1)]),e("div",null,[e("label",R,[c(i(o.$t("report-msg"))+" ",1),T]),g(e("textarea",{required:"","onUpdate:modelValue":t[1]||(t[1]=a=>u.content=a),id:"report",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`
                            `,512),[[C,u.content]])]),n.value==0?(s(),l("button",q,i(o.$t("send")),1)):(s(),l("button",A,[f(x,{size:"small"})]))],32)),n.value==2?(s(),l("div",F,[e("button",{type:"button",onClick:t[3]||(t[3]=(...a)=>r.toogleModal&&r.toogleModal(...a)),class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-2 w-full rounded bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"}," OK ")])):p("",!0)])])])],512)),[[v,r.open]])}}};export{U as _};
