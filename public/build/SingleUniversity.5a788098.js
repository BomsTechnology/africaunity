import{u as K,r as V,o as z,a as B,G as T,c as r,d as l,f as c,e,g as s,t as o,k as g,w as u,m as h,i as $,K as q,J as D,F as _,x as C,j as F,b as m}from"./app.1097d858.js";import{u as H}from"./universityServices.3524b998.js";import{u as J}from"./announcementServices.b79157c0.js";import{u as E}from"./categoryAnnouncementServices.6f1c4818.js";import{_ as G}from"./Report.5ce0a1b9.js";import{r as I}from"./ExclamationCircleIcon.0a1d0b9f.js";import{r as O}from"./PlusCircleIcon.52b766cf.js";import{r as R}from"./MegaphoneIcon.726db423.js";import{r as P}from"./UserIcon.10b81750.js";const Q={class:"mx-auto min-h-screen w-full bg-white px-20 text-lg xl:w-[90%]"},W={key:0,class:"py-6 px-4"},X={class:"overflow-hidden rounded-lg bg-white shadow-md"},Y=["src","alt"],Z={class:"p-6"},ee={href:"#",class:"rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},te={key:0},se={key:1},oe={key:2},re={key:3},le={class:"mt-2 block transform text-3xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600"},ie=["innerHTML"],ae={class:"hidden lg:block"},de={key:1,class:"p-28"},ce={class:"py-2 text-center text-3xl font-bold text-primary-blue"},ne={class:"flex justify-end px-6"},pe={class:"text-base leading-4"},ue={class:"mt-4 grid grid-cols-1 gap-2 bg-gray-50 px-10 pb-8 pt-4 shadow lg:grid-cols-3"},ye={class:"text-xs lg:text-sm"},ge={class:"text-gray-700"},he={class:"text-xs lg:text-sm"},_e={class:"text-gray-700",for:"es"},me=e("option",{value:""},"--------------",-1),xe=["value"],fe=e("div",{class:"bg-primary-blue p-2 shadow"},null,-1),ve={class:"py-8"},be={key:0,class:"grid grid-cols-1 gap-8 py-8 md:grid-cols-2 lg:grid-cols-3 lg:px-10"},we={class:"relative"},ke={key:0,class:"absolute top-5 right-5 z-10 flex h-8 w-8 items-center justify-center rounded-full bg-black/50 p-2 text-center text-sm text-white"},$e=["src","alt"],Ce={key:2,class:"h-48 w-full overflow-hidden rounded-t-lg bg-gray-50 py-10"},Se={class:"space-y-2 px-4 py-2"},je={href:"#",class:"mt-2 rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},Ae={class:"text-2xl font-bold capitalize text-gray-800 hover:underline"},Le={class:"mt-2 text-sm text-gray-600"},Me={class:"flex h-10 items-center justify-between bg-gray-900 px-4 py-2"},Ne={key:0,class:"text-lg font-bold text-white"},Ue={class:"flex items-center space-x-2 text-xs text-white"},Ke={class:"flex space-x-1"},Ee={__name:"SingleUniversity",props:{id:{required:!0,type:String},slug:{required:!1,type:String}},setup(x){const f=x;K();const y=V(!1),{university:i,getUniversity2:S,loading:j}=H(),{categoryAnnouncements:A,getCategoryAnnouncements:L}=E(),v=localStorage.user?JSON.parse(localStorage.user):"",{announcements:M,getAnnouncementsUniversity:N}=J();z(async()=>{await S(f.id),await N(f.id),await L()});const n=B({searchKey:"",category:""}),b=T(()=>M.value.filter(a=>{let d="";return n.category!=""?d=a.title.toLowerCase().includes(n.searchKey.toLowerCase())&&a.category.id==n.category:d=a.title.toLowerCase().includes(n.searchKey.toLowerCase()),d})),w=()=>{y.value=!y.value};return(a,d)=>{const U=m("Spin"),k=m("NoContent"),p=m("router-link");return r(),l(_,null,[c(G,{open:y.value,toogleModal:w,id:x.id,type:"University"},null,8,["open","id"]),e("div",Q,[e("div",null,[s(i).length!=0?(r(),l("div",W,[e("div",X,[e("img",{class:"h-96 w-full object-cover",src:s(i).image,alt:s(i).name},null,8,Y),e("div",Z,[e("div",null,[e("a",ee,[a.$i18n.locale=="en"?(r(),l("span",te,o(s(i).city.name_en+"-"+s(i).country.code_iso),1)):a.$i18n.locale=="fr"?(r(),l("span",se,o(s(i).city.name_fr+"-"+s(i).country.code_iso),1)):a.$i18n.locale=="es"?(r(),l("span",oe,o(s(i).city.name_es+"-"+s(i).country.code_iso),1)):(r(),l("span",re,o(s(i).country.name_pt+"-"+s(i).country.code_iso),1))]),e("h1",le,o(s(i).name),1),e("p",{class:"my-4 mt-2 py-4 text-gray-600",innerHTML:s(i).description},null,8,ie)]),e("div",null,[e("button",{onClick:d[0]||(d[0]=t=>w()),class:"flex cursor-pointer items-center space-x-2 rounded-full border border-gray-400 px-2 py-1 text-xs text-gray-400 hover:border-white hover:bg-yellow-300 hover:text-white"},[c(s(I),{class:"h-5 w-5"}),e("span",ae,o(a.$t("report")),1)])])])])])):s(j)==1?(r(),l("div",de,[c(U)])):(r(),g(k,{key:2})),e("h1",ce,o(a.$t("ads-university"))+" "+o(s(i).name),1),e("div",ne,[s(v).type=="particular"||s(v).type=="admin"?(r(),g(p,{key:0,to:{name:"add.ads"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:u(()=>[c(s(O),{class:"h-6 w-6"}),e("p",pe,o(a.$tc("add",2))+" "+o(a.$t("ads")),1)]),_:1},8,["to"])):h("",!0)]),e("div",ue,[e("div",ye,[e("label",ge,o(a.$t("key-words")),1),$(e("input",{type:"text","onUpdate:modelValue":d[1]||(d[1]=t=>n.searchKey=t),class:"form-input mt-2 block w-full rounded-md border border-gray-200 bg-white px-3 pr-2 text-gray-700 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,512),[[q,n.searchKey]])]),e("div",he,[e("label",_e,o(a.$t("category")),1),$(e("select",{"onUpdate:modelValue":d[2]||(d[2]=t=>n.category=t),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[me,(r(!0),l(_,null,C(s(A),t=>(r(),l("option",{key:t.id,value:t.id},o(t.name),9,xe))),128))],512),[[D,n.category]])])]),fe,e("div",ve,[s(b).length!=0?(r(),l("div",be,[(r(!0),l(_,null,C(s(b),t=>(r(),l("div",{class:"relative overflow-hidden rounded-lg shadow-lg",key:t.id},[c(p,{to:{name:"show.ads",params:{id:t.id,slug:t.slug}}},{default:u(()=>[e("div",we,[t.image[0]?(r(),l("div",ke,[e("span",null,o(t.image.length),1)])):h("",!0),t.image[0]?(r(),l("img",{key:1,class:"h-48 w-full rounded-t-lg object-cover",src:t.image[0],alt:t.title},null,8,$e)):(r(),l("div",Ce,[c(s(R),{class:"h-full w-full text-gray-500"})]))])]),_:2},1032,["to"]),e("div",Se,[e("a",je,o(t.category.name.length<=30?t.category.name:t.category.name.substring(0,25)+"..."),1),c(p,{to:{name:"show.ads",params:{id:t.id,slug:t.slug}}},{default:u(()=>[e("h1",Ae,o(t.title.length<=20?t.title:t.title.substring(0,19)+"..."),1)]),_:2},1032,["to"]),e("p",Le,o(t.description.substring(0,19)+"..."),1)]),e("div",Me,[t.price&&t.price!="null"?(r(),l("h1",Ne,o(t.price)+" "+o(t.currency.symbol),1)):h("",!0),e("div",Ue,[e("div",Ke,[c(s(P),{class:"h-4 w-4"}),c(p,{to:{name:"compte",params:{slug:t.user.slug,id:t.user.id}},class:"hover:text-primary-blue"},{default:u(()=>[F(o(t.user.firstname),1)]),_:2},1032,["to"])])])])]))),128))])):(r(),g(k,{key:1}))])])])],64)}}};export{Ee as default};
