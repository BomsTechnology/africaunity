import{r,u as p,G as v,p as s}from"./app.4a599ac6.js";function Z(){const l=v(),i=r([]),n=r([]),t=r(""),e=r(0),{locale:c}=p();return{zones:i,zone:n,errors:t,loading:e,getZones:async()=>{t.value="",e.value=!0;let o=await s.get(`/api/zones/language/${c.value}`,{headers:{Authorization:`Bearer ${localStorage.token}`}});i.value=o.data.data,e.value=!1},getZone:async o=>{t.value="",e.value=!0;try{let a=await s.get("/api/zones/"+o,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,n.value=a.data.data}catch{return!1}},createZone:async o=>{t.value="";try{e.value=!0,await s.post("/api/zones",o,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,l.push({name:"admin.zone.index"})}catch(a){if(a.response.status==422){e.value=0;for(const u in a.response.data.errors)t.value+=a.response.data.errors[u][0]+`
`}}},updateZone:async o=>{t.value="";try{e.value=!0,await s.put("/api/zones/"+o,n.value,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,l.push({name:"admin.zone.index"})}catch(a){if(e.value=0,a.response.status==422)for(const u in a.response.data.errors)t.value+=a.response.data.errors[u][0]+`	
`}},destroyZone:async o=>{t.value="";try{return e.value=!0,await s.delete(`/api/zones/${JSON.stringify(o)}`,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,!0}catch(a){e.value=0,a.response.status=="500"&&(t.value="Impossible de supprimer cette zone")}}}}export{Z as u};
