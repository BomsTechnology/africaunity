var V=(q,w,g)=>new Promise(($,x)=>{var f=c=>{try{y(g.next(c))}catch(h){x(h)}},v=c=>{try{y(g.throw(c))}catch(h){x(h)}},y=c=>c.done?$(c.value):Promise.resolve(c.value).then(f,v);y((g=g.apply(q,w)).next())});import{r as k,G as ae,o as de,b as E,d as l,e as r,f as o,t as n,h as i,l as F,w as ue,j as u,k as U,m as pe,I as d,K as b,J as p,F as _,x as m,g as ce}from"./app.js";import{u as _e}from"./zoneServices.js";import{u as me}from"./cityServices.js";import{u as ye}from"./countryServices.js";import{u as fe}from"./currencyServices.js";import{u as be}from"./continentServices.js";import{u as ge}from"./ministryServices.js";import{u as ve}from"./activityAreaServices.js";import{u as he}from"./demonstrationServices.js";import{u as ke}from"./demonstrationModeServices.js";import{u as we}from"./demonstrationTypeServices.js";import{u as $e}from"./demonstrationNicheServices.js";import{_ as xe}from"./RichText.js";const Ve={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},Ue={class:"w-full space-y-4 py-5 text-center"},qe={class:"text-4xl font-bold capitalize text-primary-blue"},Ce={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},De={class:"text-xl font-semibold"},ze={class:"text-md font-light text-gray-700"},Se={class:"mt-4"},Re={class:"col-span-2"},Ee={class:"text-gray-700"},Fe=o("span",{class:"text-red-500"},"*",-1),Le={class:"text-xs font-light text-gray-400"},je={class:"col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},Be={class:"text-gray-700",for:"pt"},Me=o("span",{class:"text-red-500"},"*",-1),Oe=["value"],Ie={key:0},Ne={key:1},Ze={key:2},Ge={key:3},Je={class:"text-gray-700",for:"pt"},Pe=o("span",{class:"text-red-500"},"*",-1),Ke=["value"],Te={key:0},Ae={key:1},He={key:2},Qe={key:3},We={class:"text-gray-700",for:"es"},Xe=o("span",{class:"text-red-500"},"*",-1),Ye=["value"],et={key:0},tt={key:1},ot={key:2},st={key:3},nt={class:"text-gray-700",for:"es"},lt=o("span",{class:"text-red-500"},"*",-1),rt=["value"],it={key:0},at={key:1},dt={key:2},ut={key:3},pt={key:1,value:"null"},ct={class:"text-gray-700",for:"es"},_t=o("span",{class:"text-red-500"},"*",-1),mt=["value"],yt={key:0},ft={key:1},bt={key:2},gt={key:3},vt={key:1,value:"null"},ht={class:"d text-gray-700",for:"es"},kt=o("span",{class:"text-red-500"},"*",-1),wt=["value"],$t={key:0},xt={key:1},Vt={key:2},Ut={key:3},qt={key:1,value:"null"},Ct={class:""},Dt={class:"text-gray-700",for:"es"},zt=["value"],St={key:0},Rt={key:1},Et={key:2},Ft={key:3},Lt={class:""},jt={class:"text-gray-700",for:"pt"},Bt=["value"],Mt={key:0},Ot={key:1},It={key:2},Nt={key:3},Zt={class:"sm:col-span-2"},Gt={class:"text-gray-700",for:"pt"},Jt=o("span",{class:"text-red-500"},"*",-1),Pt={class:"sm:col-span-2"},Kt={class:"text-gray-700"},Tt=o("span",{class:"text-red-500"},"*",-1),At=o("option",{value:"free"},"Gratuit",-1),Ht=o("option",{value:"paying"},"Payant",-1),Qt=[At,Ht],Wt={class:"text-gray-700"},Xt={class:"text-gray-700",for:"es"},Yt=["value"],eo={class:"text-gray-700"},to=o("span",{class:"text-red-500"},"*",-1),oo={class:"text-gray-700"},so=o("span",{class:"text-red-500"},"*",-1),no={class:"text-gray-700"},lo=o("span",{class:"text-red-500"},"*",-1),ro=["value"],io={key:0},ao={key:1},uo={key:2},po={key:3},co={class:"text-gray-700"},_o=o("span",{class:"text-red-500"},"*",-1),mo={class:"text-gray-700"},yo=o("span",{class:"text-red-500"},"*",-1),fo={class:"text-gray-700"},bo=o("span",{class:"text-red-500"},"*",-1),go={class:"sm:col-span-2 mt-4"},vo={class:"text-gray-700",for:"fr"},ho={class:"flex items-center space-x-4 py-4"},ko=["src","alt"],wo={class:"sm:col-span-2 mt-4"},$o={class:"text-gray-700",for:"pt"},xo=o("span",{class:"text-red-500"},"*",-1),Vo={class:"mt-6"},Uo={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},qo={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},Zo={__name:"EditDemonstration",props:{id:{required:!0,type:String}},setup(q){const w=q,g=k(null),$=k(0),x=ae(),f=k([]),v=k([]),y=k([]),{zones:c,getZones:h}=_e(),{cities:D,getCities:L}=me(),{countries:z,getCountries:j}=ye(),{currencies:B,getCurrencies:M}=fe(),{continents:O,getContinents:I}=be(),{ministries:N,getMinistries:Z}=ge(),{activityAreas:G,getActivityAreas:J}=ve(),{errors:C,loading:S,demonstration:s,getDemonstration:P,updateDemonstration:K}=he(),{demonstrationTypes:T,getDemonstrationTypes:A}=we(),{demonstrationModes:H,getDemonstrationModes:Q}=ke(),{demonstrationNiches:W,getDemonstrationNiches:X}=$e(),R=localStorage.user?JSON.parse(localStorage.user):"";de(()=>V(this,null,function*(){yield P(w.id),$.value++,yield A(),yield Q(),yield X(),yield J(),yield Z(),yield M(),yield I(),yield h(),yield j(),yield L(),v.value=c.value.filter(t=>t.continent_id==s.value.continent_id),y.value=z.value.filter(t=>t.zone_id==s.value.zone_id),f.value=D.value.filter(t=>t.country_id==s.value.country_id)}));const Y=()=>V(this,null,function*(){let t=new FormData;t.append("title",s.value.title),t.append("description",s.value.description),t.append("price",s.value.price),t.append("image",s.value.image),t.append("email",s.value.email),t.append("hourly",s.value.hourly),t.append("start_date",s.value.start_date),t.append("end_date",s.value.end_date),t.append("phone",s.value.phone),t.append("enter_type",s.value.enter_type),t.append("user_id",s.value.user_id),t.append("currency_id",s.value.currency_id),t.append("place_link",s.value.place_link),t.append("demonstration_type_id",s.value.demonstration_type_id),t.append("demonstration_mode_id",s.value.demonstration_mode_id),t.append("demonstration_niche_id",s.value.demonstration_niche_id),t.append("city_id",s.value.city_id),t.append("zone_id",s.value.zone_id),t.append("continent_id",s.value.continent_id),t.append("country_id",s.value.country_id),t.append("ministry_id",s.value.ministry_id),t.append("activity_area_id",s.value.activity_area_id),t.append("_method","PUT"),yield K(t,w.id),C.value==""&&x.push({name:"compte",params:{slug:R.slug,id:R.id}})}),ee=()=>{f.value=D.value.filter(t=>t.country_id==s.country_id),s.city_id=""},te=()=>{y.value=z.value.filter(t=>t.zone_id==s.zone_id),s.country_id="",s.city_id="",f.value=[]},oe=()=>{v.value=c.value.filter(t=>t.continent_id==s.continent_id),s.zone_id="",s.country_id="",s.city_id="",f.value=[],y.value=[]},se=()=>V(this,null,function*(){s.value.image=g.value.files[0]});function ne(t){return URL.createObjectURL(t)}function le(t){return URL.revokeObjectURL(t)}return(t,a)=>{const re=E("Error"),ie=E("Spin");return l(),r("div",Ve,[o("div",Ue,[o("h1",qe,n(t.$tc("edit",1))+" Evenement ",1)]),o("section",Ce,[i(C)!=""?(l(),F(re,{key:0},{default:ue(()=>[u(n(i(C)),1)]),_:1})):U("",!0),o("h1",De,n(t.$tc("edit",1))+" Evenement ",1),o("h2",ze,n(t.$t("good-msg-post"))+" ! ",1),o("form",{onSubmit:a[25]||(a[25]=pe(e=>Y(),["prevent"])),id:"demonstrationform",enctype:"multipart/form-data"},[o("div",Se,[o("div",Re,[o("label",Ee,[u(n(t.$t("title"))+" ",1),Fe]),d(o("input",{required:"","onUpdate:modelValue":a[0]||(a[0]=e=>i(s).title=e),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,i(s).title]]),o("span",Le,n(i(s).title?i(s).title.length:0)+" of 50 Characters",1)]),o("div",je,[o("div",null,[o("label",Be,[u(n(t.$t("event-type"))+" ",1),Me]),d(o("select",{required:"","onUpdate:modelValue":a[1]||(a[1]=e=>i(s).demonstration_type_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(_,null,m(i(T),e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",Ie,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",Ne,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",Ze,n(e.name_es),1)):(l(),r("span",Ge,n(e.name_pt),1))],8,Oe))),128))],512),[[p,i(s).demonstration_type_id]])]),o("div",null,[o("label",Je,[u(n(t.$t("event-mode"))+" ",1),Pe]),d(o("select",{required:"","onUpdate:modelValue":a[2]||(a[2]=e=>i(s).demonstration_mode_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(_,null,m(i(H),e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",Te,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",Ae,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",He,n(e.name_es),1)):(l(),r("span",Qe,n(e.name_pt),1))],8,Ke))),128))],512),[[p,i(s).demonstration_mode_id]])]),o("div",null,[o("label",We,[u(n(t.$t("continent"))+" ",1),Xe]),d(o("select",{required:"","onUpdate:modelValue":a[3]||(a[3]=e=>i(s).continent_id=e),onChange:a[4]||(a[4]=e=>oe()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(_,null,m(i(O),e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",et,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",tt,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",ot,n(e.name_es),1)):(l(),r("span",st,n(e.name_pt),1))],8,Ye))),128))],544),[[p,i(s).continent_id]])]),o("div",null,[o("label",nt,[u(n(t.$t("zoned"))+" ",1),lt]),d(o("select",{required:"","onUpdate:modelValue":a[5]||(a[5]=e=>i(s).zone_id=e),onChange:a[6]||(a[6]=e=>te()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[v.value.length!=0?(l(!0),r(_,{key:0},m(v.value,e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",it,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",at,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",dt,n(e.name_es),1)):(l(),r("span",ut,n(e.name_pt),1))],8,rt))),128)):(l(),r("option",pt," Requires "+n(t.$t("continent")),1))],544),[[p,i(s).zone_id]])]),o("div",null,[o("label",ct,[u(n(t.$t("country"))+" ",1),_t]),d(o("select",{required:"",onChange:a[7]||(a[7]=e=>ee()),"onUpdate:modelValue":a[8]||(a[8]=e=>i(s).country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[y.value.length!=0?(l(!0),r(_,{key:0},m(y.value,e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",yt,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",ft,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",bt,n(e.name_es),1)):(l(),r("span",gt,n(e.name_pt),1))],8,mt))),128)):(l(),r("option",vt," Requires "+n(t.$t("zoned")),1))],544),[[p,i(s).country_id]])]),o("div",null,[o("label",ht,[u(n(t.$t("city"))+" ",1),kt]),d(o("select",{required:"","onUpdate:modelValue":a[9]||(a[9]=e=>i(s).city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[f.value.length!=0?(l(!0),r(_,{key:0},m(f.value,e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",$t,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",xt,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",Vt,n(e.name_es),1)):(l(),r("span",Ut,n(e.name_pt),1))],8,wt))),128)):(l(),r("option",qt," Requires "+n(t.$t("country")),1))],512),[[p,i(s).city_id]])]),o("div",Ct,[o("label",Dt,n(t.$t("activity-area")),1),d(o("select",{"onUpdate:modelValue":a[10]||(a[10]=e=>i(s).activity_area_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(_,null,m(i(G),e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",St,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",Rt,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",Et,n(e.name_es),1)):(l(),r("span",Ft,n(e.name_pt),1))],8,zt))),128))],512),[[p,i(s).activity_area_id]])]),o("div",Lt,[o("label",jt,n(t.$t("ministry")),1),d(o("select",{"onUpdate:modelValue":a[11]||(a[11]=e=>i(s).ministry_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(_,null,m(i(N),e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",Mt,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",Ot,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",It,n(e.name_es),1)):(l(),r("span",Nt,n(e.name_pt),1))],8,Bt))),128))],512),[[p,i(s).ministry_id]])]),o("div",Zt,[o("label",Gt,[u(n(t.$t("location-link"))+" ",1),Jt]),d(o("input",{required:"","onUpdate:modelValue":a[12]||(a[12]=e=>i(s).place_link=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,i(s).place_link]])]),o("div",Pt,[o("label",Kt,[u(n(t.$t("enter-type")),1),Tt]),d(o("select",{required:"","onUpdate:modelValue":a[13]||(a[13]=e=>i(s).enter_type=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},Qt,512),[[p,i(s).enter_type]])]),o("div",null,[o("label",Wt,n(t.$t("price")),1),d(o("input",{"onUpdate:modelValue":a[14]||(a[14]=e=>i(s).price=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,i(s).price]])]),o("div",null,[o("label",Xt,n(t.$t("currency")),1),d(o("select",{"onUpdate:modelValue":a[15]||(a[15]=e=>i(s).currency_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(_,null,m(i(B),e=>(l(),r("option",{key:e.id,value:e.id},n(e.symbol+" "+e.name),9,Yt))),128))],512),[[p,i(s).currency_id]])]),o("div",null,[o("label",eo,[u(n(t.$t("start-date"))+" ",1),to]),d(o("input",{"onUpdate:modelValue":a[16]||(a[16]=e=>i(s).start_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,i(s).start_date]])]),o("div",null,[o("label",oo,[u(n(t.$t("end-date"))+" ",1),so]),d(o("input",{"onUpdate:modelValue":a[17]||(a[17]=e=>i(s).end_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,i(s).end_date]])]),o("div",null,[o("label",no,[u(n(t.$t("niche"))+" ",1),lo]),d(o("select",{required:"","onUpdate:modelValue":a[18]||(a[18]=e=>i(s).demonstration_niche_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(_,null,m(i(W),e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",io,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",ao,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",uo,n(e.name_es),1)):(l(),r("span",po,n(e.name_pt),1))],8,ro))),128))],512),[[p,i(s).demonstration_niche_id]])]),o("div",null,[o("label",co,[u(n(t.$t("hour"))+" ",1),_o]),d(o("input",{"onUpdate:modelValue":a[19]||(a[19]=e=>i(s).hourly=e),type:"time",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,i(s).hourly]])]),o("div",null,[o("label",mo,[u(n(t.$t("contact-phone"))+" ",1),yo]),d(o("input",{required:"","onUpdate:modelValue":a[20]||(a[20]=e=>i(s).phone=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,i(s).phone]])]),o("div",null,[o("label",fo,[u(n(t.$t("contact-email"))+" ",1),bo]),d(o("input",{required:"","onUpdate:modelValue":a[21]||(a[21]=e=>i(s).email=e),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,i(s).email]])])]),o("div",go,[o("label",vo,n(t.$t("thumbnails")),1),o("div",ho,[i(s).image?(l(),r("img",{key:0,src:typeof i(s).image=="string"?i(s).image:ne(i(s).image),onLoad:a[22]||(a[22]=e=>typeof i(s).image=="string"?"":le(i(s).image)),class:"h-16 w-16 rounded-full",alt:i(s).title},null,40,ko)):U("",!0),o("input",{ref_key:"file",ref:g,onChange:a[23]||(a[23]=e=>se()),accept:"image/*",type:"file",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)])]),o("div",wo,[o("label",$o,[u(n(t.$t("description"))+" ",1),xo]),(l(),F(xe,{key:$.value,modelValue:i(s).description,"onUpdate:modelValue":a[24]||(a[24]=e=>i(s).description=e)},null,8,["modelValue"]))])]),o("div",Vo,[i(S)==0?(l(),r("button",Uo,n(t.$t("save")),1)):U("",!0),i(S)==1?(l(),r("button",qo,[ce(ie,{size:"small"})])):U("",!0)])],32)])])}}};export{Zo as default};
