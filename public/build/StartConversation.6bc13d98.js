import{d as t,e as l,f as e,r as u,b,I as f,L as k,g as v,h as o,K as C,F as p,x as M,l as S,t as h,k as m,N as B}from"./app.4a599ac6.js";import{u as z}from"./userServices.beecf26d.js";import{r as V}from"./UserCircleIcon.ec428794.js";function Z(s,n){return t(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25a.75.75 0 01.75.75v11.69l3.22-3.22a.75.75 0 111.06 1.06l-4.5 4.5a.75.75 0 01-1.06 0l-4.5-4.5a.75.75 0 111.06-1.06l3.22 3.22V3a.75.75 0 01.75-.75zm-9 13.5a.75.75 0 01.75.75v2.25a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5V16.5a.75.75 0 011.5 0v2.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V16.5a.75.75 0 01.75-.75z","clip-rule":"evenodd"})])}function ee(s,n){return t(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 00-1.032-.211 50.89 50.89 0 00-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 002.433 3.984L7.28 21.53A.75.75 0 016 21v-4.03a48.527 48.527 0 01-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979z"}),e("path",{d:"M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 001.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0015.75 7.5z"})])}function $(s,n){return t(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z","clip-rule":"evenodd"})])}function te(s,n){return t(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})])}const N={class:"fixed inset-0 z-40 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},U={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},A=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),F={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg align-middle"},T={class:"relative rounded-lg bg-white py-4 shadow"},H={class:"relative mx-2"},L={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},j={class:"max-h-96 overflow-y-auto"},D={key:0,class:"py-10"},I={key:1,class:"mt-10 flex flex-col"},q=["onClick"],E={class:"block h-32 w-32 overflow-hidden rounded-full shadow lg:h-20 lg:w-20"},J=["src"],K={key:0},O={class:"text-xs font-light lg:text-sm"},R={key:2},ae={__name:"StartConversation",props:{open:Boolean,toogleModal:Function,conversationSelect:Function},setup(s){const{filterUserConversation:n,loading:w,users:c,errors:G}=z(),_=JSON.parse(localStorage.user),r=u(""),g=u(!1),d=u(null),x=async()=>{d.value&&clearTimeout(d.value),d.value=setTimeout(async()=>{g.value=!0,await n(r.value)},1e3)};return(P,i)=>{const y=b("Spin");return f((t(),l("div",N,[e("div",U,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",style:{"backdrop-filter":"blur(5px)"},onClick:i[0]||(i[0]=(...a)=>s.toogleModal&&s.toogleModal(...a))}),A,e("div",F,[e("div",T,[e("div",H,[e("div",L,[v(o($),{class:"h-5 w-5 text-gray-500"})]),f(e("input",{type:"text",onInput:x,"onUpdate:modelValue":i[1]||(i[1]=a=>r.value=a),class:"block w-full rounded-sm border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500",placeholder:"Rechercher...",required:""},null,544),[[C,r.value]])]),e("div",j,[o(w)?(t(),l("div",D,[v(y)])):o(c)&&o(c).length!=0?(t(),l("div",I,[(t(!0),l(p,null,M(o(c),a=>(t(),l("div",{key:a.id,onClick:Q=>s.conversationSelect(a),class:"flex cursor-pointer items-center gap-3 bg-white px-4 py-2 hover:bg-gray-100"},[o(_).id!=a.id?(t(),l(p,{key:0},[e("div",E,[a.avatar?(t(),l("img",{key:0,src:a.avatar,class:"h-full w-full bg-cover object-cover",alt:""},null,8,J)):(t(),S(o(V),{key:1,class:"h-full w-full text-gray-500"}))]),e("div",null,[e("h2",null,[e("span",null,h(a.firstname),1),a.lastname?(t(),l("span",K,h(" "+a.lastname),1)):m("",!0)]),e("p",O,h(a.email),1)])],64)):m("",!0)],8,q))),128))])):r.value.length!=0&&g.value?(t(),l("div",R,[v(B)])):m("",!0)])])])])],512)),[[k,s.open]])}}};export{ae as _,$ as a,Z as b,te as c,ee as r};
