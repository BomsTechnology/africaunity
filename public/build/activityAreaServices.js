var s=(u,n,a)=>new Promise((e,A)=>{var y=r=>{try{v(a.next(r))}catch(t){A(t)}},p=r=>{try{v(a.throw(r))}catch(t){A(t)}},v=r=>r.done?e(r.value):Promise.resolve(r.value).then(y,p);v((a=a.apply(u,n)).next())});import{r as l,p as c}from"./app.js";function f(){const u=l([]),n=l([]),a=l(""),e=l(0);return{activityAreas:u,activityArea:n,errorsActivy:a,loading:e,getActivityAreas:()=>s(this,null,function*(){a.value="",e.value=!0;let t=yield c.get("/api/activityAreas",{headers:{Authorization:`Bearer ${localStorage.token}`}});u.value=t.data.data,e.value=!1}),getActivityArea:t=>s(this,null,function*(){a.value="",e.value=!0;let i=yield c.get("/api/activityAreas/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,n.value=i.data.data}),createActivityArea:t=>s(this,null,function*(){a.value="";try{e.value=!0,yield c.post("/api/activityAreas",t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=0}catch(i){if(i.response.status==422){e.value=0;for(const o in i.response.data.errors)a.value+=i.response.data.errors[o][0]+`
`}}}),updateActivityArea:(t,i)=>s(this,null,function*(){a.value="";try{e.value=!0,yield c.put("/api/activityAreas/"+t,i,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(o){if(e.value=0,o.response.status==422)for(const d in o.response.data.errors)a.value+=o.response.data.errors[d][0]+`	
`}}),destroyActivityArea:t=>s(this,null,function*(){a.value="";try{return e.value=!0,yield c.delete("/api/activityAreas/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,!0}catch(i){e.value=0,a.value="Impossible de supprimer ce activityArea"}})}}export{f as u};
