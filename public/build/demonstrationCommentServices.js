var s=(m,i,t)=>new Promise((e,d)=>{var p=n=>{try{l(t.next(n))}catch(u){d(u)}},C=n=>{try{l(t.throw(n))}catch(u){d(u)}},l=n=>n.done?e(n.value):Promise.resolve(n.value).then(p,C);l((t=t.apply(m,i)).next())});import{r as c,p as r}from"./app.js";function D(){const m=c([]),i=c([]),t=c(""),e=c(0);return{demonstrationComments:m,demonstrationComment:i,errorsCmtAds:t,loading:e,getDemonstrationComments:()=>s(this,null,function*(){t.value="",e.value=!0;let a=yield r.get("/api/demonstration-comments",{headers:{Authorization:`Bearer ${localStorage.token}`}});m.value=a.data.data,e.value=!1}),getDemonstrationComment:a=>s(this,null,function*(){t.value="",e.value=!0;let o=yield r.get("/api/demonstration-comments/"+a,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,i.value=o.data.data}),createDemonstrationComment:a=>s(this,null,function*(){t.value="";try{e.value=!0,yield r.post("/api/demonstration-comments",a,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(o){if(o.response.status==422){e.value=0;for(const v in o.response.data.errorsCmtAds)t.value+=o.response.data.errorsCmtAds[v][0]+`
`}}}),updateDemonstrationComment:a=>s(this,null,function*(){t.value="";try{e.value=!0,yield r.put("/api/demonstration-comments/"+a.id,a,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(o){if(e.value=0,o.response.status==422)for(const v in o.response.data.errorsCmtAds)t.value+=o.response.data.errorsCmtAds[v][0]+`	
`}}),destroyDemonstrationComment:a=>s(this,null,function*(){t.value="";try{return e.value=!0,yield r.delete(`/api/demonstration-comments/${JSON.stringify(a)}`,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,!0}catch(o){e.value=0,t.value="Impossible de supprimer ce demonstrationComment"}}),getDemonstrationCommentsPost:a=>s(this,null,function*(){t.value="",e.value=!0;let o=yield r.get("/api/demonstration-comments-post/"+a,{headers:{Authorization:`Bearer ${localStorage.token}`}});m.value=o.data.data,e.value=!1}),getDemonstrationCommentsUser:a=>s(this,null,function*(){t.value="",e.value=!0;let o=yield r.get("/api/demonstration-comments-user/"+a,{headers:{Authorization:`Bearer ${localStorage.token}`}});m.value=o.data.data,e.value=!1})}}export{D as u};
