var z=Object.defineProperty;var S=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var A=(a,i,l)=>i in a?z(a,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[i]=l,C=(a,i)=>{for(var l in i||(i={}))E.call(i,l)&&A(a,l,i[l]);if(S)for(var l of S(i))J.call(i,l)&&A(a,l,i[l]);return a};var k=(a,i,l)=>new Promise((v,x)=>{var w=u=>{try{y(l.next(u))}catch(g){x(g)}},V=u=>{try{y(l.throw(u))}catch(g){x(g)}},y=u=>u.done?v(u.value):Promise.resolve(u.value).then(w,V);y((l=l.apply(a,i)).next())});import{G as T,r as q,o as G,a as I,b as K,d,e as c,f as e,t as n,h as f,l as L,w as O,j as m,P,k as _,m as R,I as p,K as b,g as h,V as H,J as N,F as B,x as M}from"./app.59e8d623.js";import{u as Q}from"./announcementServices.2b31cb9f.js";import{u as W}from"./categoryAnnouncementServices.fb0e60ce.js";import{u as X}from"./currencyServices.5cc22889.js";import{u as Y}from"./universityServices.322bd2df.js";import{_ as Z}from"./DropZone.9718b14a.js";import{_ as ee}from"./RichText.3e014ce4.js";const te={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},se={class:"w-full space-y-4 py-5 text-center"},oe={class:"text-4xl font-bold capitalize text-primary-blue"},ne={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},le={class:"text-xl font-semibold"},re={class:"text-md font-light text-gray-700"},ie={class:"mt-4"},ae={class:"col-span-2"},de={class:"text-gray-700"},ue=e("span",{class:"text-red-500"},"*",-1),ce={class:"text-xs font-light text-gray-400"},me={class:"divSelect2 col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},pe={class:"text-gray-700",for:"pt"},ge=e("span",{class:"text-red-500"},"*",-1),fe={class:"text-gray-700",for:"pt"},be=e("span",{class:"text-red-500"},"*",-1),ye=["value"],_e={class:"text-gray-700"},xe=e("span",{class:"text-red-500"},"*",-1),he={class:"text-gray-700"},ve=e("span",{class:"text-red-500"},"*",-1),we={key:0},Ve={class:"text-gray-700"},$e=e("span",{class:"text-red-500"},"*",-1),ke={key:1},Ue={class:"text-gray-700",for:"es"},Se=e("span",{class:"text-red-500"},"*",-1),Ae=["value"],Ce={class:"text-gray-700"},qe={class:"text-gray-700"},Ne={class:"col-span-2 mt-4"},Be={class:"text-gray-700",for:"fr"},Me={class:"flex items-center space-x-4 py-4"},De={class:"col-span-2 mt-4"},Fe={class:"text-gray-700 mb-2",for:"pt"},je=e("span",{class:"text-red-500"},"*",-1),ze={class:"mt-6"},Ee={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Je={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},He={__name:"AddAnnouncement",setup(a){const i=T(),l=localStorage.user?JSON.parse(localStorage.user):"",{categoryAnnouncements:v,getCategoryAnnouncements:x}=W(),{currencies:w,getCurrencies:V}=X(),{universities:y,getAllUniversities:u}=Y();q(null),G(()=>k(this,null,function*(){g.value=!0,yield x(),yield V(),yield u(),g.value=!1}));const g=q(!1),s=I({title:"",user_id:l.id,description:"",price:"",image:[],adress:"",website:"",email:l.email,phone:"",category_announcement_id:"",currency_id:"",university_id:""}),{createAnnouncement:D,errors:$,loading:U}=Q(),F=()=>k(this,null,function*(){yield D(C({},s)),$.value==""&&i.push({name:"ads"})});return(r,o)=>{const j=K("Spin");return d(),c("div",te,[e("div",se,[e("h1",oe,n(r.$tc("add",2))+" "+n(r.$t("ads")),1)]),e("section",ne,[f($)!=""?(d(),L(P,{key:0},{default:O(()=>[m(n(f($)),1)]),_:1})):_("",!0),e("h1",le,n(r.$tc("add",2))+" "+n(r.$t("ads")),1),e("h2",re,n(r.$t("good-msg-post"))+" ! ",1),e("form",{onSubmit:o[11]||(o[11]=R(t=>F(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",ie,[e("div",ae,[e("label",de,[m(n(r.$t("title"))+" ",1),ue]),p(e("input",{required:"","onUpdate:modelValue":o[0]||(o[0]=t=>s.title=t),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,s.title]]),e("span",ce,n(s.title?s.title.length:0)+" of 50 Characters",1)]),e("div",me,[e("div",null,[e("label",pe,[m(n(r.$t("university"))+" ",1),ge]),h(H,{modelValue:s.university_id,"onUpdate:modelValue":o[1]||(o[1]=t=>s.university_id=t),data:f(y),placeholder:"Select University",required:!1,resetField:!0,loading:g.value,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","loading"])]),e("div",null,[e("label",fe,[m(n(r.$t("category"))+" ",1),be]),p(e("select",{required:"","onUpdate:modelValue":o[2]||(o[2]=t=>s.category_announcement_id=t),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(d(!0),c(B,null,M(f(v),t=>(d(),c("option",{key:t.id,value:t.id},n(t.name),9,ye))),128))],512),[[N,s.category_announcement_id]])]),e("div",null,[e("label",_e,[m(n(r.$t("contact-phone"))+" ",1),xe]),p(e("input",{required:"","onUpdate:modelValue":o[3]||(o[3]=t=>s.phone=t),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,s.phone]])]),e("div",null,[e("label",he,[m(n(r.$t("contact-email"))+" ",1),ve]),p(e("input",{required:"","onUpdate:modelValue":o[4]||(o[4]=t=>s.email=t),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,s.email]])]),s.category_announcement_id!=10?(d(),c("div",we,[e("label",Ve,[m(n(r.$t("price"))+" ",1),$e]),p(e("input",{required:"","onUpdate:modelValue":o[5]||(o[5]=t=>s.price=t),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,s.price]])])):_("",!0),s.category_announcement_id!=10?(d(),c("div",ke,[e("label",Ue,[m(n(r.$t("currency"))+" ",1),Se]),p(e("select",{required:"","onUpdate:modelValue":o[6]||(o[6]=t=>s.currency_id=t),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(d(!0),c(B,null,M(f(w),t=>(d(),c("option",{key:t.id,value:t.id},n(t.symbol+" "+t.name),9,Ae))),128))],512),[[N,s.currency_id]])])):_("",!0),e("div",null,[e("label",Ce,n(r.$t("adresse")),1),p(e("input",{"onUpdate:modelValue":o[7]||(o[7]=t=>s.adress=t),type:"text",placeholder:"Douala Cameroon",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,s.adress]])]),e("div",null,[e("label",qe,n(r.$t("website")),1),p(e("input",{"onUpdate:modelValue":o[8]||(o[8]=t=>s.website=t),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,s.website]])])]),e("div",Ne,[e("label",Be,n(r.$t("thumbnails")),1),e("div",Me,[h(Z,{modelValue:s.image,"onUpdate:modelValue":o[9]||(o[9]=t=>s.image=t),multiple:!0},null,8,["modelValue"])])]),e("div",De,[e("label",Fe,[m(n(r.$t("description"))+" ",1),je]),h(ee,{modelValue:s.description,"onUpdate:modelValue":o[10]||(o[10]=t=>s.description=t)},null,8,["modelValue"])])]),e("div",ze,[f(U)==0?(d(),c("button",Ee,n(r.$t("save")),1)):_("",!0),f(U)==1?(d(),c("button",Je,[h(j,{size:"small"})])):_("",!0)])],32)])])}}};export{He as default};
