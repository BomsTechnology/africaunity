var s=(m,u,n)=>new Promise((e,d)=>{var p=o=>{try{c(n.next(o))}catch(l){d(l)}},A=o=>{try{c(n.throw(o))}catch(l){d(l)}},c=o=>o.done?e(o.value):Promise.resolve(o.value).then(p,A);c((n=n.apply(m,u)).next())});import{r as i,p as r}from"./app.59e8d623.js";function y(){const m=i([]),u=i([]),n=i(""),e=i(0);return{announcementComments:m,announcementComment:u,errorsCmtAds:n,loading:e,getAnnouncementComments:()=>s(this,null,function*(){n.value="",e.value=!0;let t=yield r.get("/api/announcement-comments",{headers:{Authorization:`Bearer ${localStorage.token}`}});m.value=t.data.data,e.value=!1}),getAnnouncementComment:t=>s(this,null,function*(){n.value="",e.value=!0;let a=yield r.get("/api/announcement-comments/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,u.value=a.data.data}),createAnnouncementComment:t=>s(this,null,function*(){n.value="";try{e.value=!0,yield r.post("/api/announcement-comments",t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(a){if(a.response.status==422){e.value=0;for(const v in a.response.data.errorsCmtAds)n.value+=a.response.data.errorsCmtAds[v][0]+`
`}}}),updateAnnouncementComment:t=>s(this,null,function*(){n.value="";try{e.value=!0,yield r.put("/api/announcement-comments/"+t.id,t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(a){if(e.value=0,a.response.status==422)for(const v in a.response.data.errorsCmtAds)n.value+=a.response.data.errorsCmtAds[v][0]+`	
`}}),destroyAnnouncementComment:t=>s(this,null,function*(){n.value="";try{return e.value=!0,yield r.delete(`/api/announcement-comments/${JSON.stringify(t)}`,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,!0}catch(a){e.value=0,n.value="Impossible de supprimer ce announcementComment"}}),getAnnouncementCommentsPost:t=>s(this,null,function*(){n.value="",e.value=!0;let a=yield r.get("/api/announcement-comments-post/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}});m.value=a.data.data,e.value=!1}),getAnnouncementCommentsUser:t=>s(this,null,function*(){n.value="",e.value=!0;let a=yield r.get("/api/announcement-comments-user/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}});m.value=a.data.data,e.value=!1})}}export{y as u};
