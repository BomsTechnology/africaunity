var k=(m,q,_)=>new Promise((C,x)=>{var U=c=>{try{g(_.next(c))}catch(b){x(b)}},V=c=>{try{g(_.throw(c))}catch(b){x(b)}},g=c=>c.done?C(c.value):Promise.resolve(c.value).then(U,V);g((_=_.apply(m,q)).next())});import{G as X,r as v,o as Y,a as ee,b as te,d as s,e as n,f as o,t as a,h as u,l as oe,w as L,j as re,P as ie,k as w,m as se,I as l,K as ne,J as d,F as p,x as y,g as j,U as ae,R}from"./app.59e8d623.js";import{u as le}from"./universityServices.322bd2df.js";import{u as de}from"./continentServices.497e44db.js";import{u as ue}from"./countryServices.be0576be.js";import{u as ce}from"./cityServices.ccbc8354.js";import{u as pe}from"./legalStatusServices.44dc14c3.js";import{u as ye,a as _e}from"./schoolingTypeServices.95d27e41.js";import{u as me}from"./levelStudyServices.5acf4292.js";import{u as ge}from"./zoneServices.1394980d.js";import{_ as be}from"./RichText.3e014ce4.js";const fe={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},ve={class:"z-0 w-full p-4"},xe={class:"flex w-full justify-between bg-white px-8 py-5"},he={class:"text-4xl font-bold capitalize text-primary-blue"},ke={class:"mx-auto w-full bg-white p-6"},we={class:"text-md font-light text-gray-700"},qe={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},Ce={class:"col-span-2"},Ue=o("label",{class:"dark:text-gray-200 text-gray-700"},"Name",-1),Ve=o("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Continent",-1),Se=["value"],ze=o("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Zone",-1),je=["value"],Fe={key:1,value:"null"},Ne=o("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Country",-1),De=["value"],Je={key:1,value:"null"},Le={class:""},Re=o("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"City",-1),Ae=["value"],Me={key:1,value:"null"},Te={class:""},$e=o("label",{class:"dark:text-gray-200 text-gray-700"},"Etablishment Type",-1),Be=["value"],Ze={class:""},Ee=o("label",{class:"dark:text-gray-200 text-gray-700"},"Sector",-1),Oe=["value"],Ie={class:""},Pe=o("label",{class:"dark:text-gray-200 text-gray-700"},"Level Study",-1),Ge=["value"],Ke={class:""},He=o("label",{class:"dark:text-gray-200 text-gray-700"},"Required Level",-1),Qe=["value"],We={class:""},Xe=o("label",{class:"dark:text-gray-200 text-gray-700"},"Registration Period",-1),Ye=R('<option value="january">January</option><option value="february">February</option><option value="march">March</option><option value="april">April</option><option value="june">June</option><option value="july">July </option><option value="august">August</option><option value="september">September</option><option value="october">October</option><option value="november">November</option><option value="december">December</option>',11),et=[Ye],tt={class:""},ot=o("label",{class:"dark:text-gray-200 text-gray-700"},"Firstday of School",-1),rt=R('<option value="january">January</option><option value="february">February</option><option value="march">March</option><option value="april">April</option><option value="june">June</option><option value="july">July </option><option value="august">August</option><option value="september">September</option><option value="october">October</option><option value="november">November</option><option value="december">December</option>',11),it=[rt],st={class:""},nt=o("label",{class:"dark:text-gray-200 text-gray-700"},"Schooling Type",-1),at=["value"],lt={class:""},dt=o("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),ut={class:"col-span-2"},ct=o("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),pt={class:"mt-6 flex flex-col items-end justify-end"},yt={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},_t={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},mt={key:0,class:"text-xs font-light italic"},Vt={__name:"UniversityCreate",props:{type:{required:!0,type:String}},setup(m){const q=m,_=X(),{continents:C,getContinents:x}=de(),{countries:U,getCountries:V}=ue(),{cities:g,getCities:c}=ce(),{zones:b,getZones:A}=ge(),{legalStatuses:M,getLegalStatuses:T}=pe(),{levelStudies:F,getLevelStudies:$}=me(),{universitySectors:B,getUniversitySectors:Z}=ye(),{schoolingTypes:E,getSchoolingTypes:O}=_e(),N=v("");Y(()=>k(this,null,function*(){yield A(),yield x(),yield V(),yield c(),yield T(),yield Z(),yield O(),yield $()}));const t=ee({name:"",description:"",image:"",continent_id:"",country_id:"",city_id:"",zone_id:"",legal_status_id:"",schooling_type_id:"",university_sector_id:"",level_study_id:"",required_level:"",firstday_university:"",registration_period:""}),S=v([]),h=v([]),D=v(null),f=v([]),I=()=>{f.value=g.value.filter(i=>i.country_id==t.country_id),t.city_id=""},P=()=>{h.value=U.value.filter(i=>i.zone_id==t.zone_id),t.country_id="",t.city_id="",f.value=[]},G=()=>{S.value=b.value.filter(i=>i.continent_id==t.continent_id),t.zone_id="",t.country_id="",t.city_id="",f.value=[],h.value=[]},{createUniversity:K,errors:z,loading:J}=le(),H=()=>k(this,null,function*(){let i=new FormData;i.append("type",q.type),i.append("image",t.image),i.append("name",t.name),i.append("description",t.description),i.append("continent_id",t.continent_id),i.append("country_id",t.country_id),i.append("city_id",t.city_id),i.append("zone_id",t.zone_id),i.append("legal_status_id",t.legal_status_id),i.append("schooling_type_id",t.schooling_type_id),i.append("university_sector_id",t.university_sector_id),i.append("level_study_id",t.level_study_id),i.append("required_level",t.required_level),i.append("firstday_university",t.firstday_university),i.append("registration_period",t.registration_period),yield K(i),z.value==""&&_.push({name:"admin.university.index"})}),Q=()=>k(this,null,function*(){t.image=D.value.files[0]});return(i,r)=>{const W=te("Spin");return s(),n("div",fe,[o("div",ve,[o("div",xe,[o("h1",he," Add "+a(m.type),1)]),o("section",ke,[u(z)!=""?(s(),oe(ie,{key:0},{default:L(()=>[re(a(u(z)),1)]),_:1})):w("",!0),o("h2",we," Add a new "+a(m.type),1),o("form",{onSubmit:r[14]||(r[14]=se(e=>H(),["prevent"])),id:"universityform",enctype:"multipart/form-data"},[o("div",qe,[o("div",Ce,[Ue,l(o("input",{required:"","onUpdate:modelValue":r[0]||(r[0]=e=>t.name=e),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[ne,t.name]])]),o("div",null,[Ve,l(o("select",{required:"",onChange:G,"onUpdate:modelValue":r[1]||(r[1]=e=>t.continent_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(s(!0),n(p,null,y(u(C),e=>(s(),n("option",{key:e.id,value:e.id},a(e.name_en),9,Se))),128))],544),[[d,t.continent_id]])]),o("div",null,[ze,l(o("select",{required:"","onUpdate:modelValue":r[2]||(r[2]=e=>t.zone_id=e),onChange:P,class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[S.value.length!=0?(s(!0),n(p,{key:0},y(S.value,e=>(s(),n("option",{key:e.id,value:e.id},a(e.name_en),9,je))),128)):(s(),n("option",Fe," Requires "+a(i.$t("continent")),1))],544),[[d,t.zone_id]])]),o("div",null,[Ne,l(o("select",{required:"",onChange:I,"onUpdate:modelValue":r[3]||(r[3]=e=>t.country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[h.value.length!=0?(s(!0),n(p,{key:0},y(h.value,e=>(s(),n("option",{key:e.id,value:e.id},a(e.name_en),9,De))),128)):(s(),n("option",Je," Requires "+a(i.$t("zoned")),1))],544),[[d,t.country_id]])]),o("div",Le,[Re,l(o("select",{required:"","onUpdate:modelValue":r[4]||(r[4]=e=>t.city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[f.value.length!=0?(s(!0),n(p,{key:0},y(f.value,e=>(s(),n("option",{key:e.id,value:e.id},a(e.name_en),9,Ae))),128)):(s(),n("option",Me," Requires "+a(i.$t("country")),1))],512),[[d,t.city_id]])]),o("div",Te,[$e,l(o("select",{required:"","onUpdate:modelValue":r[5]||(r[5]=e=>t.legal_status_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(s(!0),n(p,null,y(u(M),e=>(s(),n("option",{key:e.id,value:e.id},a(e.name_en),9,Be))),128))],512),[[d,t.legal_status_id]])]),o("div",Ze,[Ee,l(o("select",{required:"","onUpdate:modelValue":r[6]||(r[6]=e=>t.university_sector_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(s(!0),n(p,null,y(u(B),e=>(s(),n("option",{key:e.id,value:e.id},a(e.name_en),9,Oe))),128))],512),[[d,t.university_sector_id]])]),o("div",Ie,[Pe,l(o("select",{required:"","onUpdate:modelValue":r[7]||(r[7]=e=>t.level_study_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(s(!0),n(p,null,y(u(F),e=>(s(),n("option",{key:e.id,value:e.id},a(e.name_en),9,Ge))),128))],512),[[d,t.level_study_id]])]),o("div",Ke,[He,l(o("select",{required:"","onUpdate:modelValue":r[8]||(r[8]=e=>t.required_level=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(s(!0),n(p,null,y(u(F),e=>(s(),n("option",{key:e.id,value:e.id},a(e.name_en),9,Qe))),128))],512),[[d,t.required_level]])]),o("div",We,[Xe,l(o("select",{required:"","onUpdate:modelValue":r[9]||(r[9]=e=>t.registration_period=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},et,512),[[d,t.registration_period]])]),o("div",tt,[ot,l(o("select",{required:"","onUpdate:modelValue":r[10]||(r[10]=e=>t.firstday_university=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},it,512),[[d,t.firstday_university]])]),o("div",st,[nt,l(o("select",{required:"","onUpdate:modelValue":r[11]||(r[11]=e=>t.schooling_type_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(s(!0),n(p,null,y(u(E),e=>(s(),n("option",{key:e.id,value:e.id},a(e.name_en),9,at))),128))],512),[[d,t.schooling_type_id]])]),o("div",lt,[dt,o("input",{required:"",ref_key:"file",ref:D,onChange:r[12]||(r[12]=e=>Q()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),o("div",ut,[ct,j(be,{modelValue:t.description,"onUpdate:modelValue":r[13]||(r[13]=e=>t.description=e)},null,8,["modelValue"])])]),o("div",pt,[u(J)==0?(s(),n("button",yt," Save ")):w("",!0),u(J)==1?(s(),n("button",_t,[j(W,{size:"small"})])):w("",!0),j(ae,{"enter-active-class":" transition-all  ","enter-from-class":" opacity-0  -translate-y-10","enter-to-class":"  opacity-1 translate-y-0","leave-active-class":"","leave-from-class":"","leave-to-class":""},{default:L(()=>[N.value!=""?(s(),n("span",mt,a(N.value),1)):w("",!0)]),_:1})])],32)])])])}}};export{Vt as default};
