var N=Object.defineProperty;var k=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var U=(o,a,e)=>a in o?N(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e,w=(o,a)=>{for(var e in a||(a={}))B.call(a,e)&&U(o,e,a[e]);if(k)for(var e of k(a))$.call(a,e)&&U(o,e,a[e]);return o};var b=(o,a,e)=>new Promise((y,f)=>{var g=l=>{try{i(e.next(l))}catch(n){f(n)}},h=l=>{try{i(e.throw(l))}catch(n){f(n)}},i=l=>l.done?y(l.value):Promise.resolve(l.value).then(g,h);i((e=e.apply(o,a)).next())});import{r as _,o as z,b as A,d as c,e as p,f as t,g as v,w as m,h as x,I as S,J as F,K as R,l as J,j as T,a as C}from"./app.59e8d623.js";import{u as K}from"./userServices.7388dd6e.js";import{r as L}from"./PlusCircleIcon.cb1c78f8.js";import{r as O}from"./TrashIcon.564fd26b.js";import{r as P}from"./UserCircleIcon.87b9d93c.js";const Y={class:"relative h-auto min-h-screen w-full bg-white xl:mt-0 xl:p-4"},q={class:"z-0 h-full w-full p-4"},G={class:"flex justify-between bg-white px-8 py-5"},H=t("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," User ",-1),Q=t("p",{class:"text-base leading-4"},"Add User",-1),W={class:"items-center justify-between lg:flex"},X={class:"items-end space-x-2 p-4 lg:flex"},Z=t("label",{for:""},"Filter by:",-1),ee=t("option",{value:"firstname"},"Name",-1),te=t("option",{value:"email"},"Email",-1),se=[ee,te],ae={class:"relative mt-1"},re=t("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[t("svg",{class:"dark:text-gray-400 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),le={class:""},oe=t("span",{class:"hidden text-sm font-thin lg:block"},"Delete",-1),ie=["src"],ne={key:0,class:"rounded-full bg-green-500 p-2 text-white"},de={key:1,class:"rounded-full bg-red-500 p-2 text-white"},ue=["onClick"],ce=["onClick"],xe={__name:"UserIndex",setup(o){const{users:a,getUsers:e,destroyUser:y,updateStatusUser:f,loading:g,errors:h}=K(),i=_([]),l=_("firstname"),n=_("");z(()=>b(this,null,function*(){yield e()}));const E=()=>b(this,null,function*(){if(i.value.length!=0){const d=_([]);i.value.forEach(r=>{d.value.push(r.id)}),confirm("I you Sure ?")&&(yield y(d.value),h.value==""&&(yield e(),i.value=[]))}}),I=(d,r)=>b(this,null,function*(){const u=C({status:r});confirm("I you Sure ?")&&(yield f(d,w({},u)),h.value==""&&(yield e()))}),M=(d,r)=>b(this,null,function*(){const u=C({status:r});confirm("I you Sure ?")&&(yield f(d,w({},u)),h.value==""&&(yield e()))}),V=[{text:"AVATAR",value:"avatar"},{text:"FIRSTNAME",value:"firstname"},{text:"EMAIL",value:"email"},{text:"TYPE",value:"type"},{text:"STATUS",value:"status"},{text:"ACTION",value:"id"}];return(d,r)=>{const u=A("router-link"),j=A("EasyDataTable");return c(),p("div",Y,[t("div",q,[t("div",G,[H,v(u,{to:{name:"admin.user.create"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:m(()=>[v(x(L),{class:"h-6 w-6"}),Q]),_:1},8,["to"])]),t("div",W,[t("div",X,[t("div",null,[Z,S(t("select",{"onUpdate:modelValue":r[0]||(r[0]=s=>l.value=s),class:"form-select mt-2 block w-32 rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},se,512),[[F,l.value]])]),t("div",ae,[re,S(t("input",{"onUpdate:modelValue":r[1]||(r[1]=s=>n.value=s),type:"text",id:"table-search",class:"dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 block w-80 rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-primary-blue focus:ring-primary-blue",placeholder:"Search for items"},null,512),[[R,n.value]])])]),t("div",le,[t("button",{type:"button",title:"delete",onClick:r[2]||(r[2]=s=>E()),class:"flex items-center justify-between space-x-2 rounded border border-red-500 p-2 text-red-500 hover:bg-red-500 hover:text-white"},[v(x(O),{class:"h-6 w-6"}),oe])])]),v(j,{"items-selected":i.value,"onUpdate:itemsSelected":r[3]||(r[3]=s=>i.value=s),headers:V,items:x(a),alternating:"","search-field":l.value,"search-value":n.value,"show-index":"","buttons-pagination":"",loading:x(g)},{"item-avatar":m(s=>[s.avatar?(c(),p("img",{key:0,src:s.avatar,alt:"",class:"h-12 w-12 rounded-full object-cover"},null,8,ie)):(c(),J(x(P),{key:1,class:"h-12 w-12 text-gray-700"}))]),"item-status":m(s=>[s.status==1?(c(),p("span",ne,"Actived")):(c(),p("span",de,"Desactived"))]),"item-id":m(s=>[t("div",null,[v(u,{to:{name:"admin.user.edit",params:{id:s.id}},class:"dark:text-blue-500 text-primary-blue hover:underline"},{default:m(()=>[T("Edit")]),_:2},1032,["to"]),v(u,{to:{name:"compte",params:{slug:s.slug,id:s.id}},class:"dark:text-blue-500 ml-3 text-indigo-600 hover:underline"},{default:m(()=>[T(" view ")]),_:2},1032,["to"]),s.status==1?(c(),p("button",{key:0,type:"button",onClick:D=>I(s.id,3),class:"dark:text-blue-500 ml-3 text-purple-600 hover:underline"}," Desactived ",8,ue)):(c(),p("button",{key:1,type:"button",onClick:D=>M(s.id,1),class:"dark:text-blue-500 ml-3 text-purple-600 hover:underline"}," Actived ",8,ce))])]),_:1},8,["items-selected","items","search-field","search-value","loading"])])])}}};export{xe as default};
