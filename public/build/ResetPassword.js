var f=(w,u,l)=>new Promise((o,r)=>{var a=e=>{try{s(l.next(e))}catch(i){r(i)}},y=e=>{try{s(l.throw(e))}catch(i){r(i)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(a,y);s((l=l.apply(w,u)).next())});import{S as $,a as q,r as v,o as C,q as B,b as P,d as n,e as p,f as t,t as d,l as M,w as g,j as m,P as N,k as h,g as x,m as S,h as _,I as b,K as k}from"./app.js";import{r as V}from"./LockClosedIcon.js";const j={class:"mx-auto w-full items-center justify-center bg-white px-2 py-8 md:space-x-6 md:px-12 lg:flex xl:w-[90%]"},A={class:"p-6"},z={class:"shadow"},D={class:"px-6 py-6"},E={class:"text-center text-3xl font-bold text-[#242A56]"},R={key:1,class:"mx-8 mt-2 bg-green-50 py-4 px-2 text-green-700"},T={class:"relative"},U=["placeholder"],H={class:"relative"},I=["placeholder"],K={key:0,type:"submit",class:"mt-6 w-full bg-primary-blue px-8 py-2 text-lg text-white"},F={key:1,disabled:"",type:"submit",class:"mt-6 inline-flex w-full cursor-wait items-center justify-center bg-blue-300 px-8 py-2 text-lg text-white"},G=t("svg",{class:"mr-3 h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Q={__name:"ResetPassword",props:{token:{required:!0,type:String}},setup(w){const u=w,l=$(),o=q({email:"",password:"",password_confirmation:"",token:u.token}),r=v(""),a=v(0);C(()=>f(this,null,function*(){u.token&&"email"in l.query?o.email=l.query.email:B.push({name:"home"})}));const y=()=>f(this,null,function*(){try{r.value="",a.value=1,yield axios.post("/api/reset-password",o),a.value=2}catch(s){if(a.value=0,s.response.status==422)for(const e in s.response.data.errors)r.value+=s.response.data.errors[e][0]+`
`;else r.value=s.response.data.message}});return(s,e)=>{const i=P("router-link");return n(),p("div",j,[t("div",A,[t("div",z,[t("div",D,[t("h1",E,d(s.$t("change-password")),1),r.value!=""?(n(),M(N,{key:0},{default:g(()=>[m(d(r.value),1)]),_:1})):h("",!0),a.value==2?(n(),p("div",R,[t("p",null,[m(" Password changed successfully "),x(i,{class:"text-[#242A56] hover:underline",to:{name:"login"}},{default:g(()=>[m(d(s.$t("login")),1)]),_:1})])])):(n(),p("form",{key:2,onSubmit:e[2]||(e[2]=S(c=>y(),["prevent"])),class:"py-7"},[t("div",T,[t("span",null,[x(_(V),{class:"absolute mt-2 ml-2 h-6 w-6 text-gray-400"})]),b(t("input",{type:"password",required:"","onUpdate:modelValue":e[0]||(e[0]=c=>o.password=c),placeholder:s.$t("new-password"),class:"form-input mt-3 block w-full border-gray-400 px-3 pr-2 pl-10 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,8,U),[[k,o.password]])]),t("div",H,[t("span",null,[x(_(V),{class:"absolute mt-2 ml-2 h-6 w-6 text-gray-400"})]),b(t("input",{type:"password",required:"","onUpdate:modelValue":e[1]||(e[1]=c=>o.password_confirmation=c),placeholder:s.$t("confirm-password"),class:"form-input mt-3 block w-full border-gray-400 px-3 pr-2 pl-10 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,8,I),[[k,o.password_confirmation]])]),t("div",null,[a.value==0?(n(),p("button",K,d(s.$t("update")),1)):h("",!0),a.value==1?(n(),p("button",F,[G,m(" "+d(s.$t("update"))+"... ",1)])):h("",!0)])],32))])])])])}}};export{Q as default};
