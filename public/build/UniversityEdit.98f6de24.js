var q=(C,h,m)=>new Promise((k,w)=>{var V=c=>{try{_(m.next(c))}catch(f){w(f)}},t=c=>{try{_(m.throw(c))}catch(f){w(f)}},_=c=>c.done?k(c.value):Promise.resolve(c.value).then(V,t);_((m=m.apply(C,h)).next())});import{G as oe,r as g,o as re,b as ie,d as n,e as a,f as o,j as S,h as r,t as l,k as b,l as L,w as R,P as se,m as ne,I as u,K as ae,J as d,F as p,x as y,g as T,U as le,R as E}from"./app.59e8d623.js";import{u as ue}from"./universityServices.322bd2df.js";import{u as de}from"./continentServices.497e44db.js";import{u as ce}from"./countryServices.be0576be.js";import{u as pe}from"./zoneServices.1394980d.js";import{u as ye}from"./cityServices.ccbc8354.js";import{u as _e}from"./legalStatusServices.44dc14c3.js";import{u as me,a as ve}from"./schoolingTypeServices.95d27e41.js";import{u as ge}from"./levelStudyServices.5acf4292.js";import{_ as be}from"./RichText.3e014ce4.js";const fe={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},xe={class:"z-0 w-full p-4"},he={class:"flex w-full justify-between bg-white px-8 py-5"},ke={class:"text-4xl font-bold capitalize text-primary-blue"},we={key:0},Ue={class:"mx-auto w-full bg-white p-6"},qe={class:"text-md font-light text-gray-700"},Ce={key:0},Ve={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},Se={class:"col-span-2"},ze=o("label",{class:"dark:text-gray-200 text-gray-700"},"Name",-1),je=o("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Continent",-1),Fe=["value"],Ne=o("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Zone",-1),De=["value"],Je={key:1,value:"null"},Le=o("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Country",-1),Re=["value"],Te={key:1,value:"null"},Ee=o("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"City",-1),Me=["value"],$e={key:1,value:"null"},Ae={class:""},Be=o("label",{class:"dark:text-gray-200 text-gray-700"},"Etablishment Type",-1),Ze=["value"],Oe={class:""},Pe=o("label",{class:"dark:text-gray-200 text-gray-700"},"Sector",-1),Ie=["value"],Ge={class:""},Ke=o("label",{class:"dark:text-gray-200 text-gray-700"},"Level Study",-1),He=["value"],Qe={class:""},We=o("label",{class:"dark:text-gray-200 text-gray-700"},"Required Level",-1),Xe=["value"],Ye={class:""},et=o("label",{class:"dark:text-gray-200 text-gray-700"},"Registration Period",-1),tt=E('<option value="january">January</option><option value="february">February</option><option value="march">March</option><option value="april">April</option><option value="june">June</option><option value="july">July </option><option value="august">August</option><option value="september">September</option><option value="october">October</option><option value="november">November</option><option value="december">December</option>',11),ot=[tt],rt={class:""},it=o("label",{class:"dark:text-gray-200 text-gray-700"},"Firstday of School",-1),st=E('<option value="january">January</option><option value="february">February</option><option value="march">March</option><option value="april">April</option><option value="june">June</option><option value="july">July </option><option value="august">August</option><option value="september">September</option><option value="october">October</option><option value="november">November</option><option value="december">December</option>',11),nt=[st],at={class:""},lt=o("label",{class:"dark:text-gray-200 text-gray-700"},"Schooling Type",-1),ut=["value"],dt={class:""},ct=o("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),pt={class:"col-span-2"},yt=o("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),_t={class:"mt-6 flex flex-col items-end justify-end"},mt={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},vt={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},gt={key:0,class:"text-xs font-light italic"},zt={__name:"UniversityEdit",props:{id:{required:!0,type:String}},setup(C){const h=C,m=oe(),k=g(""),{updateUniversity:w,getUniversity:V,university:t,errors:_,loading:c}=ue(),{continents:f,getContinents:M}=de(),{countries:z,getCountries:$}=ce(),{cities:j,getCities:A}=ye(),{zones:F,getZones:B}=pe(),{legalStatuses:Z,getLegalStatuses:O}=_e(),{levelStudies:N,getLevelStudies:P}=ge(),{universitySectors:I,getUniversitySectors:G}=me(),{schoolingTypes:K,getSchoolingTypes:H}=ve(),D=g(null),U=g([]),x=g([]),v=g([]),J=g(0),Q=()=>{v.value=j.value.filter(i=>i.country_id==t.value.country_id),t.value.city_id=""},W=()=>{x.value=z.value.filter(i=>i.zone_id==t.value.zone_id),t.value.country_id="",t.value.city_id="",v.value=[]},X=()=>{U.value=F.value.filter(i=>i.continent_id==t.value.continent_id),t.value.zone_id="",t.value.country_id="",t.value.city_id="",v.value=[],x.value=[]};re(()=>q(this,null,function*(){yield V(h.id),J.value++,yield M(),yield $(),yield A(),yield B(),U.value=F.value.filter(i=>i.continent_id==t.value.continent_id),x.value=z.value.filter(i=>i.zone_id==t.value.zone_id),v.value=j.value.filter(i=>i.country_id==t.value.country_id),yield O(),yield G(),yield H(),yield P(),t.value.image=""}));const Y=()=>q(this,null,function*(){let i=new FormData;i.append("image",t.value.image),i.append("name",t.value.name),i.append("description",t.value.description),i.append("continent_id",t.value.continent_id),i.append("country_id",t.value.country_id),i.append("city_id",t.value.city_id),i.append("zone_id",t.value.zone_id),i.append("legal_status_id",t.value.legal_status_id),i.append("schooling_type_id",t.value.schooling_type_id),i.append("university_sector_id",t.value.university_sector_id),i.append("level_study_id",t.value.level_study_id),i.append("required_level",t.value.required_level),i.append("firstday_university",t.value.firstday_university),i.append("registration_period",t.value.registration_period),i.append("_method","PUT"),yield w(i,h.id),_.value==""&&m.push({name:"admin.university.index"})}),ee=()=>q(this,null,function*(){t.value.image=D.value.files[0]});return(i,s)=>{const te=ie("Spin");return n(),a("div",fe,[o("div",xe,[o("div",he,[o("h1",ke,[S(" Edit "),r(t)?(n(),a("span",we,l(r(t).type),1)):b("",!0)])]),o("section",Ue,[r(_)!=""?(n(),L(se,{key:0},{default:R(()=>[S(l(r(_)),1)]),_:1})):b("",!0),o("h2",qe,[S(" Edit "),r(t)?(n(),a("span",Ce,l(r(t).type),1)):b("",!0)]),o("form",{onSubmit:s[14]||(s[14]=ne(e=>Y(),["prevent"])),id:"universityform",enctype:"multipart/form-data"},[o("div",Ve,[o("div",Se,[ze,u(o("input",{required:"","onUpdate:modelValue":s[0]||(s[0]=e=>r(t).name=e),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[ae,r(t).name]])]),o("div",null,[je,u(o("select",{required:"",onChange:X,"onUpdate:modelValue":s[1]||(s[1]=e=>r(t).continent_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),a(p,null,y(r(f),e=>(n(),a("option",{key:e.id,value:e.id},l(e.name_en),9,Fe))),128))],544),[[d,r(t).continent_id]])]),o("div",null,[Ne,u(o("select",{required:"",onChange:W,"onUpdate:modelValue":s[2]||(s[2]=e=>r(t).zone_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[U.value.length!=0?(n(!0),a(p,{key:0},y(U.value,e=>(n(),a("option",{key:e.id,value:e.id},l(e.name_en),9,De))),128)):(n(),a("option",Je," Requires "+l(i.$t("continent")),1))],544),[[d,r(t).zone_id]])]),o("div",null,[Le,u(o("select",{required:"",onChange:Q,"onUpdate:modelValue":s[3]||(s[3]=e=>r(t).country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[x.value.length!=0?(n(!0),a(p,{key:0},y(x.value,e=>(n(),a("option",{key:e.id,value:e.id},l(e.name_en),9,Re))),128)):(n(),a("option",Te," Requires "+l(i.$t("zoned")),1))],544),[[d,r(t).country_id]])]),o("div",null,[Ee,u(o("select",{required:"","onUpdate:modelValue":s[4]||(s[4]=e=>r(t).city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[v.value.length!=0?(n(!0),a(p,{key:0},y(v.value,e=>(n(),a("option",{key:e.id,value:e.id},l(e.name_en),9,Me))),128)):(n(),a("option",$e," Requires "+l(i.$t("country")),1))],512),[[d,r(t).city_id]])]),o("div",Ae,[Be,u(o("select",{required:"","onUpdate:modelValue":s[5]||(s[5]=e=>r(t).legal_status_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),a(p,null,y(r(Z),e=>(n(),a("option",{key:e.id,value:e.id},l(e.name_en),9,Ze))),128))],512),[[d,r(t).legal_status_id]])]),o("div",Oe,[Pe,u(o("select",{required:"","onUpdate:modelValue":s[6]||(s[6]=e=>r(t).university_sector_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),a(p,null,y(r(I),e=>(n(),a("option",{key:e.id,value:e.id},l(e.name_en),9,Ie))),128))],512),[[d,r(t).university_sector_id]])]),o("div",Ge,[Ke,u(o("select",{required:"","onUpdate:modelValue":s[7]||(s[7]=e=>r(t).level_study_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),a(p,null,y(r(N),e=>(n(),a("option",{key:e.id,value:e.id},l(e.name_en),9,He))),128))],512),[[d,r(t).level_study_id]])]),o("div",Qe,[We,u(o("select",{required:"","onUpdate:modelValue":s[8]||(s[8]=e=>r(t).required_level=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),a(p,null,y(r(N),e=>(n(),a("option",{key:e.id,value:e.id},l(e.name_en),9,Xe))),128))],512),[[d,r(t).required_level]])]),o("div",Ye,[et,u(o("select",{required:"","onUpdate:modelValue":s[9]||(s[9]=e=>r(t).registration_period=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},ot,512),[[d,r(t).registration_period]])]),o("div",rt,[it,u(o("select",{required:"","onUpdate:modelValue":s[10]||(s[10]=e=>r(t).firstday_university=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},nt,512),[[d,r(t).firstday_university]])]),o("div",at,[lt,u(o("select",{required:"","onUpdate:modelValue":s[11]||(s[11]=e=>r(t).schooling_type_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),a(p,null,y(r(K),e=>(n(),a("option",{key:e.id,value:e.id},l(e.name_en),9,ut))),128))],512),[[d,r(t).schooling_type_id]])]),o("div",dt,[ct,o("input",{ref_key:"file",ref:D,onChange:s[12]||(s[12]=e=>ee()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),o("div",pt,[yt,(n(),L(be,{key:J.value,modelValue:r(t).description,"onUpdate:modelValue":s[13]||(s[13]=e=>r(t).description=e)},null,8,["modelValue"]))])]),o("div",_t,[r(c)==0?(n(),a("button",mt," Save ")):b("",!0),r(c)==1?(n(),a("button",vt,[T(te,{size:"small"})])):b("",!0),T(le,{"enter-active-class":" transition-all  ","enter-from-class":" opacity-0  -translate-y-10","enter-to-class":"  opacity-1 translate-y-0","leave-active-class":"","leave-from-class":"","leave-to-class":""},{default:R(()=>[k.value!=""?(n(),a("span",gt,l(k.value),1)):b("",!0)]),_:1})])],32)])])])}}};export{zt as default};
