import{r as g,o as I,d as a,e as n,f as e,h as r,l as k,w as P,j as T,t as b,P as $,k as m,m as G,I as l,K as d,g as y,J as _,F as w,x as h,G as J,b as V}from"./app.4a599ac6.js";import{u as K}from"./announcementServices.e0726625.js";import{u as L}from"./categoryAnnouncementServices.5b96b107.js";import{u as R}from"./currencyServices.9ec99a70.js";import{u as W}from"./universityServices.2fca3e2f.js";import{_ as H}from"./RichText.8d5e383b.js";import{_ as O}from"./DropZone.0608e46a.js";const Q={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},X={class:"z-0 w-full p-4"},Y=e("div",{class:"flex w-full justify-between bg-white px-8 py-5"},[e("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Edit Announcement ")],-1),Z={class:"mx-auto w-full bg-white p-6"},ee=e("h2",{class:"text-md font-light text-gray-700"}," Add a new Announcement ",-1),te={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},re={class:"col-span-2"},oe=e("label",{class:"dark:text-gray-200 text-gray-700"},"Title",-1),se=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"University",-1),ae=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Category",-1),le=["value"],ne=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Phone",-1),de=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Adress Email",-1),ie=e("label",{class:"dark:text-gray-200 text-gray-700"},"Price",-1),ue=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Currency",-1),ce=["value"],ge=e("label",{class:"dark:text-gray-200 text-gray-700"},"Address",-1),be=e("label",{class:"dark:text-gray-200 text-gray-700"},"Website",-1),me={class:"col-span-2"},ye=e("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),pe={class:"col-span-2"},fe=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),xe={class:"mt-6 flex justify-end"},ve={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},ke={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},Se={__name:"AnnouncementEdit",props:{id:{required:!0,type:String}},setup(U){const p=U,A=J(),i=g([]),u=g(!1),{updateAnnouncement:C,getAnnouncement:S,announcement:o,errors:c,loading:f}=K(),{categoryAnnouncements:q,getCategoryAnnouncements:N}=L(),{currencies:E,getCurrencies:F}=R(),{universities:B,getAllUniversities:M}=W(),x=g(0);I(async()=>{u.value=!0,await S(p.id),i.value=o.value.image,x.value++,await N(),await F();let v=o.value.university_id;await M(),o.value.university_id="0",o.value.university_id=v,u.value=!1,o.value.image=""});const j=async()=>{await C({...o.value},p.id),c.value==""&&A.push({name:"admin.announcement.index"})};return(v,s)=>{const z=V("SelectFilter"),D=V("Spin");return a(),n("div",Q,[e("div",X,[Y,e("section",Z,[r(c)!=""?(a(),k($,{key:0},{default:P(()=>[T(b(r(c)),1)]),_:1})):m("",!0),ee,e("form",{onSubmit:s[11]||(s[11]=G(t=>j(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",te,[e("div",re,[oe,l(e("input",{required:"","onUpdate:modelValue":s[0]||(s[0]=t=>r(o).title=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[d,r(o).title]])]),e("div",null,[se,y(z,{modelValue:r(o).university_id,"onUpdate:modelValue":s[1]||(s[1]=t=>r(o).university_id=t),data:r(B),placeholder:"Select University",required:!1,resetField:!0,loading:u.value,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","loading","className"])]),e("div",null,[ae,l(e("select",{required:"","onUpdate:modelValue":s[2]||(s[2]=t=>r(o).category_announcement_id=t),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(a(!0),n(w,null,h(r(q),t=>(a(),n("option",{key:t.id,value:t.id},b(t.name),9,le))),128))],512),[[_,r(o).category_announcement_id]])]),e("div",null,[ne,l(e("input",{required:"","onUpdate:modelValue":s[3]||(s[3]=t=>r(o).phone=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[d,r(o).phone]])]),e("div",null,[de,l(e("input",{required:"","onUpdate:modelValue":s[4]||(s[4]=t=>r(o).email=t),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[d,r(o).email]])]),e("div",null,[ie,l(e("input",{required:"","onUpdate:modelValue":s[5]||(s[5]=t=>r(o).price=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[d,r(o).price]])]),e("div",null,[ue,l(e("select",{required:"","onUpdate:modelValue":s[6]||(s[6]=t=>r(o).currency_id=t),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(a(!0),n(w,null,h(r(E),t=>(a(),n("option",{key:t.id,value:t.id},b(t.symbol+" "+t.name),9,ce))),128))],512),[[_,r(o).currency_id]])]),e("div",null,[ge,l(e("input",{"onUpdate:modelValue":s[7]||(s[7]=t=>r(o).adress=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[d,r(o).adress]])]),e("div",null,[be,l(e("input",{"onUpdate:modelValue":s[8]||(s[8]=t=>r(o).website=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[d,r(o).website]])]),e("div",me,[ye,y(O,{modelValue:i.value,"onUpdate:modelValue":s[9]||(s[9]=t=>i.value=t),multiple:!0},null,8,["modelValue"])]),e("div",pe,[fe,(a(),k(H,{key:x.value,modelValue:r(o).description,"onUpdate:modelValue":s[10]||(s[10]=t=>r(o).description=t)},null,8,["modelValue"]))])]),e("div",xe,[r(f)==0?(a(),n("button",ve," Save ")):m("",!0),r(f)==1?(a(),n("button",ke,[y(D,{size:"small"})])):m("",!0)])],32)])])])}}};export{Se as default};
