import{a as w,o as _,d as o,e as n,f as t,h as a,l as b,w as g,j as p,t as v,P as k,k as l,m as S,I as u,K as m,G as A,p as B}from"./app.4a599ac6.js";import{u as V}from"./authServices.3fb1676a.js";const j={class:"flex h-screen items-center justify-center"},C={class:"w-full max-w-sm rounded-md bg-white p-6 shadow-md"},N=t("div",{class:"flex items-center justify-center space-x-2"},[t("h1",{class:"text-center text-3xl font-semibold text-primary-blue"}," AfricaUnity ")],-1),M=t("h1",{class:"text-md text-center font-light text-[#242A56]"}," login to acces the admin panel ",-1),U=["onSubmit"],E=t("label",{for:"username",class:"block text-sm text-gray-800"},"Username or E-mail",-1),L={class:"mt-4"},P=t("div",{class:"flex items-center justify-between"},[t("label",{for:"password",class:"block text-sm text-gray-800"},"Password")],-1),z={class:"mt-6"},D={key:0,type:"submit",class:"mt-6 w-full bg-primary-blue px-8 py-2 text-lg text-white"},G={key:1,disabled:"",type:"submit",class:"mt-6 inline-flex w-full cursor-wait items-center justify-center bg-blue-300 px-8 py-2 text-lg text-white"},O=t("svg",{class:"mr-3 h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),T=p(" Login... "),H=[O,T],I=t("p",{class:"font-mone py-2 text-center text-sm italic text-primary-blue underline"}," Powered By GNO Solutions ",-1),Y={__name:"Login",setup(J){const f=A(),s=w({email:"",password:""}),{loginAdmin:x,errors:i,loading:c}=V(),h=async()=>{await x({...s})},y=async()=>{if(localStorage.token&&localStorage.token!=""){var d=JSON.parse(localStorage.user);try{let e=await B.post("/api/verif-admin",{id:d.id});f.push({name:"admin.dash"})}catch{i.value="Your not a admin"}}};return _(async()=>{y()}),(d,e)=>(o(),n("div",j,[t("div",C,[N,M,a(i)!=""?(o(),b(k,{key:0},{default:g(()=>[p(v(a(i)),1)]),_:1})):l("",!0),t("form",{onSubmit:S(h,["prevent"]),class:"mt-6"},[t("div",null,[E,u(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>s.email=r),class:"mt-2 block w-full rounded-md border bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.email]])]),t("div",L,[P,u(t("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=r=>s.password=r),class:"mt-2 block w-full rounded-md border bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.password]])]),t("div",z,[a(c)==0?(o(),n("button",D," Login ")):l("",!0),a(c)==1?(o(),n("button",G,H)):l("",!0)]),I],40,U)])]))}};export{Y as default};
