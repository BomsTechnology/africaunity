var p=(n,m,a)=>new Promise((l,i)=>{var b=r=>{try{e(a.next(r))}catch(s){i(s)}},o=r=>{try{e(a.throw(r))}catch(s){i(s)}},e=r=>r.done?l(r.value):Promise.resolve(r.value).then(b,o);e((a=a.apply(n,m)).next())});import{a as k,r as f,b as v,I as y,L as w,d,e as u,f as t,l as _,w as S,j as g,t as c,P as M,k as x,m as B,g as h,h as C,K as $}from"./app.59e8d623.js";import{r as N}from"./ExclamationCircleIcon.747ce3af.js";const V={class:"fixed inset-0 z-40 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},j={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},z=t("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),D={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},E={class:"relative rounded-lg bg-white py-4 shadow"},K={key:1,class:"mx-8 bg-green-50 py-4 px-2 text-green-700"},O={class:"flex items-center justify-center text-xl font-bold text-gray-900 md:text-2xl"},R={class:"mr-2 rounded-full bg-yellow-100 p-2 text-yellow-700"},T={for:"report",class:"dark:text-gray-300 mb-2 block text-sm font-medium text-gray-900"},q=t("span",{class:"text-red-500"},"*",-1),A={key:0,type:"submit",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 w-full rounded-lg bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},F={key:1,type:"submit",disabled:"",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 flex w-full items-center justify-center rounded-lg bg-blue-300 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},I={key:3,class:"px-8"},U={__name:"Report",props:{open:Boolean,toogleModal:Function,id:String,type:String},setup(n){const m=n,a=k({type:m.type,reported_id:m.id,user_id:JSON.parse(localStorage.user).id,content:""}),l=f(0),i=f(""),b=()=>p(this,null,function*(){i.value="";try{l.value=1,yield axios.post("/api/report",a,{headers:{Authorization:`Bearer ${localStorage.token}`}}),l.value=2}catch(o){if(o.response.status==422){l.value=0;for(const e in o.response.data.errors)i.value+=o.response.data.errors[e][0]+`
`}}});return(o,e)=>{const r=v("Spin");return y((d(),u("div",V,[t("div",j,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:e[0]||(e[0]=(...s)=>n.toogleModal&&n.toogleModal(...s))}),z,t("div",D,[t("div",E,[i.value!=""?(d(),_(M,{key:0},{default:S(()=>[g(c(i.value),1)]),_:1})):x("",!0),l.value==2?(d(),u("div",K,[t("p",null,c(o.$t("msg-contact-sucess")),1)])):(d(),u("form",{key:2,onSubmit:e[2]||(e[2]=B(s=>b(),["prevent"])),class:"space-y-6 px-6 pb-4 sm:pb-6 lg:px-8 xl:pb-8",action:"#"},[t("h3",O,[t("span",R,[h(C(N),{class:"h-5 w-5"})]),g(" "+c(o.$t("report")),1)]),t("div",null,[t("label",T,[g(c(o.$t("report-msg"))+" ",1),q]),y(t("textarea",{required:"","onUpdate:modelValue":e[1]||(e[1]=s=>a.content=s),id:"report",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`
                            `,512),[[$,a.content]])]),l.value==0?(d(),u("button",A,c(o.$t("send")),1)):(d(),u("button",F,[h(r,{size:"small"})]))],32)),l.value==2?(d(),u("div",I,[t("button",{type:"button",onClick:e[3]||(e[3]=(...s)=>n.toogleModal&&n.toogleModal(...s)),class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-2 w-full rounded bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"}," OK ")])):x("",!0)])])])],512)),[[w,n.open]])}}};export{U as _};
