var i=(l,n,a)=>new Promise((e,o)=>{var y=r=>{try{c(a.next(r))}catch(p){o(p)}},m=r=>{try{c(a.throw(r))}catch(p){o(p)}},c=r=>r.done?e(r.value):Promise.resolve(r.value).then(y,m);c((a=a.apply(l,n)).next())});import{r as d,G as h,p as u}from"./app.js";function M(){const l=d([]),n=d([]),a=d(""),e=d(0),o=h();return{ministries:l,ministry:n,errors:a,loading:e,getMinistries:()=>i(this,null,function*(){a.value="",e.value=!0;let s=yield u.get("/api/ministries",{headers:{Authorization:`Bearer ${localStorage.token}`}});l.value=s.data.data,e.value=!1}),getMinistry:s=>i(this,null,function*(){a.value="",e.value=!0;let t=yield u.get("/api/ministries/"+s,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,n.value=t.data.data}),createMinistry:s=>i(this,null,function*(){a.value="";try{e.value=!0,yield u.post("/api/ministries",s,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,o.push({name:"admin.ministry.index"})}catch(t){if(t.response.status==422){e.value=0;for(const v in t.response.data.errors)a.value+=t.response.data.errors[v][0]+`
`}}}),updateMinistry:s=>i(this,null,function*(){a.value="";try{e.value=!0,yield u.put("/api/ministries/"+s,n.value,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,o.push({name:"admin.ministry.index"})}catch(t){if(e.value=0,t.response.status==422)for(const v in t.response.data.errors)a.value+=t.response.data.errors[v][0]+`	
`}}),destroyMinistry:s=>i(this,null,function*(){a.value="";try{e.value=!0,yield u.delete(`/api/ministries/${JSON.stringify(s)}`,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(t){e.value=0,t.response.status=="500"&&(a.value="Impossible de supprimer ce ministries")}})}}export{M as u};
