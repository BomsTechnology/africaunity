var l=(n,v,a)=>new Promise((e,c)=>{var S=r=>{try{i(a.next(r))}catch(t){c(t)}},p=r=>{try{i(a.throw(r))}catch(t){c(t)}},i=r=>r.done?e(r.value):Promise.resolve(r.value).then(S,p);i((a=a.apply(n,v)).next())});import{r as d,p as u}from"./app.59e8d623.js";function f(){const n=d([]),v=d([]),a=d(""),e=d(0);return{levelStudies:n,levelStudy:v,errorsLS:a,loading:e,getLevelStudies:()=>l(this,null,function*(){a.value="",e.value=!0;let t=yield u.get("/api/levelStudies",{headers:{Authorization:`Bearer ${localStorage.token}`}});n.value=t.data.data,e.value=!1}),getLevelStudy:t=>l(this,null,function*(){a.value="",e.value=!0;let s=yield u.get("/api/levelStudies/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,v.value=s.data.data}),createLevelStudy:t=>l(this,null,function*(){a.value="";try{e.value=!0,yield u.post("/api/levelStudies",t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(s){if(s.response.status==422){e.value=0;for(const o in s.response.data.errorsLS)a.value+=s.response.data.errorsLS[o][0]+`
`}}}),updateLevelStudy:(t,s)=>l(this,null,function*(){a.value="";try{e.value=!0,yield u.put("/api/levelStudies/"+t,s,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(o){if(e.value=0,o.response.status==422)for(const y in o.response.data.errorsLS)a.value+=o.response.data.errorsLS[y][0]+`	
`}}),destroyLevelStudy:t=>l(this,null,function*(){a.value="";try{e.value=!0,yield u.delete("/api/levelStudies/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(s){e.value=0,s.response.status=="500"&&(a.value="Impossible de supprimer ce pays")}})}}export{f as u};
