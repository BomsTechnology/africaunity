var J=Object.defineProperty;var z=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var B=(c,n,a)=>n in c?J(c,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):c[n]=a,H=(c,n)=>{for(var a in n||(n={}))K.call(n,a)&&B(c,a,n[a]);if(z)for(var a of z(n))O.call(n,a)&&B(c,a,n[a]);return c};var S=(c,n,a)=>new Promise((b,s)=>{var C=u=>{try{f(a.next(u))}catch(_){s(_)}},k=u=>{try{f(a.throw(u))}catch(_){s(_)}},f=u=>u.done?b(u.value):Promise.resolve(u.value).then(C,k);f((a=a.apply(c,n)).next())});import{u as R,a as G,o as Q,r as T,b as M,d as o,e as l,g as d,f as e,h as t,k as h,t as i,F as L,x as q,H as W,w as g,j,l as w,P as X,m as Y,I,K as U}from"./app.59e8d623.js";import{_ as Z}from"./FilterArticle.c18ce363.js";import{_ as ee}from"./Report.4ab95d46.js";import{u as te}from"./postServices.f699ba46.js";import{u as se}from"./commentServices.2f183948.js";import{r as oe}from"./CalendarIcon.26da48f1.js";import{r as re}from"./UserIcon.3f57577b.js";import{r as ae}from"./ChatBubbleOvalLeftEllipsisIcon.5d73ba7b.js";import{r as E}from"./UserCircleIcon.87b9d93c.js";import{r as le}from"./ExclamationCircleIcon.747ce3af.js";import{r as ne}from"./PencilSquareIcon.f352cbc2.js";const ie={class:"mx-auto flex min-h-screen w-full flex-col bg-white p-4 text-lg md:space-y-2 lg:flex-row lg:space-x-2 xl:w-[90%]"},de={class:"lg:w-[70%]"},ce={key:0,class:"py-6 lg:px-4"},ue={class:"overflow-hidden rounded-lg bg-white shadow-md"},pe=["src"],me={class:"p-6"},_e={class:"mt-2 block transform text-3xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600"},he={class:"flex my-4 items-center gap-4 flex-wrap"},fe={key:0},xe={key:1},ge={key:2},ye={key:3},ve={class:"mt-2 flex space-x-2 text-xs text-gray-500"},we={class:"flex space-x-1"},be={href:"#",class:"hover:text-primary-blue"},Ce={class:"flex space-x-1"},ke={class:"flex space-x-1"},$e={href:"#",class:"hover:text-primary-blue"},Se=["innerHTML"],Me={class:"mt-4"},Le={class:"flex items-center justify-between"},je=["src"],De={class:"mx-2 font-semibold text-gray-700"},Ne={class:"flex items-center"},Pe={class:"hidden lg:block"},Ve={key:0,class:"ml-3"},ze={class:"flex items-center space-x-3 px-2 py-4"},Be=["href"],He=e("svg",{fill:"#25D366",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",class:"h-6 w-6"},[e("path",{d:"M 15 3 C 8.373 3 3 8.373 3 15 C 3 17.251208 3.6323415 19.350068 4.7109375 21.150391 L 3.1074219 27 L 9.0820312 25.431641 C 10.829354 26.425062 12.84649 27 15 27 C 21.627 27 27 21.627 27 15 C 27 8.373 21.627 3 15 3 z M 10.892578 9.4023438 C 11.087578 9.4023438 11.287937 9.4011562 11.460938 9.4101562 C 11.674938 9.4151563 11.907859 9.4308281 12.130859 9.9238281 C 12.395859 10.509828 12.972875 11.979906 13.046875 12.128906 C 13.120875 12.277906 13.173313 12.453437 13.070312 12.648438 C 12.972312 12.848437 12.921344 12.969484 12.777344 13.146484 C 12.628344 13.318484 12.465078 13.532109 12.330078 13.662109 C 12.181078 13.811109 12.027219 13.974484 12.199219 14.271484 C 12.371219 14.568484 12.968563 15.542125 13.851562 16.328125 C 14.986562 17.342125 15.944188 17.653734 16.242188 17.802734 C 16.540187 17.951734 16.712766 17.928516 16.884766 17.728516 C 17.061766 17.533516 17.628125 16.864406 17.828125 16.566406 C 18.023125 16.268406 18.222188 16.319969 18.492188 16.417969 C 18.766188 16.515969 20.227391 17.235766 20.525391 17.384766 C 20.823391 17.533766 21.01875 17.607516 21.09375 17.728516 C 21.17075 17.853516 21.170828 18.448578 20.923828 19.142578 C 20.676828 19.835578 19.463922 20.505734 18.919922 20.552734 C 18.370922 20.603734 17.858562 20.7995 15.351562 19.8125 C 12.327563 18.6215 10.420484 15.524219 10.271484 15.324219 C 10.122484 15.129219 9.0605469 13.713906 9.0605469 12.253906 C 9.0605469 10.788906 9.8286563 10.071437 10.097656 9.7734375 C 10.371656 9.4754375 10.692578 9.4023438 10.892578 9.4023438 z"})],-1),Te=[He],qe={key:1,class:"mt-4 px-8 py-4"},Ie={class:"h-10 w-10 overflow-hidden rounded-full shadow md:h-20 md:w-20"},Ue=["src"],Ee={class:"mt-2 text-center text-xs font-bold hover:underline lg:text-sm"},Fe={class:"text-center text-xs font-light lg:text-sm"},Ae={class:"ml-2 w-full p-2 text-xs lg:text-lg"},Je={class:"mt-4 px-8 py-4"},Ke=e("label",{class:"text-gray-700",for:"pt"},[j("Laisser un Commentaire "),e("span",{class:"text-red-500"},"*")],-1),Oe={class:"mt-6"},Re={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Ge={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},Qe={key:1,class:"p-28"},We={class:"bg-white lg:w-[30%]"},dt={__name:"SinglePost",props:{id:{required:!0,type:String},slug:{required:!1,type:String}},setup(c){const n=c,{locale:a}=R(),b=window.location.href,{post:s,getPost2:C,loading:k}=te(),{createComment:f,errors:u,comments:_,getCommentsPost:D}=se(),N=localStorage.user?JSON.parse(localStorage.user):"",m=G({user_id:N.id,post_id:"",content:""});Q(()=>S(this,null,function*(){yield C(n.id),yield D(n.id),m.post_id=s.value.id}));const $=T(!1),P=()=>{$.value=!$.value},y=T(0),F=()=>S(this,null,function*(){y.value=1,yield f(H({},m)),y.value=0,m.content="",yield D(n.id)});return(x,p)=>{const v=M("router-link"),V=M("Spin"),A=M("NoContent");return o(),l(L,null,[d(ee,{open:$.value,toogleModal:P,id:c.id,type:"Post"},null,8,["open","id"]),e("div",ie,[e("div",de,[t(s).length!=0?(o(),l("div",ce,[e("div",ue,[t(s).type=="article"?(o(),l("img",{key:0,class:"h-96 w-full object-cover",src:t(s).image,alt:""},null,8,pe)):h("",!0),e("div",me,[e("div",null,[e("h1",_e,i(t(s).title),1),e("ul",he,[(o(!0),l(L,null,q(t(s).ministries,r=>(o(),l("li",{class:"rounded py-1 px-2 text-xs capitalize text-white",style:W("background:"+r.color)},[x.$i18n.locale=="en"?(o(),l("span",fe,i(r.name_en),1)):x.$i18n.locale=="fr"?(o(),l("span",xe,i(r.name_fr),1)):x.$i18n.locale=="es"?(o(),l("span",ge,i(r.name_es),1)):(o(),l("span",ye,i(r.name_pt),1))],4))),256))]),e("div",ve,[e("div",we,[d(t(oe),{class:"h-4 w-4"}),e("a",be,i(new Date(t(s).date).toLocaleDateString(t(a),{day:"numeric",year:"numeric",month:"long"})),1)]),e("div",Ce,[d(t(re),{class:"h-4 w-4"}),d(v,{to:{name:"compte",params:{slug:t(s).user.slug,id:t(s).user.id}},class:"hover:text-primary-blue"},{default:g(()=>[j(i(t(s).user.firstname),1)]),_:1},8,["to"])]),e("div",ke,[d(t(ae),{class:"h-4 w-4"}),e("a",$e,i(t(s).comments),1)])]),e("p",{class:"my-4 mt-2 py-4 text-gray-600 break-words",innerHTML:t(s).content},null,8,Se)]),e("div",Me,[e("div",Le,[d(v,{to:{name:"compte",params:{slug:t(s).user.slug,id:t(s).user.id}},class:"flex items-center"},{default:g(()=>[t(s).user.avatar?(o(),l("img",{key:0,class:"h-16 w-16 rounded-full object-cover shadow",src:t(s).user.avatar},null,8,je)):(o(),w(t(E),{key:1,class:"h-10 w-10 text-gray-700"})),e("span",De,i(t(s).user.firstname),1)]),_:1},8,["to"]),e("div",Ne,[e("div",null,[e("button",{onClick:p[0]||(p[0]=r=>P()),class:"flex cursor-pointer items-center space-x-2 rounded-full border border-gray-400 px-2 py-1 text-xs text-gray-400 hover:border-white hover:bg-yellow-300 hover:text-white"},[d(t(le),{class:"h-5 w-5"}),e("span",Pe,i(x.$t("report")),1)])]),t(N).id==t(s).user.id?(o(),l("div",Ve,[d(v,{to:{name:"edit.post",params:{id:t(s).id,type:t(s).type}}},{default:g(()=>[d(t(ne),{class:"h-5 w-5 cursor-pointer text-gray-400 hover:text-primary-blue"})]),_:1},8,["to"])])):h("",!0)])])]),e("div",ze,[e("a",{href:"whatsapp://send?text=Hello, I have just published an publication on the AfricaUnity website. please go see, thank you "+t(b)},Te,8,Be)])]),t(_).length!=0?(o(),l("div",qe,[(o(!0),l(L,null,q(t(_),r=>(o(),l("div",{class:"flex border-b py-4",key:r.id},[e("div",null,[d(v,{to:{name:"compte",params:{slug:r.user.slug,id:r.user.id}}},{default:g(()=>[e("div",Ie,[r.user.avatar?(o(),l("img",{key:0,src:r.user.avatar,class:"h-full w-full bg-cover object-cover",alt:""},null,8,Ue)):(o(),w(t(E),{key:1,class:"h-full w-full text-gray-500"}))]),e("h1",Ee,i(r.user.firstname),1)]),_:2},1032,["to"]),e("h3",Fe,i(new Date(r.date).toLocaleDateString(t(a),{day:"numeric",year:"numeric",month:"long"})),1)]),e("div",Ae,i(r.content),1)]))),128))])):h("",!0),t(u)!=""?(o(),w(X,{key:2},{default:g(()=>[j(i(t(u)),1)]),_:1})):h("",!0),e("form",{onSubmit:p[3]||(p[3]=Y(r=>F(),["prevent"]))},[e("div",Je,[Ke,I(e("textarea",{"onUpdate:modelValue":p[1]||(p[1]=r=>m.content=r),required:"",type:"text",id:"pt",class:"mt-2 block h-60 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`
                            `,512),[[U,m.content]]),e("div",Oe,[I(e("input",{type:"hidden","onUpdate:modelValue":p[2]||(p[2]=r=>m.post_id=r)},null,512),[[U,m.post_id]]),y.value==0?(o(),l("button",Re,i(x.$t("save")),1)):h("",!0),y.value==1?(o(),l("button",Ge,[d(V,{size:"small"})])):h("",!0)])])],32)])])):t(k)==1?(o(),l("div",Qe,[d(V)])):(o(),w(A,{key:2}))]),e("div",We,[d(Z)])])],64)}}};export{dt as default};
