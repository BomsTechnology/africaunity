import{r as y,o as B,a as M,c as s,d as l,e,g as n,k as j,w as z,j as D,t as g,P as E,m as b,l as P,i as a,K as d,f as i,J as p,F as f,x,H as T,b as _}from"./app.1a4e1017.js";import{u as $}from"./announcementServices.bede8a0d.js";import{u as J}from"./categoryAnnouncementServices.bea5dd14.js";import{u as H}from"./currencyServices.88d514dd.js";import{u as I}from"./universityServices.e02498ba.js";import{_ as K}from"./RichText.07ed44ec.js";import{_ as L}from"./DropZone.5255dad0.js";const O={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},R={class:"z-0 w-full p-4"},W=e("div",{class:"flex w-full justify-between bg-white px-8 py-5"},[e("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Add Announcement ")],-1),G={class:"mx-auto w-full bg-white p-6"},Q=e("h2",{class:"text-md font-light text-gray-700"}," Add a new Announcement ",-1),X={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},Y={class:"col-span-2"},Z=e("label",{class:"dark:text-gray-200 text-gray-700"},"Title",-1),ee=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"University",-1),te=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Category",-1),re=["value"],oe=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Phone",-1),se=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Adress Email",-1),ae=e("label",{class:"dark:text-gray-200 text-gray-700"},"Price",-1),le=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Currency",-1),ne=["value"],de=e("label",{class:"dark:text-gray-200 text-gray-700"},"Address",-1),ie=e("label",{class:"dark:text-gray-200 text-gray-700"},"Website",-1),ue={class:"col-span-2"},ce=e("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),ge={class:"col-span-2"},be=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),me={class:"mt-6 flex justify-end"},ye={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},pe={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},Ae={__name:"AnnouncementCreate",setup(fe){const k=T();y(null);const v=JSON.parse(localStorage.user),{categoryAnnouncements:w,getCategoryAnnouncements:h}=J(),{currencies:V,getCurrencies:U}=H(),{universities:A,getAllUniversities:C}=I(),u=y(!1);B(async()=>{u.value=!0,await h(),await U(),await C(),u.value=!1});const o=M({title:"",user_id:v.id,description:"",price:"",image:[],adress:"",website:"",email:"",phone:"",category_announcement_id:1,currency_id:1,university_id:1}),{createAnnouncement:S,errors:c,loading:m}=$(),q=async()=>{await S({...o}),c.value==""&&k.push({name:"admin.announcement.index"})};return(xe,r)=>{const N=_("SelectFilter"),F=_("Spin");return s(),l("div",O,[e("div",R,[W,e("section",G,[n(c)!=""?(s(),j(E,{key:0},{default:z(()=>[D(g(n(c)),1)]),_:1})):b("",!0),Q,e("form",{onSubmit:r[11]||(r[11]=P(t=>q(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",X,[e("div",Y,[Z,a(e("input",{required:"","onUpdate:modelValue":r[0]||(r[0]=t=>o.title=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[d,o.title]])]),e("div",null,[ee,i(N,{modelValue:o.university_id,"onUpdate:modelValue":r[1]||(r[1]=t=>o.university_id=t),data:n(A),placeholder:"Select University",required:!1,resetField:!0,loading:u.value,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","loading","className"])]),e("div",null,[te,a(e("select",{required:"","onUpdate:modelValue":r[2]||(r[2]=t=>o.category_announcement_id=t),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(s(!0),l(f,null,x(n(w),t=>(s(),l("option",{key:t.id,value:t.id},g(t.name),9,re))),128))],512),[[p,o.category_announcement_id]])]),e("div",null,[oe,a(e("input",{required:"","onUpdate:modelValue":r[3]||(r[3]=t=>o.phone=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[d,o.phone]])]),e("div",null,[se,a(e("input",{required:"","onUpdate:modelValue":r[4]||(r[4]=t=>o.email=t),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[d,o.email]])]),e("div",null,[ae,a(e("input",{required:"","onUpdate:modelValue":r[5]||(r[5]=t=>o.price=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[d,o.price]])]),e("div",null,[le,a(e("select",{required:"","onUpdate:modelValue":r[6]||(r[6]=t=>o.currency_id=t),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(s(!0),l(f,null,x(n(V),t=>(s(),l("option",{key:t.id,value:t.id},g(t.symbol+" "+t.name),9,ne))),128))],512),[[p,o.currency_id]])]),e("div",null,[de,a(e("input",{"onUpdate:modelValue":r[7]||(r[7]=t=>o.adress=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[d,o.adress]])]),e("div",null,[ie,a(e("input",{"onUpdate:modelValue":r[8]||(r[8]=t=>o.website=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[d,o.website]])]),e("div",ue,[ce,i(L,{modelValue:o.image,"onUpdate:modelValue":r[9]||(r[9]=t=>o.image=t),multiple:!0},null,8,["modelValue"])]),e("div",ge,[be,i(K,{modelValue:o.description,"onUpdate:modelValue":r[10]||(r[10]=t=>o.description=t)},null,8,["modelValue"])])]),e("div",me,[n(m)==0?(s(),l("button",ye," Save ")):b("",!0),n(m)==1?(s(),l("button",pe,[i(F,{size:"small"})])):b("",!0)])],32)])])])}}};export{Ae as default};
