var x=(D,w,b)=>new Promise((f,g)=>{var h=m=>{try{v(b.next(m))}catch(k){g(k)}},q=m=>{try{v(b.throw(m))}catch(k){g(k)}},v=m=>m.done?f(m.value):Promise.resolve(m.value).then(h,q);v((b=b.apply(D,w)).next())});import{r as V,G as ie,o as re,a as le,b as R,d as i,e as r,f as o,t as n,h as u,l as ae,w as de,j as d,k as U,m as ue,I as a,K as y,J as c,F as p,x as _,g as S}from"./app.js";import{u as ce}from"./zoneServices.js";import{u as pe}from"./cityServices.js";import{u as _e}from"./countryServices.js";import{u as me}from"./ministryServices.js";import{u as ye}from"./currencyServices.js";import{u as fe}from"./continentServices.js";import{u as be}from"./activityAreaServices.js";import{u as ge}from"./demonstrationServices.js";import{u as he}from"./demonstrationModeServices.js";import{u as ve}from"./demonstrationTypeServices.js";import{u as ke}from"./demonstrationNicheServices.js";import{_ as we}from"./RichText.js";const $e={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},xe={class:"w-full space-y-4 py-5 text-center"},Ve={class:"text-4xl font-bold capitalize text-primary-blue"},Ue={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},qe={class:"text-xl font-semibold"},Ce={class:"text-md font-light text-gray-700"},De={class:"mt-4"},ze={class:"col-span-2"},Re={class:"text-gray-700"},Se=o("span",{class:"text-red-500"},"*",-1),Fe={class:"text-xs font-light text-gray-400"},Le={class:"col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},je={class:"text-gray-700",for:"pt"},Be=o("span",{class:"text-red-500"},"*",-1),Me=["value"],Oe={key:0},Ee={key:1},Ie={key:2},Ne={key:3},Ze={class:"text-gray-700",for:"pt"},Ge=o("span",{class:"text-red-500"},"*",-1),Je=["value"],Ae={key:0},Ke={key:1},Pe={key:2},He={key:3},Qe={class:"text-gray-700",for:"es"},Te=o("span",{class:"text-red-500"},"*",-1),We=["value"],Xe={key:0},Ye={key:1},et={key:2},tt={key:3},ot={class:"text-gray-700",for:"es"},st=o("span",{class:"text-red-500"},"*",-1),nt=["value"],it={key:0},rt={key:1},lt={key:2},at={key:3},dt={key:1,value:"null"},ut={class:"text-gray-700",for:"es"},ct=o("span",{class:"text-red-500"},"*",-1),pt=["value"],_t={key:0},mt={key:1},yt={key:2},ft={key:3},bt={key:1,value:"null"},gt={class:"d text-gray-700",for:"es"},ht=o("span",{class:"text-red-500"},"*",-1),vt=["value"],kt={key:0},wt={key:1},$t={key:2},xt={key:3},Vt={key:1,value:"null"},Ut={class:""},qt={class:"text-gray-700",for:"es"},Ct=["value"],Dt={key:0},zt={key:1},Rt={key:2},St={key:3},Ft={class:""},Lt={class:"text-gray-700",for:"pt"},jt=["value"],Bt={key:0},Mt={key:1},Ot={key:2},Et={key:3},It={class:"sm:col-span-2"},Nt={class:"text-gray-700",for:"pt"},Zt=o("span",{class:"text-red-500"},"*",-1),Gt={class:"sm:col-span-2"},Jt={class:"text-gray-700"},At=o("span",{class:"text-red-500"},"*",-1),Kt=o("option",{value:"free"},"Gratuit",-1),Pt=o("option",{value:"paying"},"Payant",-1),Ht=[Kt,Pt],Qt={class:"text-gray-700"},Tt={class:"text-gray-700",for:"es"},Wt=["value"],Xt={class:"text-gray-700"},Yt=o("span",{class:"text-red-500"},"*",-1),eo={class:"text-gray-700"},to=o("span",{class:"text-red-500"},"*",-1),oo={class:"text-gray-700"},so=o("span",{class:"text-red-500"},"*",-1),no=["value"],io={key:0},ro={key:1},lo={key:2},ao={key:3},uo={class:"text-gray-700"},co=o("span",{class:"text-red-500"},"*",-1),po={class:"text-gray-700"},_o=o("span",{class:"text-red-500"},"*",-1),mo={class:"text-gray-700"},yo=o("span",{class:"text-red-500"},"*",-1),fo={class:"sm:col-span-2 mt-4"},bo={class:"text-gray-700",for:"fr"},go={class:"flex items-center space-x-4 py-4"},ho=["src","alt"],vo={class:"sm:col-span-2 mt-4"},ko={class:"text-gray-700",for:"pt"},wo=o("span",{class:"text-red-500"},"*",-1),$o={class:"mt-6"},xo={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Vo={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},Io={__name:"AddDemonstration",setup(D){const w=V(null),b=ie(),f=V([]),g=V([]),h=V([]),{zones:q,getZones:v}=ce(),{cities:m,getCities:k}=pe(),{countries:F,getCountries:L}=_e(),{currencies:j,getCurrencies:B}=ye(),{continents:M,getContinents:O}=fe(),{ministries:E,getMinistries:I}=me(),{activityAreas:N,getActivityAreas:Z}=be(),{errors:C,loading:z,createDemonstration:G}=ge(),{demonstrationTypes:J,getDemonstrationTypes:A}=ve(),{demonstrationModes:K,getDemonstrationModes:P}=he(),{demonstrationNiches:H,getDemonstrationNiches:Q}=ke(),$=localStorage.user?JSON.parse(localStorage.user):"";re(()=>x(this,null,function*(){yield A(),yield P(),yield Q(),yield Z(),yield I(),yield B(),yield O(),yield v(),yield L(),yield k()}));const s=le({title:"",user_id:$.id,description:"",price:"0",image:"",hourly:"",enter_type:"",place_link:"",start_date:"",end_date:"",email:$.email,phone:"",demonstration_type_id:"",demonstration_mode_id:"",demonstration_niche_id:"",currency_id:"",city_id:"",zone_id:"",continent_id:"",country_id:"",ministry_id:"",activity_area_id:""}),T=()=>x(this,null,function*(){let t=new FormData;t.append("title",s.title),t.append("description",s.description),t.append("price",s.price),t.append("image",s.image),t.append("email",s.email),t.append("hourly",s.hourly),t.append("start_date",s.start_date),t.append("end_date",s.end_date),t.append("phone",s.phone),t.append("enter_type",s.enter_type),t.append("user_id",s.user_id),t.append("currency_id",s.currency_id),t.append("place_link",s.place_link),t.append("demonstration_type_id",s.demonstration_type_id),t.append("demonstration_mode_id",s.demonstration_mode_id),t.append("demonstration_niche_id",s.demonstration_niche_id),t.append("city_id",s.city_id),t.append("zone_id",s.zone_id),t.append("continent_id",s.continent_id),t.append("country_id",s.country_id),t.append("ministry_id",s.ministry_id),t.append("activity_area_id",s.activity_area_id),yield G(t),C.value==""&&b.push({name:"compte",params:{slug:$.slug,id:$.id}})}),W=()=>{f.value=m.value.filter(t=>t.country_id==s.country_id),s.city_id=""},X=()=>{h.value=F.value.filter(t=>t.zone_id==s.zone_id),s.country_id="",s.city_id="",f.value=[]},Y=()=>{g.value=q.value.filter(t=>t.continent_id==s.continent_id),s.zone_id="",s.country_id="",s.city_id="",f.value=[],h.value=[]},ee=()=>x(this,null,function*(){s.image=w.value.files[0]});function te(t){return URL.createObjectURL(t)}function oe(t){return URL.revokeObjectURL(t)}return(t,l)=>{const se=R("Error"),ne=R("Spin");return i(),r("div",$e,[o("div",xe,[o("h1",Ve,n(t.$tc("add",1))+" "+n(t.$tc("events",1)),1)]),o("section",Ue,[u(C)!=""?(i(),ae(se,{key:0},{default:de(()=>[d(n(u(C)),1)]),_:1})):U("",!0),o("h1",qe,n(t.$tc("add",1))+" "+n(t.$tc("events",1)),1),o("h2",Ce,n(t.$t("good-msg-post"))+" ! ",1),o("form",{onSubmit:l[25]||(l[25]=ue(e=>T(),["prevent"])),id:"demonstrationform",enctype:"multipart/form-data"},[o("div",De,[o("div",ze,[o("label",Re,[d(n(t.$t("title"))+" ",1),Se]),a(o("input",{required:"","onUpdate:modelValue":l[0]||(l[0]=e=>s.title=e),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[y,s.title]]),o("span",Fe,n(s.title?s.title.length:0)+" of 50 Characters",1)]),o("div",Le,[o("div",null,[o("label",je,[d(n(t.$t("event-type"))+" ",1),Be]),a(o("select",{required:"","onUpdate:modelValue":l[1]||(l[1]=e=>s.demonstration_type_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(i(!0),r(p,null,_(u(J),e=>(i(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(i(),r("span",Oe,n(e.name_en),1)):t.$i18n.locale=="fr"?(i(),r("span",Ee,n(e.name_fr),1)):t.$i18n.locale=="es"?(i(),r("span",Ie,n(e.name_es),1)):(i(),r("span",Ne,n(e.name_pt),1))],8,Me))),128))],512),[[c,s.demonstration_type_id]])]),o("div",null,[o("label",Ze,[d(n(t.$t("event-mode"))+" ",1),Ge]),a(o("select",{required:"","onUpdate:modelValue":l[2]||(l[2]=e=>s.demonstration_mode_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(i(!0),r(p,null,_(u(K),e=>(i(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(i(),r("span",Ae,n(e.name_en),1)):t.$i18n.locale=="fr"?(i(),r("span",Ke,n(e.name_fr),1)):t.$i18n.locale=="es"?(i(),r("span",Pe,n(e.name_es),1)):(i(),r("span",He,n(e.name_pt),1))],8,Je))),128))],512),[[c,s.demonstration_mode_id]])]),o("div",null,[o("label",Qe,[d(n(t.$t("continent"))+" ",1),Te]),a(o("select",{required:"","onUpdate:modelValue":l[3]||(l[3]=e=>s.continent_id=e),onChange:l[4]||(l[4]=e=>Y()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(i(!0),r(p,null,_(u(M),e=>(i(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(i(),r("span",Xe,n(e.name_en),1)):t.$i18n.locale=="fr"?(i(),r("span",Ye,n(e.name_fr),1)):t.$i18n.locale=="es"?(i(),r("span",et,n(e.name_es),1)):(i(),r("span",tt,n(e.name_pt),1))],8,We))),128))],544),[[c,s.continent_id]])]),o("div",null,[o("label",ot,[d(n(t.$t("zoned"))+" ",1),st]),a(o("select",{required:"","onUpdate:modelValue":l[5]||(l[5]=e=>s.zone_id=e),onChange:l[6]||(l[6]=e=>X()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[g.value.length!=0?(i(!0),r(p,{key:0},_(g.value,e=>(i(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(i(),r("span",it,n(e.name_en),1)):t.$i18n.locale=="fr"?(i(),r("span",rt,n(e.name_fr),1)):t.$i18n.locale=="es"?(i(),r("span",lt,n(e.name_es),1)):(i(),r("span",at,n(e.name_pt),1))],8,nt))),128)):(i(),r("option",dt," Requires "+n(t.$t("continent")),1))],544),[[c,s.zone_id]])]),o("div",null,[o("label",ut,[d(n(t.$t("country"))+" ",1),ct]),a(o("select",{required:"",onChange:l[7]||(l[7]=e=>W()),"onUpdate:modelValue":l[8]||(l[8]=e=>s.country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[h.value.length!=0?(i(!0),r(p,{key:0},_(h.value,e=>(i(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(i(),r("span",_t,n(e.name_en),1)):t.$i18n.locale=="fr"?(i(),r("span",mt,n(e.name_fr),1)):t.$i18n.locale=="es"?(i(),r("span",yt,n(e.name_es),1)):(i(),r("span",ft,n(e.name_pt),1))],8,pt))),128)):(i(),r("option",bt," Requires "+n(t.$t("zoned")),1))],544),[[c,s.country_id]])]),o("div",null,[o("label",gt,[d(n(t.$t("city"))+" ",1),ht]),a(o("select",{required:"","onUpdate:modelValue":l[9]||(l[9]=e=>s.city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[f.value.length!=0?(i(!0),r(p,{key:0},_(f.value,e=>(i(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(i(),r("span",kt,n(e.name_en),1)):t.$i18n.locale=="fr"?(i(),r("span",wt,n(e.name_fr),1)):t.$i18n.locale=="es"?(i(),r("span",$t,n(e.name_es),1)):(i(),r("span",xt,n(e.name_pt),1))],8,vt))),128)):(i(),r("option",Vt," Requires "+n(t.$t("country")),1))],512),[[c,s.city_id]])]),o("div",Ut,[o("label",qt,n(t.$t("activity-area")),1),a(o("select",{"onUpdate:modelValue":l[10]||(l[10]=e=>s.activity_area_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(i(!0),r(p,null,_(u(N),e=>(i(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(i(),r("span",Dt,n(e.name_en),1)):t.$i18n.locale=="fr"?(i(),r("span",zt,n(e.name_fr),1)):t.$i18n.locale=="es"?(i(),r("span",Rt,n(e.name_es),1)):(i(),r("span",St,n(e.name_pt),1))],8,Ct))),128))],512),[[c,s.activity_area_id]])]),o("div",Ft,[o("label",Lt,n(t.$t("ministry")),1),a(o("select",{"onUpdate:modelValue":l[11]||(l[11]=e=>s.ministry_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(i(!0),r(p,null,_(u(E),e=>(i(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(i(),r("span",Bt,n(e.name_en),1)):t.$i18n.locale=="fr"?(i(),r("span",Mt,n(e.name_fr),1)):t.$i18n.locale=="es"?(i(),r("span",Ot,n(e.name_es),1)):(i(),r("span",Et,n(e.name_pt),1))],8,jt))),128))],512),[[c,s.ministry_id]])]),o("div",It,[o("label",Nt,[d(n(t.$t("location-link"))+" ",1),Zt]),a(o("input",{required:"","onUpdate:modelValue":l[12]||(l[12]=e=>s.place_link=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[y,s.place_link]])]),o("div",Gt,[o("label",Jt,[d(n(t.$t("enter-type")),1),At]),a(o("select",{required:"","onUpdate:modelValue":l[13]||(l[13]=e=>s.enter_type=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},Ht,512),[[c,s.enter_type]])]),o("div",null,[o("label",Qt,n(t.$t("price")),1),a(o("input",{"onUpdate:modelValue":l[14]||(l[14]=e=>s.price=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[y,s.price]])]),o("div",null,[o("label",Tt,n(t.$t("currency")),1),a(o("select",{"onUpdate:modelValue":l[15]||(l[15]=e=>s.currency_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(i(!0),r(p,null,_(u(j),e=>(i(),r("option",{key:e.id,value:e.id},n(e.symbol+" "+e.name),9,Wt))),128))],512),[[c,s.currency_id]])]),o("div",null,[o("label",Xt,[d(n(t.$t("start-date"))+" ",1),Yt]),a(o("input",{"onUpdate:modelValue":l[16]||(l[16]=e=>s.start_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[y,s.start_date]])]),o("div",null,[o("label",eo,[d(n(t.$t("end-date"))+" ",1),to]),a(o("input",{"onUpdate:modelValue":l[17]||(l[17]=e=>s.end_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[y,s.end_date]])]),o("div",null,[o("label",oo,[d(n(t.$t("niche"))+" ",1),so]),a(o("select",{required:"","onUpdate:modelValue":l[18]||(l[18]=e=>s.demonstration_niche_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(i(!0),r(p,null,_(u(H),e=>(i(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(i(),r("span",io,n(e.name_en),1)):t.$i18n.locale=="fr"?(i(),r("span",ro,n(e.name_fr),1)):t.$i18n.locale=="es"?(i(),r("span",lo,n(e.name_es),1)):(i(),r("span",ao,n(e.name_pt),1))],8,no))),128))],512),[[c,s.demonstration_niche_id]])]),o("div",null,[o("label",uo,[d(n(t.$t("hour"))+" ",1),co]),a(o("input",{"onUpdate:modelValue":l[19]||(l[19]=e=>s.hourly=e),type:"time",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[y,s.hourly]])]),o("div",null,[o("label",po,[d(n(t.$t("contact-phone"))+" ",1),_o]),a(o("input",{required:"","onUpdate:modelValue":l[20]||(l[20]=e=>s.phone=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[y,s.phone]])]),o("div",null,[o("label",mo,[d(n(t.$t("contact-email"))+" ",1),yo]),a(o("input",{required:"","onUpdate:modelValue":l[21]||(l[21]=e=>s.email=e),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[y,s.email]])])]),o("div",fo,[o("label",bo,n(t.$t("thumbnails")),1),o("div",go,[s.image?(i(),r("img",{key:0,src:typeof s.image=="string"?s.image:te(s.image),onLoad:l[22]||(l[22]=e=>typeof s.image=="string"?"":oe(s.image)),class:"h-16 w-16 rounded-full",alt:s.title},null,40,ho)):U("",!0),o("input",{ref_key:"file",ref:w,onChange:l[23]||(l[23]=e=>ee()),accept:"image/*",type:"file",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)])]),o("div",vo,[o("label",ko,[d(n(t.$t("description"))+" ",1),wo]),S(we,{modelValue:s.description,"onUpdate:modelValue":l[24]||(l[24]=e=>s.description=e)},null,8,["modelValue"])])]),o("div",$o,[u(z)==0?(i(),r("button",xo,n(t.$t("save")),1)):U("",!0),u(z)==1?(i(),r("button",Vo,[S(ne,{size:"small"})])):U("",!0)])],32)])])}}};export{Io as default};
