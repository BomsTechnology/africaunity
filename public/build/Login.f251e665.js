var k=Object.defineProperty;var h=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var w=(o,s,t)=>s in o?k(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t,b=(o,s)=>{for(var t in s||(s={}))S.call(s,t)&&w(o,t,s[t]);if(h)for(var t of h(s))A.call(s,t)&&w(o,t,s[t]);return o};var c=(o,s,t)=>new Promise((m,i)=>{var l=a=>{try{n(t.next(a))}catch(r){i(r)}},p=a=>{try{n(t.throw(a))}catch(r){i(r)}},n=a=>a.done?m(a.value):Promise.resolve(a.value).then(l,p);n((t=t.apply(o,s)).next())});import{G as B,a as V,o as j,d,e as x,f as e,h as u,l as C,w as N,j as g,t as M,P as U,k as y,m as E,I as _,K as v,p as L}from"./app.59e8d623.js";import{u as P}from"./authServices.9f22e2a2.js";const z={class:"flex h-screen items-center justify-center"},D={class:"w-full max-w-sm rounded-md bg-white p-6 shadow-md"},G=e("div",{class:"flex items-center justify-center space-x-2"},[e("h1",{class:"text-center text-3xl font-semibold text-primary-blue"}," AfricaUnity ")],-1),O=e("h1",{class:"text-md text-center font-light text-[#242A56]"}," login to acces the admin panel ",-1),T=["onSubmit"],H=e("label",{for:"username",class:"block text-sm text-gray-800"},"Username or E-mail",-1),I={class:"mt-4"},J=e("div",{class:"flex items-center justify-between"},[e("label",{for:"password",class:"block text-sm text-gray-800"},"Password")],-1),K={class:"mt-6"},R={key:0,type:"submit",class:"mt-6 w-full bg-primary-blue px-8 py-2 text-lg text-white"},Y={key:1,disabled:"",type:"submit",class:"mt-6 inline-flex w-full cursor-wait items-center justify-center bg-blue-300 px-8 py-2 text-lg text-white"},q=e("svg",{class:"mr-3 h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),F=e("p",{class:"font-mone py-2 text-center text-sm italic text-primary-blue underline"}," Powered By GNO Solutions ",-1),Z={__name:"Login",setup(o){const s=B(),t=V({email:"",password:""}),{loginAdmin:m,errors:i,loading:l}=P(),p=()=>c(this,null,function*(){yield m(b({},t))}),n=()=>c(this,null,function*(){if(localStorage.token&&localStorage.token!=""){var a=JSON.parse(localStorage.user);try{let r=yield L.post("/api/verif-admin",{id:a.id});s.push({name:"admin.dash"})}catch(r){i.value="Your not a admin"}}});return j(()=>c(this,null,function*(){n()})),(a,r)=>(d(),x("div",z,[e("div",D,[G,O,u(i)!=""?(d(),C(U,{key:0},{default:N(()=>[g(M(u(i)),1)]),_:1})):y("",!0),e("form",{onSubmit:E(p,["prevent"]),class:"mt-6"},[e("div",null,[H,_(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=f=>t.email=f),class:"mt-2 block w-full rounded-md border bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[v,t.email]])]),e("div",I,[J,_(e("input",{type:"password","onUpdate:modelValue":r[1]||(r[1]=f=>t.password=f),class:"mt-2 block w-full rounded-md border bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[v,t.password]])]),e("div",K,[u(l)==0?(d(),x("button",R," Login ")):y("",!0),u(l)==1?(d(),x("button",Y,[q,g(" Login... ")])):y("",!0)]),F],40,T)])]))}};export{Z as default};
