import{r as n,H as l,n as s}from"./app.1097d858.js";function g(){const c=n([]),u=n([]),a=n(""),e=n(0),i=l();return{currencies:c,currency:u,errors:a,loading:e,getCurrencies:async()=>{a.value="",e.value=!0;let t=await s.get("/api/currencies",{headers:{Authorization:`Bearer ${localStorage.token}`}});c.value=t.data.data,e.value=!1},getCurrency:async t=>{a.value="",e.value=!0;let r=await s.get("/api/currencies/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,u.value=r.data.data},createCurrency:async t=>{a.value="";try{e.value=!0,await s.post("/api/currencies",t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,i.push({name:"admin.currency.index"})}catch(r){if(r.response.status==422){e.value=0;for(const o in r.response.data.errors)a.value+=r.response.data.errors[o][0]+`
`}}},updateCurrency:async t=>{a.value="";try{e.value=!0,await s.put("/api/currencies/"+t,u.value,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,i.push({name:"admin.currency.index"})}catch(r){if(e.value=0,r.response.status==422)for(const o in r.response.data.errors)a.value+=r.response.data.errors[o][0]+`	
`}},destroyCurrency:async t=>{a.value="";try{e.value=!0,await s.delete(`/api/currencies/${JSON.stringify(t)}`,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(r){e.value=0,r.response.status=="500"&&(a.value="Impossible de supprimer ce pays")}}}}export{g as u};
