import{r as b,o as ie,d as l,e as r,f as o,t as n,h as i,l as D,w as ae,j as u,k as v,m as de,I as d,K as m,J as p,F as c,x as _,g as ue,G as pe,b as z}from"./app.4a599ac6.js";import{u as ce}from"./zoneServices.8186c0fc.js";import{u as _e}from"./cityServices.01cebc19.js";import{u as me}from"./countryServices.8844e816.js";import{u as ye}from"./currencyServices.9ec99a70.js";import{u as fe}from"./continentServices.aa02b2f5.js";import{u as be}from"./ministryServices.ea3bf328.js";import{u as ge}from"./activityAreaServices.ff2ddbd9.js";import{u as ve}from"./demonstrationServices.c459928d.js";import{u as he}from"./demonstrationModeServices.ca5693bf.js";import{u as ke}from"./demonstrationTypeServices.9609e453.js";import{u as we}from"./demonstrationNicheServices.077cf713.js";import{_ as $e}from"./RichText.8d5e383b.js";const xe={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},Ve={class:"w-full space-y-4 py-5 text-center"},Ue={class:"text-4xl font-bold capitalize text-primary-blue"},qe={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},Ce={class:"text-xl font-semibold"},De={class:"text-md font-light text-gray-700"},ze={class:"mt-4"},Se={class:"col-span-2"},Re={class:"text-gray-700"},Ee=o("span",{class:"text-red-500"},"*",-1),Fe={class:"text-xs font-light text-gray-400"},Le={class:"col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},je={class:"text-gray-700",for:"pt"},Be=o("span",{class:"text-red-500"},"*",-1),Me=["value"],Oe={key:0},Ie={key:1},Ne={key:2},Ze={key:3},Ge={class:"text-gray-700",for:"pt"},Je=o("span",{class:"text-red-500"},"*",-1),Pe=["value"],Ke={key:0},Te={key:1},Ae={key:2},He={key:3},Qe={class:"text-gray-700",for:"es"},We=o("span",{class:"text-red-500"},"*",-1),Xe=["value"],Ye={key:0},et={key:1},tt={key:2},ot={key:3},st={class:"text-gray-700",for:"es"},nt=o("span",{class:"text-red-500"},"*",-1),lt=["value"],rt={key:0},it={key:1},at={key:2},dt={key:3},ut={key:1,value:"null"},pt={class:"text-gray-700",for:"es"},ct=o("span",{class:"text-red-500"},"*",-1),_t=["value"],mt={key:0},yt={key:1},ft={key:2},bt={key:3},gt={key:1,value:"null"},vt={class:"d text-gray-700",for:"es"},ht=o("span",{class:"text-red-500"},"*",-1),kt=["value"],wt={key:0},$t={key:1},xt={key:2},Vt={key:3},Ut={key:1,value:"null"},qt={class:""},Ct={class:"text-gray-700",for:"es"},Dt=["value"],zt={key:0},St={key:1},Rt={key:2},Et={key:3},Ft={class:""},Lt={class:"text-gray-700",for:"pt"},jt=["value"],Bt={key:0},Mt={key:1},Ot={key:2},It={key:3},Nt={class:"sm:col-span-2"},Zt={class:"text-gray-700",for:"pt"},Gt=o("span",{class:"text-red-500"},"*",-1),Jt={class:"sm:col-span-2"},Pt={class:"text-gray-700"},Kt=o("span",{class:"text-red-500"},"*",-1),Tt=o("option",{value:"free"},"Gratuit",-1),At=o("option",{value:"paying"},"Payant",-1),Ht=[Tt,At],Qt={class:"text-gray-700"},Wt={class:"text-gray-700",for:"es"},Xt=["value"],Yt={class:"text-gray-700"},eo=o("span",{class:"text-red-500"},"*",-1),to={class:"text-gray-700"},oo=o("span",{class:"text-red-500"},"*",-1),so={class:"text-gray-700"},no=o("span",{class:"text-red-500"},"*",-1),lo=["value"],ro={key:0},io={key:1},ao={key:2},uo={key:3},po={class:"text-gray-700"},co=o("span",{class:"text-red-500"},"*",-1),_o={class:"text-gray-700"},mo=o("span",{class:"text-red-500"},"*",-1),yo={class:"text-gray-700"},fo=o("span",{class:"text-red-500"},"*",-1),bo={class:"sm:col-span-2 mt-4"},go={class:"text-gray-700",for:"fr"},vo={class:"flex items-center space-x-4 py-4"},ho=["src","alt"],ko={class:"sm:col-span-2 mt-4"},wo={class:"text-gray-700",for:"pt"},$o=o("span",{class:"text-red-500"},"*",-1),xo={class:"mt-6"},Vo={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Uo={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},Io={__name:"EditDemonstration",props:{id:{required:!0,type:String}},setup(S){const k=S,w=b(null),$=b(0),R=pe(),y=b([]),g=b([]),f=b([]),{zones:x,getZones:E}=ce(),{cities:V,getCities:F}=_e(),{countries:U,getCountries:L}=me(),{currencies:j,getCurrencies:B}=ye(),{continents:M,getContinents:O}=fe(),{ministries:I,getMinistries:N}=be(),{activityAreas:Z,getActivityAreas:G}=ge(),{errors:h,loading:q,demonstration:s,getDemonstration:J,updateDemonstration:P}=ve(),{demonstrationTypes:K,getDemonstrationTypes:T}=ke(),{demonstrationModes:A,getDemonstrationModes:H}=he(),{demonstrationNiches:Q,getDemonstrationNiches:W}=we(),C=localStorage.user?JSON.parse(localStorage.user):"";ie(async()=>{await J(k.id),$.value++,await T(),await H(),await W(),await G(),await N(),await B(),await O(),await E(),await L(),await F(),g.value=x.value.filter(t=>t.continent_id==s.value.continent_id),f.value=U.value.filter(t=>t.zone_id==s.value.zone_id),y.value=V.value.filter(t=>t.country_id==s.value.country_id)});const X=async()=>{let t=new FormData;t.append("title",s.value.title),t.append("description",s.value.description),t.append("price",s.value.price),t.append("image",s.value.image),t.append("email",s.value.email),t.append("hourly",s.value.hourly),t.append("start_date",s.value.start_date),t.append("end_date",s.value.end_date),t.append("phone",s.value.phone),t.append("enter_type",s.value.enter_type),t.append("user_id",s.value.user_id),t.append("currency_id",s.value.currency_id),t.append("place_link",s.value.place_link),t.append("demonstration_type_id",s.value.demonstration_type_id),t.append("demonstration_mode_id",s.value.demonstration_mode_id),t.append("demonstration_niche_id",s.value.demonstration_niche_id),t.append("city_id",s.value.city_id),t.append("zone_id",s.value.zone_id),t.append("continent_id",s.value.continent_id),t.append("country_id",s.value.country_id),t.append("ministry_id",s.value.ministry_id),t.append("activity_area_id",s.value.activity_area_id),t.append("_method","PUT"),await P(t,k.id),h.value==""&&R.push({name:"compte",params:{slug:C.slug,id:C.id}})},Y=()=>{y.value=V.value.filter(t=>t.country_id==s.country_id),s.city_id=""},ee=()=>{f.value=U.value.filter(t=>t.zone_id==s.zone_id),s.country_id="",s.city_id="",y.value=[]},te=()=>{g.value=x.value.filter(t=>t.continent_id==s.continent_id),s.zone_id="",s.country_id="",s.city_id="",y.value=[],f.value=[]},oe=async()=>{s.value.image=w.value.files[0]};function se(t){return URL.createObjectURL(t)}function ne(t){return URL.revokeObjectURL(t)}return(t,a)=>{const le=z("Error"),re=z("Spin");return l(),r("div",xe,[o("div",Ve,[o("h1",Ue,n(t.$tc("edit",1))+" Evenement ",1)]),o("section",qe,[i(h)!=""?(l(),D(le,{key:0},{default:ae(()=>[u(n(i(h)),1)]),_:1})):v("",!0),o("h1",Ce,n(t.$tc("edit",1))+" Evenement ",1),o("h2",De,n(t.$t("good-msg-post"))+" ! ",1),o("form",{onSubmit:a[25]||(a[25]=de(e=>X(),["prevent"])),id:"demonstrationform",enctype:"multipart/form-data"},[o("div",ze,[o("div",Se,[o("label",Re,[u(n(t.$t("title"))+" ",1),Ee]),d(o("input",{required:"","onUpdate:modelValue":a[0]||(a[0]=e=>i(s).title=e),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).title]]),o("span",Fe,n(i(s).title?i(s).title.length:0)+" of 50 Characters",1)]),o("div",Le,[o("div",null,[o("label",je,[u(n(t.$t("event-type"))+" ",1),Be]),d(o("select",{required:"","onUpdate:modelValue":a[1]||(a[1]=e=>i(s).demonstration_type_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(c,null,_(i(K),e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",Oe,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",Ie,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",Ne,n(e.name_es),1)):(l(),r("span",Ze,n(e.name_pt),1))],8,Me))),128))],512),[[p,i(s).demonstration_type_id]])]),o("div",null,[o("label",Ge,[u(n(t.$t("event-mode"))+" ",1),Je]),d(o("select",{required:"","onUpdate:modelValue":a[2]||(a[2]=e=>i(s).demonstration_mode_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(c,null,_(i(A),e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",Ke,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",Te,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",Ae,n(e.name_es),1)):(l(),r("span",He,n(e.name_pt),1))],8,Pe))),128))],512),[[p,i(s).demonstration_mode_id]])]),o("div",null,[o("label",Qe,[u(n(t.$t("continent"))+" ",1),We]),d(o("select",{required:"","onUpdate:modelValue":a[3]||(a[3]=e=>i(s).continent_id=e),onChange:a[4]||(a[4]=e=>te()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(c,null,_(i(M),e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",Ye,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",et,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",tt,n(e.name_es),1)):(l(),r("span",ot,n(e.name_pt),1))],8,Xe))),128))],544),[[p,i(s).continent_id]])]),o("div",null,[o("label",st,[u(n(t.$t("zoned"))+" ",1),nt]),d(o("select",{required:"","onUpdate:modelValue":a[5]||(a[5]=e=>i(s).zone_id=e),onChange:a[6]||(a[6]=e=>ee()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[g.value.length!=0?(l(!0),r(c,{key:0},_(g.value,e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",rt,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",it,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",at,n(e.name_es),1)):(l(),r("span",dt,n(e.name_pt),1))],8,lt))),128)):(l(),r("option",ut," Requires "+n(t.$t("continent")),1))],544),[[p,i(s).zone_id]])]),o("div",null,[o("label",pt,[u(n(t.$t("country"))+" ",1),ct]),d(o("select",{required:"",onChange:a[7]||(a[7]=e=>Y()),"onUpdate:modelValue":a[8]||(a[8]=e=>i(s).country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[f.value.length!=0?(l(!0),r(c,{key:0},_(f.value,e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",mt,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",yt,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",ft,n(e.name_es),1)):(l(),r("span",bt,n(e.name_pt),1))],8,_t))),128)):(l(),r("option",gt," Requires "+n(t.$t("zoned")),1))],544),[[p,i(s).country_id]])]),o("div",null,[o("label",vt,[u(n(t.$t("city"))+" ",1),ht]),d(o("select",{required:"","onUpdate:modelValue":a[9]||(a[9]=e=>i(s).city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[y.value.length!=0?(l(!0),r(c,{key:0},_(y.value,e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",wt,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",$t,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",xt,n(e.name_es),1)):(l(),r("span",Vt,n(e.name_pt),1))],8,kt))),128)):(l(),r("option",Ut," Requires "+n(t.$t("country")),1))],512),[[p,i(s).city_id]])]),o("div",qt,[o("label",Ct,n(t.$t("activity-area")),1),d(o("select",{"onUpdate:modelValue":a[10]||(a[10]=e=>i(s).activity_area_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(c,null,_(i(Z),e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",zt,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",St,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",Rt,n(e.name_es),1)):(l(),r("span",Et,n(e.name_pt),1))],8,Dt))),128))],512),[[p,i(s).activity_area_id]])]),o("div",Ft,[o("label",Lt,n(t.$t("ministry")),1),d(o("select",{"onUpdate:modelValue":a[11]||(a[11]=e=>i(s).ministry_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(c,null,_(i(I),e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",Bt,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",Mt,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",Ot,n(e.name_es),1)):(l(),r("span",It,n(e.name_pt),1))],8,jt))),128))],512),[[p,i(s).ministry_id]])]),o("div",Nt,[o("label",Zt,[u(n(t.$t("location-link"))+" ",1),Gt]),d(o("input",{required:"","onUpdate:modelValue":a[12]||(a[12]=e=>i(s).place_link=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).place_link]])]),o("div",Jt,[o("label",Pt,[u(n(t.$t("enter-type")),1),Kt]),d(o("select",{required:"","onUpdate:modelValue":a[13]||(a[13]=e=>i(s).enter_type=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},Ht,512),[[p,i(s).enter_type]])]),o("div",null,[o("label",Qt,n(t.$t("price")),1),d(o("input",{"onUpdate:modelValue":a[14]||(a[14]=e=>i(s).price=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).price]])]),o("div",null,[o("label",Wt,n(t.$t("currency")),1),d(o("select",{"onUpdate:modelValue":a[15]||(a[15]=e=>i(s).currency_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(c,null,_(i(j),e=>(l(),r("option",{key:e.id,value:e.id},n(e.symbol+" "+e.name),9,Xt))),128))],512),[[p,i(s).currency_id]])]),o("div",null,[o("label",Yt,[u(n(t.$t("start-date"))+" ",1),eo]),d(o("input",{"onUpdate:modelValue":a[16]||(a[16]=e=>i(s).start_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).start_date]])]),o("div",null,[o("label",to,[u(n(t.$t("end-date"))+" ",1),oo]),d(o("input",{"onUpdate:modelValue":a[17]||(a[17]=e=>i(s).end_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).end_date]])]),o("div",null,[o("label",so,[u(n(t.$t("niche"))+" ",1),no]),d(o("select",{required:"","onUpdate:modelValue":a[18]||(a[18]=e=>i(s).demonstration_niche_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),r(c,null,_(i(Q),e=>(l(),r("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),r("span",ro,n(e.name_en),1)):t.$i18n.locale=="fr"?(l(),r("span",io,n(e.name_fr),1)):t.$i18n.locale=="es"?(l(),r("span",ao,n(e.name_es),1)):(l(),r("span",uo,n(e.name_pt),1))],8,lo))),128))],512),[[p,i(s).demonstration_niche_id]])]),o("div",null,[o("label",po,[u(n(t.$t("hour"))+" ",1),co]),d(o("input",{"onUpdate:modelValue":a[19]||(a[19]=e=>i(s).hourly=e),type:"time",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).hourly]])]),o("div",null,[o("label",_o,[u(n(t.$t("contact-phone"))+" ",1),mo]),d(o("input",{required:"","onUpdate:modelValue":a[20]||(a[20]=e=>i(s).phone=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).phone]])]),o("div",null,[o("label",yo,[u(n(t.$t("contact-email"))+" ",1),fo]),d(o("input",{required:"","onUpdate:modelValue":a[21]||(a[21]=e=>i(s).email=e),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,i(s).email]])])]),o("div",bo,[o("label",go,n(t.$t("thumbnails")),1),o("div",vo,[i(s).image?(l(),r("img",{key:0,src:typeof i(s).image=="string"?i(s).image:se(i(s).image),onLoad:a[22]||(a[22]=e=>typeof i(s).image=="string"?"":ne(i(s).image)),class:"h-16 w-16 rounded-full",alt:i(s).title},null,40,ho)):v("",!0),o("input",{ref_key:"file",ref:w,onChange:a[23]||(a[23]=e=>oe()),accept:"image/*",type:"file",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)])]),o("div",ko,[o("label",wo,[u(n(t.$t("description"))+" ",1),$o]),(l(),D($e,{key:$.value,modelValue:i(s).description,"onUpdate:modelValue":a[24]||(a[24]=e=>i(s).description=e)},null,8,["modelValue"]))])]),o("div",xo,[i(q)==0?(l(),r("button",Vo,n(t.$t("save")),1)):v("",!0),i(q)==1?(l(),r("button",Uo,[ue(re,{size:"small"})])):v("",!0)])],32)])])}}};export{Io as default};
