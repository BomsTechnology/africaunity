import{c as d,d as f,e,b as j,i as y,v as S,t as s,f as i,w as h,j as p,g as a,r as v,a as V,o as N,k as _,P as F,m as $,l as L,K as q,W as D,X as K,F as O,L as A,H as U}from"./app.1097d858.js";import{u as E}from"./authServices.20659000.js";import{r as P,_ as T}from"./ReCaptcha.4033c6c1.js";import{r as H}from"./EnvelopeIcon.68991113.js";import{r as J}from"./LockClosedIcon.c7764f07.js";import{r as R}from"./EyeIcon.44f13e8e.js";function W(t,n){return d(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-2.625 6c-.54 0-.828.419-.936.634a1.96 1.96 0 00-.189.866c0 .298.059.605.189.866.108.215.395.634.936.634.54 0 .828-.419.936-.634.13-.26.189-.568.189-.866 0-.298-.059-.605-.189-.866-.108-.215-.395-.634-.936-.634zm4.314.634c.108-.215.395-.634.936-.634.54 0 .828.419.936.634.13.26.189.568.189.866 0 .298-.059.605-.189.866-.108.215-.395.634-.936.634-.54 0-.828-.419-.936-.634a1.96 1.96 0 01-.189-.866c0-.298.059-.605.189-.866zm2.023 6.828a.75.75 0 10-1.06-1.06 3.75 3.75 0 01-5.304 0 .75.75 0 00-1.06 1.06 5.25 5.25 0 007.424 0z","clip-rule":"evenodd"})])}const X={class:"fixed inset-0 z-40 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},G={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},I=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),Q={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},Y={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Z={class:"sm:flex sm:flex-col sm:items-center sm:justify-center"},ee=e("div",{class:"mx-auto flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-8 w-8 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1),te={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},se={class:"py-4"},oe={class:"text-md text-center text-gray-500"},le={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:justify-center sm:px-6"},re={__name:"NotLogin",props:{open:Boolean,toogleModal:Function},setup(t){return(n,o)=>{const c=j("router-link");return y((d(),f("div",X,[e("div",G,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:o[0]||(o[0]=(...m)=>t.toogleModal&&t.toogleModal(...m))}),I,e("div",Q,[e("div",Y,[e("div",Z,[ee,e("div",te,[e("div",se,[e("p",oe,s(n.$t("modal-not-login")),1)])])])]),e("div",le,[i(c,{to:{name:"pack"},class:"inline-flex w-full justify-center rounded-md border border-transparent bg-primary-blue px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-primary-blue focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm"},{default:h(()=>[p(s(n.$t("register")),1)]),_:1}),e("button",{type:"button",onClick:o[1]||(o[1]=(...m)=>t.toogleModal&&t.toogleModal(...m)),class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},s(n.$t("login")),1)])])])],512)),[[S,t.open]])}}},ie={class:"fixed inset-0 z-10 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},ne={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},ae=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),de={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},ce={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},me={class:"sm:flex sm:flex-col sm:items-center sm:justify-center"},ue={class:"mx-auto flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-full bg-green-100 sm:mx-0 sm:h-20 sm:w-20"},pe={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},fe={class:"py-4"},ge={class:"text-md text-center font-semibold text-gray-500"},xe={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:items-center sm:justify-center sm:px-6"},he={__name:"VerifyOK",props:{open:Boolean,toogleModal:Function},setup(t){return(n,o)=>y((d(),f("div",ie,[e("div",ne,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:o[0]||(o[0]=(...c)=>t.toogleModal&&t.toogleModal(...c))}),ae,e("div",de,[e("div",ce,[e("div",me,[e("div",ue,[i(a(W),{class:"h-16 w-16 text-green-600"})]),e("div",pe,[e("div",fe,[e("p",ge,s(n.$t("modal-verif-ok")),1)])])])]),e("div",xe,[e("button",{type:"button",onClick:o[1]||(o[1]=(...c)=>t.toogleModal&&t.toogleModal(...c)),class:"mt-3 w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," OK ")])])])],512)),[[S,t.open]])}},ye={class:"mx-auto w-full items-center justify-center bg-white px-2 py-8 md:space-x-6 md:px-12 lg:flex xl:w-[90%]"},we={class:"space-y-6 text-center lg:w-[60%] lg:text-left"},be={class:"text-4xl font-bold text-primary-blue lg:text-5xl"},ve=A('<svg xmlns="http://www.w3.org/2000/svg" class="inline h-10 w-10" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"></circle><path fill="#664500" d="M10.515 23.621C10.56 23.8 11.683 28 18 28c6.318 0 7.44-4.2 7.485-4.379.055-.217-.043-.442-.237-.554-.195-.111-.439-.078-.6.077C24.629 23.163 22.694 25 18 25s-6.63-1.837-6.648-1.855C11.256 23.05 11.128 23 11 23c-.084 0-.169.021-.246.064-.196.112-.294.339-.239.557z"></path><ellipse fill="#664500" cx="12" cy="13.5" rx="2.5" ry="3.5"></ellipse><ellipse fill="#664500" cx="24" cy="13.5" rx="2.5" ry="3.5"></ellipse></svg>',1),_e={class:"p-6 lg:w-[40%]"},$e={class:"border-t-8 border-primary-blue shadow"},ke={class:"md:text-md p-4 text-center text-sm text-gray-500"},Me={class:"px-6 py-2"},Ce={class:"text-center text-3xl font-bold text-[#242A56]"},je={class:"relative"},Se=["placeholder"],ze={class:"relative"},Be=["type","placeholder"],Ve={key:0,type:"submit",class:"mt-4 w-full bg-primary-blue px-8 py-2 text-lg text-white"},Ne={key:1,disabled:"",type:"submit",class:"mt-4 inline-flex w-full cursor-wait items-center justify-center bg-blue-300 px-8 py-2 text-lg text-white"},Fe={class:"pt-6 text-center"},Ue={__name:"Login",props:{redirect:{required:!1,type:String}},setup(t){const n=t,o=U(),c=localStorage.user?JSON.parse(localStorage.user):"",m=v(!1),w=v(!1),x=v(!1),u=V({email:"",password:"",recaptcha:""}),k=()=>{m.value=!1,w.value=!1},{loginUser:z,errors:b,loading:M}=E();N(async()=>{n.redirect=="not-login"?m.value=!0:n.redirect=="verif-ok"&&(w.value=!0),localStorage.token&&o.push({name:"compte",params:{slug:c.slug,id:c.id}})});const B=async l=>{let r=document.querySelector("textarea[name=g-recaptcha-response]");u.recaptcha=r?r.value:"",await z({...u}),b.value==""&&(location.href=window.location.origin)};return(l,r)=>{const C=j("router-link");return d(),f(O,null,[i(re,{open:m.value,toogleModal:k},null,8,["open"]),i(he,{open:w.value,toogleModal:k},null,8,["open"]),e("div",ye,[e("div",we,[e("h1",be,[e("span",null,[p(s(l.$t("login-welcome-msg"))+" ",1),ve])]),e("p",null,s(l.$t("login-desc")),1)]),e("div",_e,[e("div",$e,[e("div",ke,[p(s(l.$t("no-signup"))+" ",1),i(C,{class:"text-[#242A56] hover:underline font-bold",to:{name:"pack"}},{default:h(()=>[p(s(l.$t("register")),1)]),_:1})]),e("div",Me,[e("h1",Ce,s(l.$t("login")),1),a(b)!=""?(d(),_(F,{key:0},{default:h(()=>[p(s(a(b)),1)]),_:1})):$("",!0),e("form",{onSubmit:r[3]||(r[3]=L(g=>B(),["prevent"])),class:"py-7"},[e("div",je,[e("span",null,[i(a(H),{class:"absolute mt-2 ml-2 h-6 w-6 text-gray-400"})]),y(e("input",{type:"email",required:"","onUpdate:modelValue":r[0]||(r[0]=g=>u.email=g),placeholder:l.$t("adresse")+" "+l.$t("email"),name:"email",class:"form-input mt-2 block w-full border-gray-400 px-3 pr-2 pl-10 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,8,Se),[[q,u.email]])]),e("div",ze,[e("span",null,[i(a(J),{class:"absolute mt-2 ml-2 h-6 w-6 text-gray-400"})]),y(e("input",{type:x.value?"text":"password",required:"","onUpdate:modelValue":r[1]||(r[1]=g=>u.password=g),placeholder:l.$t("password"),name:"password",class:"form-input mt-3 block w-full border-gray-400 px-5 pl-10 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,8,Be),[[D,u.password]]),e("span",{onClick:r[2]||(r[2]=g=>x.value=!x.value),class:"cursor-pointer"},[x.value?(d(),_(a(P),{key:1,class:"absolute right-2 top-2 h-6 w-6 text-primary-blue"})):(d(),_(a(R),{key:0,class:"absolute right-2 top-2 h-6 w-6 text-gray-400"}))])]),i(T),e("div",null,[a(M)==0?(d(),f("button",Ve,s(l.$t("login")),1)):$("",!0),a(M)==1?(d(),f("button",Ne,[i(K,{size:"small"})])):$("",!0)]),e("div",Fe,[i(C,{class:"text-gray-400 hover:underline",to:{name:"forgot.password"}},{default:h(()=>[p(s(l.$t("password-forgot"))+" ? ",1)]),_:1},8,["to"])])],32)])])])])],64)}}};export{Ue as default};
