import{r as g,o as ee,d as l,e as i,f as o,t as s,h as r,l as te,w as oe,j as d,k as v,m as ne,I as u,K as p,J as c,F as m,x as y,g as se,G as re,b as q}from"./app.4a599ac6.js";import{u as le}from"./zoneServices.8186c0fc.js";import{u as ie}from"./cityServices.01cebc19.js";import{u as ae}from"./countryServices.8844e816.js";import{u as de}from"./currencyServices.9ec99a70.js";import{u as ue}from"./continentServices.aa02b2f5.js";import{u as pe}from"./demonstrationServices.c459928d.js";import{u as ce}from"./demonstrationModeServices.ca5693bf.js";import{u as me}from"./demonstrationTypeServices.9609e453.js";import{u as ye}from"./demonstrationNicheServices.077cf713.js";const _e={class:"text-center text-2xl font-bold text-gray-500 sm:text-4xl"},fe={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},be={class:"mt-4"},ge={class:"col-span-2"},ve={class:"text-gray-700"},he=o("span",{class:"text-red-500"},"*",-1),ke={class:"text-xs font-light text-gray-400"},we={class:"col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},xe={class:"text-gray-700",for:"pt"},$e=o("span",{class:"text-red-500"},"*",-1),Ue=["value"],Ve={key:0},qe={key:1},Ce={key:2},De={key:3},ze={class:"text-gray-700",for:"pt"},Se=o("span",{class:"text-red-500"},"*",-1),Re=["value"],Fe={key:0},Le={key:1},je={key:2},Be={key:3},Ee={class:"text-gray-700",for:"es"},Oe=o("span",{class:"text-red-500"},"*",-1),Ie=["value"],Ne={key:0},Ze={key:1},Ge={key:2},Je={key:3},Me={class:"text-gray-700",for:"es"},Pe=o("span",{class:"text-red-500"},"*",-1),Ke=["value"],Te={key:0},Ae={key:1},He={key:2},Qe={key:3},We={key:1,value:"null"},Xe={class:"text-gray-700",for:"es"},Ye=o("span",{class:"text-red-500"},"*",-1),et=["value"],tt={key:0},ot={key:1},nt={key:2},st={key:3},rt={key:1,value:"null"},lt={class:"d text-gray-700",for:"es"},it=o("span",{class:"text-red-500"},"*",-1),at=["value"],dt={key:0},ut={key:1},pt={key:2},ct={key:3},mt={key:1,value:"null"},yt={class:"sm:col-span-2"},_t={class:"text-gray-700",for:"pt"},ft=o("span",{class:"text-red-500"},"*",-1),bt={class:"sm:col-span-2"},gt={class:"text-gray-700"},vt=o("span",{class:"text-red-500"},"*",-1),ht=o("option",{value:"free"},"Gratuit",-1),kt=o("option",{value:"paying"},"Payant",-1),wt=[ht,kt],xt={class:"text-gray-700"},$t={class:"text-gray-700",for:"es"},Ut=["value"],Vt={class:"text-gray-700"},qt=o("span",{class:"text-red-500"},"*",-1),Ct={class:"text-gray-700"},Dt=o("span",{class:"text-red-500"},"*",-1),zt={class:"text-gray-700"},St=o("span",{class:"text-red-500"},"*",-1),Rt=["value"],Ft={key:0},Lt={key:1},jt={key:2},Bt={key:3},Et={class:"text-gray-700"},Ot=o("span",{class:"text-red-500"},"*",-1),It={class:"text-gray-700"},Nt=o("span",{class:"text-red-500"},"*",-1),Zt={class:"text-gray-700"},Gt=o("span",{class:"text-red-500"},"*",-1),Jt={class:"sm:col-span-2 mt-4"},Mt={class:"text-gray-700",for:"fr"},Pt={class:"flex items-center space-x-4 py-4"},Kt=["src","alt"],Tt={class:"sm:col-span-2 mt-4"},At={class:"text-gray-700",for:"pt"},Ht=o("span",{class:"text-red-500"},"*",-1),Qt={class:"mt-20"},Wt={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Xt={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},uo={__name:"DemonstrationEdit",props:{id:{required:!0,type:String}},setup(C){const k=C,w=g(null),D=re(),_=g([]),b=g([]),f=g([]),{zones:x,getZones:z}=le(),{cities:$,getCities:S}=ie(),{countries:U,getCountries:R}=ae(),{currencies:F,getCurrencies:L}=de(),{continents:j,getContinents:B}=ue(),{errors:h,loading:V,demonstration:n,getDemonstration:E,updateDemonstration:O}=pe(),{demonstrationTypes:I,getDemonstrationTypes:N}=me(),{demonstrationModes:Z,getDemonstrationModes:G}=ce(),{demonstrationNiches:J,getDemonstrationNiches:M}=ye();localStorage.user&&JSON.parse(localStorage.user),ee(async()=>{await E(k.id),await N(),await G(),await M(),await L(),await B(),await z(),await R(),await S(),b.value=x.value.filter(t=>t.continent_id==n.value.continent_id),f.value=U.value.filter(t=>t.zone_id==n.value.zone_id),_.value=$.value.filter(t=>t.country_id==n.value.country_id)});const P=async()=>{let t=new FormData;t.append("title",n.value.title),t.append("description",n.value.description),t.append("price",n.value.price),t.append("image",n.value.image),t.append("email",n.value.email),t.append("hourly",n.value.hourly),t.append("start_date",n.value.start_date),t.append("end_date",n.value.end_date),t.append("phone",n.value.phone),t.append("enter_type",n.value.enter_type),t.append("user_id",n.value.user_id),t.append("currency_id",n.value.currency_id),t.append("place_link",n.value.place_link),t.append("demonstration_type_id",n.value.demonstration_type_id),t.append("demonstration_mode_id",n.value.demonstration_mode_id),t.append("demonstration_niche_id",n.value.demonstration_niche_id),t.append("city_id",n.value.city_id),t.append("zone_id",n.value.zone_id),t.append("continent_id",n.value.continent_id),t.append("country_id",n.value.country_id),t.append("_method","PUT"),await O(t,k.id),h.value==""&&D.push({name:"admin.event.index"})},K=()=>{_.value=$.value.filter(t=>t.country_id==n.country_id),n.city_id=""},T=()=>{f.value=U.value.filter(t=>t.zone_id==n.zone_id),n.country_id="",n.city_id="",_.value=[]},A=()=>{b.value=x.value.filter(t=>t.continent_id==n.continent_id),n.zone_id="",n.country_id="",n.city_id="",_.value=[],f.value=[]},H=async()=>{n.value.image=w.value.files[0]};function Q(t){return URL.createObjectURL(t)}function W(t){return URL.revokeObjectURL(t)}return(t,a)=>{const X=q("Error"),Y=q("Spin");return l(),i("div",null,[o("h1",_e,s(t.$tc("edit",1))+" Demonstration ",1),o("section",fe,[r(h)!=""?(l(),te(X,{key:0},{default:oe(()=>[d(s(r(h)),1)]),_:1})):v("",!0),o("form",{onSubmit:a[23]||(a[23]=ne(e=>P(),["prevent"])),id:"postform",enctype:"multipart/form-data"},[o("div",be,[o("div",ge,[o("label",ve,[d(s(t.$t("title"))+" ",1),he]),u(o("input",{required:"","onUpdate:modelValue":a[0]||(a[0]=e=>r(n).title=e),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,r(n).title]]),o("span",ke,s(r(n).title?r(n).title.length:0)+" of 50 Characters",1)]),o("div",we,[o("div",null,[o("label",xe,[d(s(t.$t("event-type"))+" ",1),$e]),u(o("select",{required:"","onUpdate:modelValue":a[1]||(a[1]=e=>r(n).demonstration_type_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),i(m,null,y(r(I),e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",Ve,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",qe,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",Ce,s(e.name_es),1)):(l(),i("span",De,s(e.name_pt),1))],8,Ue))),128))],512),[[c,r(n).demonstration_type_id]])]),o("div",null,[o("label",ze,[d(s(t.$t("event-mode"))+" ",1),Se]),u(o("select",{required:"","onUpdate:modelValue":a[2]||(a[2]=e=>r(n).demonstration_mode_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),i(m,null,y(r(Z),e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",Fe,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",Le,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",je,s(e.name_es),1)):(l(),i("span",Be,s(e.name_pt),1))],8,Re))),128))],512),[[c,r(n).demonstration_mode_id]])]),o("div",null,[o("label",Ee,[d(s(t.$t("continent"))+" ",1),Oe]),u(o("select",{required:"","onUpdate:modelValue":a[3]||(a[3]=e=>r(n).continent_id=e),onChange:a[4]||(a[4]=e=>A()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),i(m,null,y(r(j),e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",Ne,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",Ze,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",Ge,s(e.name_es),1)):(l(),i("span",Je,s(e.name_pt),1))],8,Ie))),128))],544),[[c,r(n).continent_id]])]),o("div",null,[o("label",Me,[d(s(t.$t("zoned"))+" ",1),Pe]),u(o("select",{required:"","onUpdate:modelValue":a[5]||(a[5]=e=>r(n).zone_id=e),onChange:a[6]||(a[6]=e=>T()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[b.value.length!=0?(l(!0),i(m,{key:0},y(b.value,e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",Te,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",Ae,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",He,s(e.name_es),1)):(l(),i("span",Qe,s(e.name_pt),1))],8,Ke))),128)):(l(),i("option",We," Requires "+s(t.$t("continent")),1))],544),[[c,r(n).zone_id]])]),o("div",null,[o("label",Xe,[d(s(t.$t("country"))+" ",1),Ye]),u(o("select",{required:"",onChange:a[7]||(a[7]=e=>K()),"onUpdate:modelValue":a[8]||(a[8]=e=>r(n).country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[f.value.length!=0?(l(!0),i(m,{key:0},y(f.value,e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",tt,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",ot,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",nt,s(e.name_es),1)):(l(),i("span",st,s(e.name_pt),1))],8,et))),128)):(l(),i("option",rt," Requires "+s(t.$t("zoned")),1))],544),[[c,r(n).country_id]])]),o("div",null,[o("label",lt,[d(s(t.$t("city"))+" ",1),it]),u(o("select",{required:"","onUpdate:modelValue":a[9]||(a[9]=e=>r(n).city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[_.value.length!=0?(l(!0),i(m,{key:0},y(_.value,e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",dt,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",ut,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",pt,s(e.name_es),1)):(l(),i("span",ct,s(e.name_pt),1))],8,at))),128)):(l(),i("option",mt," Requires "+s(t.$t("country")),1))],512),[[c,r(n).city_id]])]),o("div",yt,[o("label",_t,[d(s(t.$t("location-link"))+" ",1),ft]),u(o("input",{required:"","onUpdate:modelValue":a[10]||(a[10]=e=>r(n).place_link=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,r(n).place_link]])]),o("div",bt,[o("label",gt,[d(s(t.$t("enter-type")),1),vt]),u(o("select",{required:"","onUpdate:modelValue":a[11]||(a[11]=e=>r(n).enter_type=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},wt,512),[[c,r(n).enter_type]])]),o("div",null,[o("label",xt,s(t.$t("price")),1),u(o("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>r(n).price=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,r(n).price]])]),o("div",null,[o("label",$t,s(t.$t("currency")),1),u(o("select",{"onUpdate:modelValue":a[13]||(a[13]=e=>r(n).currency_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),i(m,null,y(r(F),e=>(l(),i("option",{key:e.id,value:e.id},s(e.symbol+" "+e.name),9,Ut))),128))],512),[[c,r(n).currency_id]])]),o("div",null,[o("label",Vt,[d(s(t.$t("start-date"))+" ",1),qt]),u(o("input",{"onUpdate:modelValue":a[14]||(a[14]=e=>r(n).start_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,r(n).start_date]])]),o("div",null,[o("label",Ct,[d(s(t.$t("end-date"))+" ",1),Dt]),u(o("input",{"onUpdate:modelValue":a[15]||(a[15]=e=>r(n).end_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,r(n).end_date]])]),o("div",null,[o("label",zt,[d(s(t.$t("niche"))+" ",1),St]),u(o("select",{required:"","onUpdate:modelValue":a[16]||(a[16]=e=>r(n).demonstration_niche_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),i(m,null,y(r(J),e=>(l(),i("option",{key:e.id,value:e.id},[t.$i18n.locale=="en"?(l(),i("span",Ft,s(e.name_en),1)):t.$i18n.locale=="fr"?(l(),i("span",Lt,s(e.name_fr),1)):t.$i18n.locale=="es"?(l(),i("span",jt,s(e.name_es),1)):(l(),i("span",Bt,s(e.name_pt),1))],8,Rt))),128))],512),[[c,r(n).demonstration_niche_id]])]),o("div",null,[o("label",Et,[d(s(t.$t("hour"))+" ",1),Ot]),u(o("input",{"onUpdate:modelValue":a[17]||(a[17]=e=>r(n).hourly=e),type:"time",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,r(n).hourly]])]),o("div",null,[o("label",It,[d(s(t.$t("contact-phone"))+" ",1),Nt]),u(o("input",{required:"","onUpdate:modelValue":a[18]||(a[18]=e=>r(n).phone=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,r(n).phone]])]),o("div",null,[o("label",Zt,[d(s(t.$t("contact-email"))+" ",1),Gt]),u(o("input",{required:"","onUpdate:modelValue":a[19]||(a[19]=e=>r(n).email=e),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,r(n).email]])])]),o("div",Jt,[o("label",Mt,s(t.$t("thumbnails")),1),o("div",Pt,[r(n).image?(l(),i("img",{key:0,src:typeof r(n).image=="string"?r(n).image:Q(r(n).image),onLoad:a[20]||(a[20]=e=>typeof r(n).image=="string"?"":W(r(n).image)),class:"h-16 w-16 rounded-full",alt:r(n).title},null,40,Kt)):v("",!0),o("input",{ref_key:"file",ref:w,onChange:a[21]||(a[21]=e=>H()),accept:"image/*",type:"file",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)])]),o("div",Tt,[o("label",At,[d(s(t.$t("description"))+" ",1),Ht]),u(o("textarea",{required:"",type:"text","onUpdate:modelValue":a[22]||(a[22]=e=>r(n).description=e),id:"pt",class:"mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`
                        `,512),[[p,r(n).description]])])]),o("div",Qt,[r(V)==0?(l(),i("button",Wt,s(t.$t("save")),1)):v("",!0),r(V)==1?(l(),i("button",Xt,[d(s(t.$t("save"))+"... ",1),se(Y,{size:"small"})])):v("",!0)])],32)])])}}};export{uo as default};
