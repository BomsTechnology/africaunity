import{a as V,r as y,o as $,q,d as a,e as n,f as e,t as i,l as C,w as h,j as d,P as B,k as u,g as c,m as P,h as f,I as x,K as v,T as M,b as N}from"./app.4a599ac6.js";import{r as _}from"./LockClosedIcon.dbccf7c9.js";const j={class:"mx-auto w-full items-center justify-center bg-white px-2 py-8 md:space-x-6 md:px-12 lg:flex xl:w-[90%]"},A={class:"p-6"},S={class:"shadow"},T={class:"px-6 py-6"},z={class:"text-center text-3xl font-bold text-[#242A56]"},D={key:1,class:"mx-8 mt-2 bg-green-50 py-4 px-2 text-green-700"},E=d(" Password changed successfully "),R={class:"relative"},U=["placeholder"],H={class:"relative"},I=["placeholder"],K={key:0,type:"submit",class:"mt-6 w-full bg-primary-blue px-8 py-2 text-lg text-white"},F={key:1,disabled:"",type:"submit",class:"mt-6 inline-flex w-full cursor-wait items-center justify-center bg-blue-300 px-8 py-2 text-lg text-white"},G=e("svg",{class:"mr-3 h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),O={__name:"ResetPassword",props:{token:{required:!0,type:String}},setup(g){const m=g,w=M(),o=V({email:"",password:"",password_confirmation:"",token:m.token}),l=y(""),r=y(0);$(async()=>{m.token&&"email"in w.query?o.email=w.query.email:q.push({name:"home"})});const b=async()=>{try{l.value="",r.value=1,await axios.post("/api/reset-password",o),r.value=2}catch(s){if(r.value=0,s.response.status==422)for(const t in s.response.data.errors)l.value+=s.response.data.errors[t][0]+`
`;else l.value=s.response.data.message}};return(s,t)=>{const k=N("router-link");return a(),n("div",j,[e("div",A,[e("div",S,[e("div",T,[e("h1",z,i(s.$t("change-password")),1),l.value!=""?(a(),C(B,{key:0},{default:h(()=>[d(i(l.value),1)]),_:1})):u("",!0),r.value==2?(a(),n("div",D,[e("p",null,[E,c(k,{class:"text-[#242A56] hover:underline",to:{name:"login"}},{default:h(()=>[d(i(s.$t("login")),1)]),_:1})])])):(a(),n("form",{key:2,onSubmit:t[2]||(t[2]=P(p=>b(),["prevent"])),class:"py-7"},[e("div",R,[e("span",null,[c(f(_),{class:"absolute mt-2 ml-2 h-6 w-6 text-gray-400"})]),x(e("input",{type:"password",required:"","onUpdate:modelValue":t[0]||(t[0]=p=>o.password=p),placeholder:s.$t("new-password"),class:"form-input mt-3 block w-full border-gray-400 px-3 pr-2 pl-10 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,8,U),[[v,o.password]])]),e("div",H,[e("span",null,[c(f(_),{class:"absolute mt-2 ml-2 h-6 w-6 text-gray-400"})]),x(e("input",{type:"password",required:"","onUpdate:modelValue":t[1]||(t[1]=p=>o.password_confirmation=p),placeholder:s.$t("confirm-password"),class:"form-input mt-3 block w-full border-gray-400 px-3 pr-2 pl-10 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,8,I),[[v,o.password_confirmation]])]),e("div",null,[r.value==0?(a(),n("button",K,i(s.$t("update")),1)):u("",!0),r.value==1?(a(),n("button",F,[G,d(" "+i(s.$t("update"))+"... ",1)])):u("",!0)])],32))])])])])}}};export{O as default};
