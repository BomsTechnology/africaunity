var x=(s,c,r)=>new Promise((i,l)=>{var p=a=>{try{g(r.next(a))}catch(t){l(t)}},f=a=>{try{g(r.throw(a))}catch(t){l(t)}},g=a=>a.done?i(a.value):Promise.resolve(a.value).then(p,f);g((r=r.apply(s,c)).next())});import{d as n,e as d,f as e,a as w,r as v,b as _,I as m,L as M,l as S,w as z,j as b,t as u,P as A,k as h,m as C,K as k,g as V}from"./app.js";function X(s,c){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M21.721 12.752a9.711 9.711 0 00-.945-5.003 12.754 12.754 0 01-4.339 2.708 18.991 18.991 0 01-.214 4.772 17.165 17.165 0 005.498-2.477zM14.634 15.55a17.324 17.324 0 00.332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 00.332 4.647 17.385 17.385 0 005.268 0zM9.772 17.119a18.963 18.963 0 004.456 0A17.182 17.182 0 0112 21.724a17.18 17.18 0 01-2.228-4.605zM7.777 15.23a18.87 18.87 0 01-.214-4.774 12.753 12.753 0 01-4.34-2.708 9.711 9.711 0 00-.944 5.004 17.165 17.165 0 005.498 2.477zM21.356 14.752a9.765 9.765 0 01-7.478 6.817 18.64 18.64 0 001.988-4.718 18.627 18.627 0 005.49-2.098zM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 001.988 4.718 9.765 9.765 0 01-7.478-6.816zM13.878 2.43a9.755 9.755 0 016.116 3.986 11.267 11.267 0 01-3.746 2.504 18.63 18.63 0 00-2.37-6.49zM12 2.276a17.152 17.152 0 012.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0112 2.276zM10.122 2.43a18.629 18.629 0 00-2.37 6.49 11.266 11.266 0 01-3.746-2.504 9.754 9.754 0 016.116-3.985z"})])}function Y(s,c){return n(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M9 2.25a.75.75 0 01.75.75v1.506a49.38 49.38 0 015.343.371.75.75 0 11-.186 1.489c-.66-.083-1.323-.151-1.99-.206a18.67 18.67 0 01-2.969 6.323c.317.384.65.753.998 1.107a.75.75 0 11-1.07 1.052A18.902 18.902 0 019 13.687a18.823 18.823 0 01-5.656 4.482.75.75 0 11-.688-1.333 17.323 17.323 0 005.396-4.353A18.72 18.72 0 015.89 8.598a.75.75 0 011.388-.568A17.21 17.21 0 009 11.224a17.17 17.17 0 002.391-5.165 48.038 48.038 0 00-8.298.307.75.75 0 01-.186-1.489 49.159 49.159 0 015.343-.371V3A.75.75 0 019 2.25zM15.75 9a.75.75 0 01.68.433l5.25 11.25a.75.75 0 01-1.36.634l-1.198-2.567h-6.744l-1.198 2.567a.75.75 0 01-1.36-.634l5.25-11.25A.75.75 0 0115.75 9zm-2.672 8.25h5.344l-2.672-5.726-2.672 5.726z","clip-rule":"evenodd"})])}const j={class:"fixed inset-0 z-40 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},N={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},$=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),B={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},O={class:"relative rounded-lg bg-white py-4 shadow"},J={key:1,class:"mx-8 bg-green-50 py-4 px-2 text-green-700"},q={class:"flex items-center justify-center text-xl font-bold text-gray-900 md:text-2xl"},D={class:""},F={class:"dark:text-gray-200 text-gray-700"},U=e("span",{class:"text-red-500"},"*",-1),E={class:""},K={class:"dark:text-gray-200 text-gray-700"},P=e("span",{class:"text-red-500"},"*",-1),T={class:""},I=e("label",{class:"dark:text-gray-200 text-gray-700"},[b("CV(Pdf | max: 5mo) "),e("span",{class:"text-red-500"},"*")],-1),L=e("label",{for:"report",class:"dark:text-gray-300 mb-2 block text-sm font-medium text-gray-900"},[b("Message "),e("span",{class:"text-red-500"},"*")],-1),G={key:0,type:"submit",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 w-full rounded-lg bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},H={key:1,type:"submit",disabled:"",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 flex w-full items-center justify-center rounded-lg bg-blue-300 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},Q={key:3,class:"px-8"},Z={__name:"Apply",props:{open:Boolean,toogleModal:Function,id:String},setup(s){const c=s,r=w({user:JSON.parse(localStorage.user).id,job:c.id,message:"",email:JSON.parse(localStorage.user).email,name:JSON.parse(localStorage.user).firstname+" "+(JSON.parse(localStorage.user).lastname?JSON.parse(localStorage.user).lastname:""),cv:""}),i=v(0),l=v(""),p=v(null),f=()=>x(this,null,function*(){if(r.cv.size>5e6){l.value="Votre fichier est tr\xE8s volimineux";return}let a=new FormData;a.append("user",r.user),a.append("job",r.job),a.append("message",r.message),a.append("email",r.email),a.append("name",r.name),a.append("cv",r.cv),l.value="";try{i.value=1,yield axios.post("/api/jobOffers-apply",a,{headers:{Authorization:`Bearer ${localStorage.token}`}}),i.value=2}catch(t){if(t.response.status==422){i.value=0;for(const y in t.response.data.errors)l.value+=t.response.data.errors[y][0]+`
`}else l.value=t.response.data.message}}),g=()=>x(this,null,function*(){r.cv=p.value.files[0]});return(a,t)=>{const y=_("Spin");return m((n(),d("div",j,[e("div",N,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:t[0]||(t[0]=(...o)=>s.toogleModal&&s.toogleModal(...o))}),$,e("div",B,[e("div",O,[l.value!=""?(n(),S(A,{key:0},{default:z(()=>[b(u(l.value),1)]),_:1})):h("",!0),i.value==2?(n(),d("div",J,[e("p",null,u(a.$t("msg-contact-sucess")),1)])):(n(),d("form",{key:2,onSubmit:t[5]||(t[5]=C(o=>f(),["prevent"])),class:"space-y-6 px-6 pb-4 sm:pb-6 lg:px-8 xl:pb-8",action:"#"},[e("h3",q,u(a.$t("apply")),1),e("div",D,[e("label",F,[b(u(a.$t("full-name"))+" ",1),U]),m(e("input",{required:"","onUpdate:modelValue":t[1]||(t[1]=o=>r.name=o),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[k,r.name]])]),e("div",E,[e("label",K,[b(u(a.$t("email"))+" ",1),P]),m(e("input",{required:"","onUpdate:modelValue":t[2]||(t[2]=o=>r.email=o),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[k,r.email]])]),e("div",T,[I,e("input",{required:"",ref_key:"file",ref:p,onChange:t[3]||(t[3]=o=>g()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),e("div",null,[L,m(e("textarea",{required:"","onUpdate:modelValue":t[4]||(t[4]=o=>r.message=o),id:"report",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`
                            `,512),[[k,r.message]])]),i.value==0?(n(),d("button",G,u(a.$t("send")),1)):(n(),d("button",H,[V(y,{size:"small"})]))],32)),i.value==2?(n(),d("div",Q,[e("button",{type:"button",onClick:t[6]||(t[6]=(...o)=>s.toogleModal&&s.toogleModal(...o)),class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-2 w-full rounded bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"}," OK ")])):h("",!0)])])])],512)),[[M,s.open]])}}};export{Z as _,Y as a,X as r};
