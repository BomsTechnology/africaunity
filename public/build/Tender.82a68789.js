import{d as t,e as o,f as s,F as p,x as m,g as _,h as i,R as se,u as oe,r as f,o as ne,S as ae,a as re,t as a,l as g,X as le,k as d,i as ie,w as S,I as y,K as R,J as v,U as de,b as D}from"./app.4a599ac6.js";import{u as ue}from"./tenderServices.adffe962.js";import{u as ce}from"./currencyServices.9ec99a70.js";import{u as ye}from"./activityAreaServices.ff2ddbd9.js";import{u as pe}from"./countryServices.8844e816.js";import{u as me}from"./zoneServices.8186c0fc.js";import{u as _e}from"./continentServices.aa02b2f5.js";import{u as fe}from"./cityServices.01cebc19.js";import{r as ge}from"./PhotoIcon.6207048b.js";import{r as ve}from"./PlusCircleIcon.f06913c1.js";import{r as he}from"./BuildingOffice2Icon.c1e06e76.js";import{r as be,a as ke}from"./MapPinIcon.14d2ff13.js";const we={class:"animate-pulse"},xe={class:"space-y-3 py-8"},$e={class:"mx-auto h-16 w-16 overflow-hidden"},Ce=se('<div class="flex w-5/6 flex-col items-start justify-center p-6"><div class="mb-4 h-5 w-32 rounded-md bg-gray-200"></div><div class="mb-4 h-2.5 w-5/6 rounded-full bg-gray-200"></div><div class="flex w-full items-center justify-between"><div class="mb-4 h-2.5 w-1/5 rounded-full bg-gray-200"></div><div class="mb-4 h-2.5 w-3/5 rounded-full bg-gray-200"></div></div></div>',1),L={__name:"Tender",setup(M){const k=[1,2,3,4];return(A,F)=>(t(),o("div",we,[s("div",xe,[(t(),o(p,null,m(k,w=>s("div",{key:w,class:"flex items-center rounded bg-gray-100 shadow"},[s("div",$e,[_(i(ge),{class:"h-full w-full text-gray-200"})]),Ce])),64))])]))}},ze={class:"mx-auto w-full bg-white py-4 xl:w-[90%]"},Ve={class:"py-4 text-center text-5xl font-bold capitalize text-primary-blue"},je={class:"py-8 px-6 lg:px-16"},Ue={class:"flex justify-end px-6 py-4"},Se={key:1},Ae={key:3},Fe={key:0,class:"space-y-3 bg-gray-100 px-10 pb-8 pt-4 text-xs shadow lg:text-sm"},Te={class:"grid grid-cols-1 gap-2 lg:grid-cols-2"},Ne={class:"dark:text-gray-200 text-gray-700"},Be={class:"dark:text-gray-200 text-gray-700"},Ke=s("option",{value:""},"--------------",-1),Re=["value"],De={key:0},Le={key:1},Me={key:2},qe={key:3},Ee={class:"grid grid-cols-1 gap-2 lg:grid-cols-4"},Ze={class:""},Ie={class:"text-gray-700",for:"es"},Je=s("option",{value:""},"--------------",-1),Oe=["value"],Ge={key:0},He={key:1},Pe={key:2},Xe={key:3},Qe={class:""},We={class:"text-gray-700",for:"es"},Ye=s("option",{value:""},"--------------",-1),et=["value"],tt={key:0},st={key:1},ot={key:2},nt={key:3},at={key:1,value:"null"},rt={class:""},lt={class:"text-gray-700",for:"es"},it=s("option",{value:""},"--------------",-1),dt=["value"],ut={key:0},ct={key:1},yt={key:2},pt={key:3},mt={key:1,value:"null"},_t={class:""},ft={class:"text-gray-700",for:"es"},gt=s("option",{value:""},"--------------",-1),vt=["value"],ht={key:0},bt={key:1},kt={key:2},wt={key:3},xt={key:1,value:"null"},$t={class:"grid grid-cols-1 gap-2 lg:grid-cols-3"},Ct={class:"dark:text-gray-200 text-gray-700",for:"es"},zt={class:"dark:text-gray-200 text-gray-700",for:"es"},Vt=s("option",{value:""},"--------------",-1),jt=["value"],Ut={key:0,class:"bg-primary-blue p-2 shadow"},St={key:1,class:"flex justify-end px-6 py-4"},At={class:"text-base leading-4"},Ft={class:"flex items-center space-x-4"},Tt={class:"hidden lg:block"},Nt=["src"],Bt={class:"capitalize"},Kt={class:"font-bold capitalize text-gray-500"},Rt={class:"hidden justify-start space-x-4 font-light capitalize text-gray-500 lg:flex"},Dt={class:"flex items-center justify-center space-x-2"},Lt={key:0,class:"flex items-center justify-start space-x-2"},Mt={class:""},qt={class:"capitalize"},es={__name:"Tender",setup(M){const{locale:k}=oe(),{currencies:A,getCurrencies:F}=ce(),{activityAreas:w,getActivityAreas:q}=ye(),{zones:E,getZones:Z}=me(),{continents:I,getContinents:J}=_e(),{countries:O,getCountries:G}=pe(),{cities:H,getCities:P}=fe(),{tenders:x,filterTenders:X,getTendersFront:$,loading:C,isAll:T,page:z}=ue(),N=localStorage.user?JSON.parse(localStorage.user):"",V=f([]),b=f([]),h=f([]),j=f(null),U=f(!0);ne(async()=>{window.addEventListener("scroll",B),await $(),await F(),await J(),await Z(),await q(),await G(),await P()}),ae(async()=>{z.value=1,window.removeEventListener("scroll",B)});const B=async r=>{j.value&&j.value.getBoundingClientRect().bottom<window.innerHeight&&U.value&&!T.value&&n.country==""&&n.continent==""&&n.zone==""&&n.activity_area==""&&n.city==""&&n.min_price==""&&n.currency==""&&(U.value=!1,z.value++,await $(),U.value=!0)},u=f(!0),n=re({country:"",continent:"",zone:"",activity_area:"",city:"",min_price:"",currency:"",searchKey:""}),Q=()=>{u.value=!u.value},c=async()=>{n.country!=""||n.continent!=""||n.zone!=""||n.activity_area!=""||n.city!=""||n.min_price!=""||n.currency!=""||n.searchKey!=""?(n.min_price=n.min_price.trim().replaceAll(" ",""),await X({...n})):(z.value=1,T.value=!1,await $())},W=async()=>{h.value=H.value.filter(r=>r.country_id==n.country),n.city="",await c()},Y=async()=>{b.value=O.value.filter(r=>r.zone_id==n.zone),n.country="",n.city="",h.value=[],await c()},ee=async()=>{V.value=E.value.filter(r=>r.continent_id==n.continent),n.zone="",n.country="",n.city="",h.value=[],b.value=[],await c()};return(r,l)=>{const K=D("router-link"),te=D("NoContent");return t(),o("div",ze,[s("h1",Ve,a(r.$t("appel d'offre")),1),s("div",je,[s("div",Ue,[s("button",{onClick:l[0]||(l[0]=e=>Q()),class:"flex items-center justify-start text-sm text-primary-blue hover:underline"},[u.value?(t(),g(i(le),{key:0,class:"h-5 w-5"})):d("",!0),u.value?(t(),o("span",Se,a(r.$t("hide-filter")),1)):d("",!0),u.value?d("",!0):(t(),g(i(ie),{key:2,class:"h-5 w-5"})),u.value?d("",!0):(t(),o("span",Ae,a(r.$t("show-filter")),1))])]),_(de,{"enter-active-class":" transition-all  ","enter-from-class":" opacity-0  -translate-y-full","enter-to-class":"  opacity-1 translate-y-0","leave-active-class":"","leave-from-class":"","leave-to-class":""},{default:S(()=>[u.value?(t(),o("div",Fe,[s("div",Te,[s("div",null,[s("label",Ne,a(r.$t("key-words")),1),y(s("input",{type:"text",onChange:l[1]||(l[1]=e=>c()),"onUpdate:modelValue":l[2]||(l[2]=e=>n.searchKey=e),class:"form-input mt-1 block w-full rounded-md border border-gray-200 bg-white px-3 pr-2 text-gray-700 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,544),[[R,n.searchKey]])]),s("div",null,[s("label",Be,a(r.$t("activity-area")),1),y(s("select",{onChange:l[3]||(l[3]=e=>c()),"onUpdate:modelValue":l[4]||(l[4]=e=>n.activity_area=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Ke,(t(!0),o(p,null,m(i(w),e=>(t(),o("option",{key:e.id,value:e.id},[r.$i18n.locale=="en"?(t(),o("span",De,a(e.name_en),1)):r.$i18n.locale=="fr"?(t(),o("span",Le,a(e.name_fr),1)):r.$i18n.locale=="es"?(t(),o("span",Me,a(e.name_es),1)):(t(),o("span",qe,a(e.name_pt),1))],8,Re))),128))],544),[[v,n.activity_area]])])]),s("div",Ee,[s("div",Ze,[s("label",Ie,a(r.$t("continent")),1),y(s("select",{onChange:l[5]||(l[5]=e=>ee()),"onUpdate:modelValue":l[6]||(l[6]=e=>n.continent=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Je,(t(!0),o(p,null,m(i(I),e=>(t(),o("option",{key:e.id,value:e.id},[r.$i18n.locale=="en"?(t(),o("span",Ge,a(e.name_en),1)):r.$i18n.locale=="fr"?(t(),o("span",He,a(e.name_fr),1)):r.$i18n.locale=="es"?(t(),o("span",Pe,a(e.name_es),1)):(t(),o("span",Xe,a(e.name_pt),1))],8,Oe))),128))],544),[[v,n.continent]])]),s("div",Qe,[s("label",We,a(r.$t("zoned")),1),y(s("select",{onChange:l[7]||(l[7]=e=>Y()),"onUpdate:modelValue":l[8]||(l[8]=e=>n.zone=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Ye,V.value.length!=0?(t(!0),o(p,{key:0},m(V.value,e=>(t(),o("option",{key:e.id,value:e.id},[r.$i18n.locale=="en"?(t(),o("span",tt,a(e.name_en),1)):r.$i18n.locale=="fr"?(t(),o("span",st,a(e.name_fr),1)):r.$i18n.locale=="es"?(t(),o("span",ot,a(e.name_es),1)):(t(),o("span",nt,a(e.name_pt),1))],8,et))),128)):(t(),o("option",at," Requires "+a(r.$t("continent")),1))],544),[[v,n.zone]])]),s("div",rt,[s("label",lt,a(r.$t("country")),1),y(s("select",{onChange:l[9]||(l[9]=e=>W()),"onUpdate:modelValue":l[10]||(l[10]=e=>n.country=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[it,b.value.length!=0?(t(!0),o(p,{key:0},m(b.value,e=>(t(),o("option",{key:e.id,value:e.id},[r.$i18n.locale=="en"?(t(),o("span",ut,a(e.name_en),1)):r.$i18n.locale=="fr"?(t(),o("span",ct,a(e.name_fr),1)):r.$i18n.locale=="es"?(t(),o("span",yt,a(e.name_es),1)):(t(),o("span",pt,a(e.name_pt),1))],8,dt))),128)):(t(),o("option",mt," Requires "+a(r.$t("zoned")),1))],544),[[v,n.country]])]),s("div",_t,[s("label",ft,a(r.$t("city")),1),y(s("select",{onChange:l[11]||(l[11]=e=>c()),"onUpdate:modelValue":l[12]||(l[12]=e=>n.city=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[gt,h.value.length!=0?(t(!0),o(p,{key:0},m(h.value,e=>(t(),o("option",{key:e.id,value:e.id},[r.$i18n.locale=="en"?(t(),o("span",ht,a(e.name_en),1)):r.$i18n.locale=="fr"?(t(),o("span",bt,a(e.name_fr),1)):r.$i18n.locale=="es"?(t(),o("span",kt,a(e.name_es),1)):(t(),o("span",wt,a(e.name_pt),1))],8,vt))),128)):(t(),o("option",xt," Requires "+a(r.$t("country")),1))],544),[[v,n.city]])])]),s("div",$t,[s("div",null,[s("label",Ct,a(r.$t("salary"))+" Min. ",1),y(s("input",{"onUpdate:modelValue":l[13]||(l[13]=e=>n.min_price=e),onChange:l[14]||(l[14]=e=>c()),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544),[[R,n.min_price]])]),s("div",null,[s("label",zt,a(r.$t("currency")),1),y(s("select",{onChange:l[15]||(l[15]=e=>c()),"onUpdate:modelValue":l[16]||(l[16]=e=>n.currency=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Vt,(t(!0),o(p,null,m(i(A),e=>(t(),o("option",{key:e.id,value:e.id},a(e.symbol+" "+e.name),9,jt))),128))],544),[[v,n.currency]])])])])):d("",!0)]),_:1}),u.value?(t(),o("div",Ut)):d("",!0),i(N).type!="particular"&&i(N).type!="business1"?(t(),o("div",St,[_(K,{to:{name:"add.tender"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:S(()=>[_(i(ve),{class:"h-6 w-6"}),s("p",At,a(r.$t("add"))+" AO ",1)]),_:1},8,["to"])])):d("",!0),i(C)==3?(t(),g(L,{key:2})):i(x).length!=0?(t(),o("div",{key:3,ref_key:"tenderContainer",ref:j,class:"text-lg"},[(t(!0),o(p,null,m(i(x),e=>(t(),o("div",{key:e.id},[_(K,{to:{name:"show.tender",params:{id:e.id,slug:e.slug}},class:"flex items-center justify-between border-b border-gray-200 px-2 py-4 hover:bg-gray-100"},{default:S(()=>[s("div",Ft,[s("div",Tt,[e.company_logo?(t(),o("img",{key:0,src:e.company_logo,alt:"",class:"h-16 w-16 object-cover"},null,8,Nt)):(t(),g(i(he),{key:1,class:"h-16 w-16 text-gray-500"}))]),s("div",null,[s("h1",Bt,a(e.title),1),s("h2",Kt,a(e.company_name),1)]),s("div",Rt,[s("h1",Dt,[_(i(be),{class:"h-5 w-5"}),s("span",null,a(e.location),1)]),e.currency?(t(),o("h2",Lt,[_(i(ke),{class:"h-5 w-5"}),s("span",null,a(e.min_price+e.currency.symbol)+" - "+a(e.max_price+e.currency.symbol),1)])):d("",!0)])]),s("div",Mt,[s("h1",qt," Publi\xE9 le: "+a(new Date(e.date).toLocaleDateString(i(k),{day:"numeric",year:"numeric",month:"long"})),1)])]),_:2},1032,["to"])]))),128))],512)):d("",!0),i(C)==1?(t(),g(L,{key:4})):d("",!0),i(x).length==0&&i(C)!=1?(t(),g(te,{key:5})):d("",!0)])])}}};export{es as default};
