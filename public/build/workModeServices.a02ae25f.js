import{r as u,p as s}from"./app.4a599ac6.js";function h(){const n=u([]),l=u([]),a=u(""),e=u(0);return{workModes:n,workMode:l,errorsWM:a,loading:e,getWorkModes:async()=>{a.value="",e.value=!0;let o=await s.get("/api/workModes",{headers:{Authorization:`Bearer ${localStorage.token}`}});n.value=o.data.data,e.value=!1},getWorkMode:async o=>{a.value="",e.value=!0;let r=await s.get("/api/workModes/"+o,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,l.value=r.data.data},createWorkMode:async o=>{a.value="";try{e.value=!0,await s.post("/api/workModes",o,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(r){if(r.response.status==422){e.value=0;for(const t in r.response.data.errors)a.value+=r.response.data.errors[t][0]+`
`}}},updateWorkMode:async(o,r)=>{a.value="";try{e.value=!0,await s.put("/api/workModes/"+o,r,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(t){if(e.value=0,t.response.status==422)for(const d in t.response.data.errors)a.value+=t.response.data.errors[d][0]+`	
`}},destroyWorkMode:async o=>{a.value="";try{return e.value=!0,await s.delete("/api/workModes/"+o,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,!0}catch{e.value=0,a.value="Impossible de supprimer ce workMode"}}}}export{h as u};
