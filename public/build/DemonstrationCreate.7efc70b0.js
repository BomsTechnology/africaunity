import{r as b,a as X,o as Y,d as r,e as i,f as t,t as n,h as u,l as ee,w as te,j as a,k as g,m as oe,I as d,K as p,J as c,F as m,x as _,g as se,G as ne,b as $}from"./app.4a599ac6.js";import{u as re}from"./zoneServices.8186c0fc.js";import{u as ie}from"./cityServices.01cebc19.js";import{u as le}from"./countryServices.8844e816.js";import{u as ae}from"./currencyServices.9ec99a70.js";import{u as de}from"./continentServices.aa02b2f5.js";import{u as ue}from"./demonstrationServices.c459928d.js";import{u as pe}from"./demonstrationModeServices.ca5693bf.js";import{u as ce}from"./demonstrationTypeServices.9609e453.js";import{u as me}from"./demonstrationNicheServices.077cf713.js";const _e={class:"text-center text-2xl font-bold text-gray-500 sm:text-4xl"},ye={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},fe={class:"mt-4"},be={class:"col-span-2"},ge={class:"text-gray-700"},he=t("span",{class:"text-red-500"},"*",-1),ve={class:"text-xs font-light text-gray-400"},ke={class:"col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},we={class:"text-gray-700",for:"pt"},xe=t("span",{class:"text-red-500"},"*",-1),$e=["value"],Ue={key:0},Ve={key:1},qe={key:2},Ce={key:3},De={class:"text-gray-700",for:"pt"},ze=t("span",{class:"text-red-500"},"*",-1),Re=["value"],Se={key:0},Fe={key:1},Le={key:2},je={key:3},Be={class:"text-gray-700",for:"es"},Oe=t("span",{class:"text-red-500"},"*",-1),Ee=["value"],Ie={key:0},Ne={key:1},Ze={key:2},Ge={key:3},Je={class:"text-gray-700",for:"es"},Me=t("span",{class:"text-red-500"},"*",-1),Ke=["value"],Pe={key:0},Ae={key:1},He={key:2},Qe={key:3},Te={key:1,value:"null"},We={class:"text-gray-700",for:"es"},Xe=t("span",{class:"text-red-500"},"*",-1),Ye=["value"],et={key:0},tt={key:1},ot={key:2},st={key:3},nt={key:1,value:"null"},rt={class:"d text-gray-700",for:"es"},it=t("span",{class:"text-red-500"},"*",-1),lt=["value"],at={key:0},dt={key:1},ut={key:2},pt={key:3},ct={key:1,value:"null"},mt={class:"sm:col-span-2"},_t={class:"text-gray-700",for:"pt"},yt=t("span",{class:"text-red-500"},"*",-1),ft={class:"sm:col-span-2"},bt={class:"text-gray-700"},gt=t("span",{class:"text-red-500"},"*",-1),ht=t("option",{value:"free"},"Gratuit",-1),vt=t("option",{value:"paying"},"Payant",-1),kt=[ht,vt],wt={class:"text-gray-700"},xt={class:"text-gray-700",for:"es"},$t=["value"],Ut={class:"text-gray-700"},Vt=t("span",{class:"text-red-500"},"*",-1),qt={class:"text-gray-700"},Ct=t("span",{class:"text-red-500"},"*",-1),Dt={class:"text-gray-700"},zt=t("span",{class:"text-red-500"},"*",-1),Rt=["value"],St={key:0},Ft={key:1},Lt={key:2},jt={key:3},Bt={class:"text-gray-700"},Ot=t("span",{class:"text-red-500"},"*",-1),Et={class:"text-gray-700"},It=t("span",{class:"text-red-500"},"*",-1),Nt={class:"text-gray-700"},Zt=t("span",{class:"text-red-500"},"*",-1),Gt={class:"sm:col-span-2 mt-4"},Jt={class:"text-gray-700",for:"fr"},Mt={class:"flex items-center space-x-4 py-4"},Kt=["src","alt"],Pt={class:"sm:col-span-2 mt-4"},At={class:"text-gray-700",for:"pt"},Ht=t("span",{class:"text-red-500"},"*",-1),Qt={class:"mt-20"},Tt={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Wt={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},uo={__name:"DemonstrationCreate",setup(Xt){const k=b(null),U=ne(),y=b([]),h=b([]),f=b([]),{zones:V,getZones:q}=re(),{cities:C,getCities:D}=ie(),{countries:z,getCountries:R}=le(),{currencies:S,getCurrencies:F}=ae(),{continents:L,getContinents:j}=de(),{errors:v,loading:w,createDemonstration:B}=ue(),{demonstrationTypes:O,getDemonstrationTypes:E}=ce(),{demonstrationModes:I,getDemonstrationModes:N}=pe(),{demonstrationNiches:Z,getDemonstrationNiches:G}=me(),x=localStorage.user?JSON.parse(localStorage.user):"",s=X({title:"",user_id:x.id,description:"",price:"0",image:"",hourly:"",enter_type:"",place_link:"",start_date:"",end_date:"",email:x.email,phone:"",demonstration_type_id:"",demonstration_mode_id:"",demonstration_niche_id:"",currency_id:"",city_id:"",zone_id:"",continent_id:"",country_id:""});Y(async()=>{await E(),await N(),await G(),await F(),await j(),await q(),await R(),await D()});const J=async()=>{let o=new FormData;o.append("title",s.title),o.append("description",s.description),o.append("price",s.price),o.append("image",s.image),o.append("email",s.email),o.append("hourly",s.hourly),o.append("start_date",s.start_date),o.append("end_date",s.end_date),o.append("phone",s.phone),o.append("enter_type",s.enter_type),o.append("user_id",s.user_id),o.append("currency_id",s.currency_id),o.append("place_link",s.place_link),o.append("demonstration_type_id",s.demonstration_type_id),o.append("demonstration_mode_id",s.demonstration_mode_id),o.append("demonstration_niche_id",s.demonstration_niche_id),o.append("city_id",s.city_id),o.append("zone_id",s.zone_id),o.append("continent_id",s.continent_id),o.append("country_id",s.country_id),await B(o),v.value==""&&U.push({name:"admin.event.index"})},M=()=>{y.value=C.value.filter(o=>o.country_id==s.country_id),s.city_id=""},K=()=>{f.value=z.value.filter(o=>o.zone_id==s.zone_id),s.country_id="",s.city_id="",y.value=[]},P=()=>{h.value=V.value.filter(o=>o.continent_id==s.continent_id),s.zone_id="",s.country_id="",s.city_id="",y.value=[],f.value=[]},A=async()=>{s.image=k.value.files[0]};function H(o){return URL.createObjectURL(o)}function Q(o){return URL.revokeObjectURL(o)}return(o,l)=>{const T=$("Error"),W=$("Spin");return r(),i("div",null,[t("h1",_e,n(o.$tc("add",1))+" Demonstration ",1),t("section",ye,[u(v)!=""?(r(),ee(T,{key:0},{default:te(()=>[a(n(u(v)),1)]),_:1})):g("",!0),t("form",{onSubmit:l[23]||(l[23]=oe(e=>J(),["prevent"])),id:"postform",enctype:"multipart/form-data"},[t("div",fe,[t("div",be,[t("label",ge,[a(n(o.$t("title"))+" ",1),he]),d(t("input",{required:"","onUpdate:modelValue":l[0]||(l[0]=e=>s.title=e),maxlength:"50",type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,s.title]]),t("span",ve,n(s.title?s.title.length:0)+" of 50 Characters",1)]),t("div",ke,[t("div",null,[t("label",we,[a(n(o.$t("event-type"))+" ",1),xe]),d(t("select",{required:"","onUpdate:modelValue":l[1]||(l[1]=e=>s.demonstration_type_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(u(O),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Ue,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Ve,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",qe,n(e.name_es),1)):(r(),i("span",Ce,n(e.name_pt),1))],8,$e))),128))],512),[[c,s.demonstration_type_id]])]),t("div",null,[t("label",De,[a(n(o.$t("event-mode"))+" ",1),ze]),d(t("select",{required:"","onUpdate:modelValue":l[2]||(l[2]=e=>s.demonstration_mode_id=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(u(I),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Se,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Fe,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",Le,n(e.name_es),1)):(r(),i("span",je,n(e.name_pt),1))],8,Re))),128))],512),[[c,s.demonstration_mode_id]])]),t("div",null,[t("label",Be,[a(n(o.$t("continent"))+" ",1),Oe]),d(t("select",{required:"","onUpdate:modelValue":l[3]||(l[3]=e=>s.continent_id=e),onChange:l[4]||(l[4]=e=>P()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(u(L),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Ie,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Ne,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",Ze,n(e.name_es),1)):(r(),i("span",Ge,n(e.name_pt),1))],8,Ee))),128))],544),[[c,s.continent_id]])]),t("div",null,[t("label",Je,[a(n(o.$t("zoned"))+" ",1),Me]),d(t("select",{required:"","onUpdate:modelValue":l[5]||(l[5]=e=>s.zone_id=e),onChange:l[6]||(l[6]=e=>K()),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[h.value.length!=0?(r(!0),i(m,{key:0},_(h.value,e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",Pe,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Ae,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",He,n(e.name_es),1)):(r(),i("span",Qe,n(e.name_pt),1))],8,Ke))),128)):(r(),i("option",Te," Requires "+n(o.$t("continent")),1))],544),[[c,s.zone_id]])]),t("div",null,[t("label",We,[a(n(o.$t("country"))+" ",1),Xe]),d(t("select",{required:"",onChange:l[7]||(l[7]=e=>M()),"onUpdate:modelValue":l[8]||(l[8]=e=>s.country_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[f.value.length!=0?(r(!0),i(m,{key:0},_(f.value,e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",et,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",tt,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",ot,n(e.name_es),1)):(r(),i("span",st,n(e.name_pt),1))],8,Ye))),128)):(r(),i("option",nt," Requires "+n(o.$t("zoned")),1))],544),[[c,s.country_id]])]),t("div",null,[t("label",rt,[a(n(o.$t("city"))+" ",1),it]),d(t("select",{required:"","onUpdate:modelValue":l[9]||(l[9]=e=>s.city_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[y.value.length!=0?(r(!0),i(m,{key:0},_(y.value,e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",at,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",dt,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",ut,n(e.name_es),1)):(r(),i("span",pt,n(e.name_pt),1))],8,lt))),128)):(r(),i("option",ct," Requires "+n(o.$t("country")),1))],512),[[c,s.city_id]])]),t("div",mt,[t("label",_t,[a(n(o.$t("location-link"))+" ",1),yt]),d(t("input",{required:"","onUpdate:modelValue":l[10]||(l[10]=e=>s.place_link=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,s.place_link]])]),t("div",ft,[t("label",bt,[a(n(o.$t("enter-type")),1),gt]),d(t("select",{required:"","onUpdate:modelValue":l[11]||(l[11]=e=>s.enter_type=e),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},kt,512),[[c,s.enter_type]])]),t("div",null,[t("label",wt,n(o.$t("price")),1),d(t("input",{"onUpdate:modelValue":l[12]||(l[12]=e=>s.price=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,s.price]])]),t("div",null,[t("label",xt,n(o.$t("currency")),1),d(t("select",{"onUpdate:modelValue":l[13]||(l[13]=e=>s.currency_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(u(S),e=>(r(),i("option",{key:e.id,value:e.id},n(e.symbol+" "+e.name),9,$t))),128))],512),[[c,s.currency_id]])]),t("div",null,[t("label",Ut,[a(n(o.$t("start-date"))+" ",1),Vt]),d(t("input",{"onUpdate:modelValue":l[14]||(l[14]=e=>s.start_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,s.start_date]])]),t("div",null,[t("label",qt,[a(n(o.$t("end-date"))+" ",1),Ct]),d(t("input",{"onUpdate:modelValue":l[15]||(l[15]=e=>s.end_date=e),type:"date",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,s.end_date]])]),t("div",null,[t("label",Dt,[a(n(o.$t("niche"))+" ",1),zt]),d(t("select",{required:"","onUpdate:modelValue":l[16]||(l[16]=e=>s.demonstration_niche_id=e),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(r(!0),i(m,null,_(u(Z),e=>(r(),i("option",{key:e.id,value:e.id},[o.$i18n.locale=="en"?(r(),i("span",St,n(e.name_en),1)):o.$i18n.locale=="fr"?(r(),i("span",Ft,n(e.name_fr),1)):o.$i18n.locale=="es"?(r(),i("span",Lt,n(e.name_es),1)):(r(),i("span",jt,n(e.name_pt),1))],8,Rt))),128))],512),[[c,s.demonstration_niche_id]])]),t("div",null,[t("label",Bt,[a(n(o.$t("hour"))+" ",1),Ot]),d(t("input",{"onUpdate:modelValue":l[17]||(l[17]=e=>s.hourly=e),type:"time",required:"",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,s.hourly]])]),t("div",null,[t("label",Et,[a(n(o.$t("contact-phone"))+" ",1),It]),d(t("input",{required:"","onUpdate:modelValue":l[18]||(l[18]=e=>s.phone=e),type:"text",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,s.phone]])]),t("div",null,[t("label",Nt,[a(n(o.$t("contact-email"))+" ",1),Zt]),d(t("input",{required:"","onUpdate:modelValue":l[19]||(l[19]=e=>s.email=e),type:"email",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[p,s.email]])])]),t("div",Gt,[t("label",Jt,n(o.$t("thumbnails")),1),t("div",Mt,[s.image?(r(),i("img",{key:0,src:typeof s.image=="string"?s.image:H(s.image),onLoad:l[20]||(l[20]=e=>typeof s.image=="string"?"":Q(s.image)),class:"h-16 w-16 rounded-full",alt:s.title},null,40,Kt)):g("",!0),t("input",{ref_key:"file",ref:k,onChange:l[21]||(l[21]=e=>A()),accept:"image/*",type:"file",class:"mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)])]),t("div",Pt,[t("label",At,[a(n(o.$t("description"))+" ",1),Ht]),d(t("textarea",{required:"",type:"text","onUpdate:modelValue":l[22]||(l[22]=e=>s.description=e),id:"pt",class:"mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`
                        `,512),[[p,s.description]])])]),t("div",Qt,[u(w)==0?(r(),i("button",Tt,n(o.$t("save")),1)):g("",!0),u(w)==1?(r(),i("button",Wt,[a(n(o.$t("save"))+"... ",1),se(W,{size:"small"})])):g("",!0)])],32)])])}}};export{uo as default};
