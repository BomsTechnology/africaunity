import{o,f as n,g as t,F as m,x as y,L as T,r as b,d as G,b as I,M as K,t as s,h as i,c as O,w as x,a as d,m as u,H as q,i as w,l as Q,k as p,J as f,K as W,I as X,e as Y}from"./app.55978ff3.js";import{u as ee}from"./countryServices.b4bbfd61.js";import{u as te}from"./zoneServices.1b73f0e2.js";import{u as se}from"./continentServices.19b5280c.js";import{u as oe}from"./ministryServices.27711741.js";import{u as ne}from"./postServices.99798c1d.js";import{r as le}from"./PlusCircleIcon.ce6923cd.js";import{r as ae}from"./UserIcon.2b86f5ac.js";import{r as re}from"./CalendarIcon.dae9979b.js";import{r as ie}from"./ChatIcon.6e5cba0d.js";import{r as de}from"./EmojiSadIcon.32062255.js";const ce={class:"animate-pulse"},ue={class:"grid grid-cols-1 gap-4 py-8 px-10 md:grid-cols-2"},pe=T('<div class="flex flex-col items-start justify-center p-6"><div class="mb-4 h-5 w-32 rounded-md bg-gray-200"></div><div class="mb-4 h-2.5 w-5/6 rounded-full bg-gray-200"></div><div class="flex w-full items-center justify-between"><div class="mb-4 h-2.5 w-1/5 rounded-full bg-gray-200"></div><div class="mb-4 h-2.5 w-3/5 rounded-full bg-gray-200"></div></div></div>',1),me=[pe],U={__name:"PropAu",setup(j){const _=[1,2,3];return(h,S)=>(o(),n("div",ce,[t("div",ue,[(o(),n(m,null,y(_,c=>t("div",{key:c,class:"rounded bg-gray-100 shadow"},me)),64))])]))}},ye={class:"mx-auto flex min-h-screen w-full flex-col-reverse bg-white p-4 text-lg md:space-y-2 lg:flex-row lg:space-x-2 xl:w-[90%]"},_e={class:"lg:w-[70%]"},fe={class:"text-center text-5xl font-bold capitalize text-primary-blue"},he={class:"flex justify-end px-6"},ge={class:"text-base leading-4"},ve={key:0},be={class:"p-6"},xe={key:0},we={key:1},ke={key:2},$e={key:3},Ce={class:"dark:text-gray-400 mt-2 text-sm text-gray-600"},Se={class:"mt-4 flex items-center justify-between text-sm"},ze={class:"flex items-center space-x-2 text-xs text-gray-500"},Ve={class:"flex space-x-1"},Me={class:"hidden space-x-1 lg:flex"},Ue={href:"#",class:"hover:text-primary-blue"},je={class:"item-center flex space-x-1"},Pe={href:"#",class:"text-xs hover:text-primary-blue"},Be={key:2},Fe={key:3,class:"flex animate-pulse flex-col items-center justify-center p-28 text-gray-500"},Ne={class:"mt-2 text-2xl"},Ae={class:"bg-white lg:w-[30%]"},Le={class:"z-0 w-full bg-white"},De={class:"inline-block bg-primary-blue px-2 py-1 text-white"},Ee={class:"text-md space-y-2 border-t-2 border-primary-blue p-4"},He={class:"text-xs text-gray-500"},Re={value:"fr"},Ze={value:"en"},Je={value:"es"},Te={value:"pt"},Ge={class:"text-xs text-gray-500"},Ie=["placeholder"],Ke={class:"text-xs text-gray-500"},Oe=t("option",{value:""},"--------------",-1),qe=["value"],Qe={key:0},We={key:1},Xe={key:2},Ye={key:3},et={class:"text-xs text-gray-500"},tt=t("option",{value:""},"--------------",-1),st=["value"],ot={key:0},nt={key:1},lt={key:2},at={key:3},rt={key:1,value:"null"},it={class:"text-xs text-gray-500"},dt=t("option",{value:""},"--------------",-1),ct=["value"],ut={key:0},pt={key:1},mt={key:2},yt={key:3},_t={key:1,value:"null"},ft={class:"text-xs text-gray-500"},ht=t("option",{value:""},"--------------",-1),gt=["value"],vt={key:0},bt={key:1},xt={key:2},wt={key:3},kt={key:0,type:"submit",class:"mt-6 w-full bg-primary-blue px-8 py-2 text-lg text-white"},$t={key:1,disabled:"",type:"submit",class:"mt-6 inline-flex w-full cursor-wait items-center justify-center bg-blue-300 px-8 py-2 text-lg text-white"},Ct=t("svg",{class:"mr-3 h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Lt={__name:"PropAu",setup(j){X();const{posts:_,getPosts:h,filterPost:S,loading:c,page:k,isAll:z}=ne(),{countries:P,getCountries:B}=ee(),{zones:F,getZones:N}=te(),{continents:A,getContinents:L}=se(),{ministries:D,getMinistries:E}=oe(),$=b([]),g=b([]),H=localStorage.user?JSON.parse(localStorage.user):"",a=G({country:"",continent:"",ministry:"",zone:"",keywords:"",lang:localStorage.lang,type:"propau"}),V=b(null),C=b(!0);I(async()=>{window.addEventListener("scroll",M),await h("propau",localStorage.lang),await L(),await N(),await B(),await E()}),K(async()=>{k.value=1,window.removeEventListener("scroll",M)});const M=async l=>{V.value.getBoundingClientRect().bottom<window.innerHeight&&C.value&&!z.value&&a.country==""&&a.continent==""&&a.ministry==""&&a.zone==""&&a.keywords==""&&(C.value=!1,k.value++,await h("propau",localStorage.lang),C.value=!0)},R=()=>{$.value=F.value.filter(l=>l.continent_id==a.continent),a.country="",a.zone="",g.value=[]},Z=()=>{g.value=P.value.filter(l=>l.zone_id==a.zone),a.country=""},J=async()=>{a.country!=""||a.continent!=""||a.ministry!=""||a.zone!=""||a.keywords!=""?await S({...a}):(k.value=1,z.value=!1,await h("propau",localStorage.lang))};return(l,r)=>{const v=Y("router-link");return o(),n("div",ye,[t("div",_e,[t("h1",fe,s(l.$t("propau")),1),t("div",he,[i(H).type!="business1"?(o(),O(v,{key:0,to:{name:"add.post",params:{type:"propau"}},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:x(()=>[d(i(le),{class:"h-6 w-6"}),t("p",ge,s(l.$t("add"))+" PropAU",1)]),_:1},8,["to"])):u("",!0)]),i(c)==3?(o(),n("div",ve,[d(U)])):i(_).length!=0?(o(),n("div",{key:1,class:"grid gap-8 py-8 lg:grid-cols-2 lg:px-10",ref_key:"postsContainer",ref:V},[(o(!0),n(m,null,y(i(_),e=>(o(),n("div",{class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-md",key:e.id},[t("div",be,[t("div",null,[t("a",{href:"#",class:"rounded py-1 px-2 text-xs capitalize text-white",style:q("background:"+e.ministry.color)},[l.$i18n.locale=="en"?(o(),n("span",xe,s(e.ministry.name_en),1)):l.$i18n.locale=="fr"?(o(),n("span",we,s(e.ministry.name_fr),1)):l.$i18n.locale=="es"?(o(),n("span",ke,s(e.ministry.name_es),1)):(o(),n("span",$e,s(e.country.name_pt),1))],4),d(v,{to:{name:"show.post",params:{id:e.id}},href:"#",class:"dark:text-white mt-2 block transform text-2xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600 hover:underline"},{default:x(()=>[w(s(e.title.length<=20?e.title:e.title.substring(0,19)+"..."),1)]),_:2},1032,["to"]),t("p",Ce,s(e.content.substring(0,19)+"..."),1)]),t("div",Se,[d(v,{to:{name:"show.post",params:{id:e.id}},class:"dark:text-blue-400 text-blue-600 hover:underline"},{default:x(()=>[w(s(l.$t("read-more")),1)]),_:2},1032,["to"]),t("div",ze,[t("div",Ve,[d(i(ae),{class:"h-4 w-4"}),d(v,{to:{name:"compte",params:{name:e.user.firstname,id:e.user.id}},href:"#",class:"hover:text-primary-blue"},{default:x(()=>[w(s(e.user.firstname),1)]),_:2},1032,["to"])]),t("div",Me,[d(i(re),{class:"h-4 w-4"}),t("a",Ue,s(new Date(e.date).toLocaleDateString("fr-FR",{day:"numeric",year:"numeric",month:"long"})),1)]),t("div",je,[d(i(ie),{class:"h-4 w-4 text-gray-500"}),t("a",Pe,s(e.comments),1)])])])])]))),128))],512)):u("",!0),i(c)==1?(o(),n("div",Be,[d(U)])):u("",!0),i(_).length==0&&i(c)!=1?(o(),n("div",Fe,[d(i(de),{class:"h-16 w-16"}),t("span",Ne,s(l.$t("no-content")),1)])):u("",!0)]),t("div",Ae,[t("div",Le,[t("h1",De,s(l.$t("filter-propau")),1),t("form",{onSubmit:r[8]||(r[8]=Q(e=>J(),["prevent"]))},[t("div",Ee,[t("div",null,[t("label",He,s(l.$t("language")),1),p(t("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>a.lang=e),class:"form-select mt-2 block w-full border-gray-300 px-3 py-2 text-xs focus:border-primary-blue focus:ring-primary-blue"},[t("option",Re,s(l.$t("fr")),1),t("option",Ze,s(l.$t("en")),1),t("option",Je,s(l.$t("es")),1),t("option",Te,s(l.$t("pt")),1)],512),[[f,a.lang]])]),t("div",null,[t("label",Ge,s(l.$t("key-words")),1),p(t("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=e=>a.keywords=e),placeholder:l.$t("key-words"),class:"form-input mt-2 block w-full border-gray-300 px-3 py-2 text-xs focus:border-primary-blue focus:ring-primary-blue"},null,8,Ie),[[W,a.keywords]])]),t("div",null,[t("label",Ke,s(l.$t("continent")),1),p(t("select",{"onUpdate:modelValue":r[2]||(r[2]=e=>a.continent=e),onChange:r[3]||(r[3]=e=>R()),class:"form-select mt-2 block w-full border-gray-300 px-3 py-2 text-xs focus:border-primary-blue focus:ring-primary-blue"},[Oe,(o(!0),n(m,null,y(i(A),e=>(o(),n("option",{key:e.id,value:e.id},[l.$i18n.locale=="en"?(o(),n("span",Qe,s(e.name_en),1)):l.$i18n.locale=="fr"?(o(),n("span",We,s(e.name_fr),1)):l.$i18n.locale=="es"?(o(),n("span",Xe,s(e.name_es),1)):(o(),n("span",Ye,s(e.name_pt),1))],8,qe))),128))],544),[[f,a.continent]])]),t("div",null,[t("label",et,s(l.$t("zoned")),1),p(t("select",{"onUpdate:modelValue":r[4]||(r[4]=e=>a.zone=e),onChange:r[5]||(r[5]=e=>Z()),class:"form-select mt-2 block w-full border-gray-300 px-3 py-2 text-xs focus:border-primary-blue focus:ring-primary-blue"},[tt,$.value.length!=0?(o(!0),n(m,{key:0},y($.value,e=>(o(),n("option",{key:e.id,value:e.id},[l.$i18n.locale=="en"?(o(),n("span",ot,s(e.name_en),1)):l.$i18n.locale=="fr"?(o(),n("span",nt,s(e.name_fr),1)):l.$i18n.locale=="es"?(o(),n("span",lt,s(e.name_es),1)):(o(),n("span",at,s(e.name_pt),1))],8,st))),128)):(o(),n("option",rt," Select "+s(l.$t("continent")),1))],544),[[f,a.zone]])]),t("div",null,[t("label",it,s(l.$t("country")),1),p(t("select",{"onUpdate:modelValue":r[6]||(r[6]=e=>a.country=e),class:"form-select mt-2 block w-full border-gray-300 px-3 py-2 text-xs focus:border-primary-blue focus:ring-primary-blue"},[dt,g.value.length!=0?(o(!0),n(m,{key:0},y(g.value,e=>(o(),n("option",{key:e.id,value:e.id},[l.$i18n.locale=="en"?(o(),n("span",ut,s(e.name_en),1)):l.$i18n.locale=="fr"?(o(),n("span",pt,s(e.name_fr),1)):l.$i18n.locale=="es"?(o(),n("span",mt,s(e.name_es),1)):(o(),n("span",yt,s(e.name_pt),1))],8,ct))),128)):(o(),n("option",_t," Select "+s(l.$t("zoned")),1))],512),[[f,a.country]])]),t("div",null,[t("label",ft,s(l.$t("ministry")),1),p(t("select",{"onUpdate:modelValue":r[7]||(r[7]=e=>a.ministry=e),class:"form-select mt-2 block w-full border-gray-300 px-3 py-2 text-xs focus:border-primary-blue focus:ring-primary-blue"},[ht,(o(!0),n(m,null,y(i(D),e=>(o(),n("option",{key:e.id,value:e.id},[l.$i18n.locale=="en"?(o(),n("span",vt,s(e.name_en),1)):l.$i18n.locale=="fr"?(o(),n("span",bt,s(e.name_fr),1)):l.$i18n.locale=="es"?(o(),n("span",xt,s(e.name_es),1)):(o(),n("span",wt,s(e.name_pt),1))],8,gt))),128))],512),[[f,a.ministry]])]),t("div",null,[i(c)==0||i(c)==2?(o(),n("button",kt,s(l.$t("filter")),1)):u("",!0),i(c)==1?(o(),n("button",$t,[Ct,w(" "+s(l.$t("filter"))+"... ",1)])):u("",!0)])])],32)])])])}}};export{Lt as default};
