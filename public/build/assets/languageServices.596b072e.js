import{r as u,n}from"./app.4c9b42c1.js";function y(){const o=u([]),g=u([]),e=u(""),a=u(0);return{languages:o,language:g,errorsLang:e,loading:a,getLanguages:async()=>{e.value="",a.value=!0;let t=await n.get("/api/languages",{headers:{Authorization:`Bearer ${localStorage.token}`}});o.value=t.data.data,a.value=!1},getLanguage:async t=>{e.value="",a.value=!0;let r=await n.get("/api/languages/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}});a.value=0,g.value=r.data.data},createLanguage:async t=>{e.value="";try{a.value=!0,await n.post("/api/languages",t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),a.value=0}catch(r){if(r.response.status==422){a.value=0;for(const s in r.response.data.errors)e.value+=r.response.data.errors[s][0]+`
`}}},updateLanguage:async(t,r)=>{e.value="";try{a.value=!0,await n.put("/api/languages/"+t,r,{headers:{Authorization:`Bearer ${localStorage.token}`}}),a.value=!1}catch(s){if(a.value=0,s.response.status==422)for(const l in s.response.data.errors)e.value+=s.response.data.errors[l][0]+`	
`}},destroyLanguage:async t=>{e.value="";try{return a.value=!0,await n.delete("/api/languages/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),a.value=!1,!0}catch{a.value=0,e.value="Impossible de supprimer ce language"}}}}export{y as u};
