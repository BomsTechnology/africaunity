import{r as n,I as i,n as s}from"./app.4c9b42c1.js";function m(){const o=n([]),t=n(""),e=n(0),l=i();return{createUser:async r=>{t.value="";try{e.value=!0,await s.post("/api/register",r),e.value=2}catch(a){e.value=0;for(const u in a.response.data.errors)t.value+=a.response.data.errors[u][0]+`
`}},errors:t,loading:e,user:o,loginUser:async r=>{t.value="";try{e.value=!0;let a=await s.post("/api/login",r);o.value=a.data.data,localStorage.user=JSON.stringify(a.data.data.user),localStorage.token=a.data.data.token,e.value=!1}catch(a){e.value=0,t.value=a.response.data.message}},loginAdmin:async r=>{t.value="";try{e.value=!0;let a=await s.post("/api/login-admin",r);localStorage.user=JSON.stringify(a.data.data.user),localStorage.token=a.data.data.token,e.value=!1,l.push({name:"admin.dash"})}catch{e.value=0,t.value="invalid email or password"}},verifAdmin:async r=>{t.value="";try{e.value=!0;let a=await s.post("/api/verif-admin",r);return o.value=a.data.data,e.value=!1,!0}catch{e.value=0,t.value="Your not a admin",l.push({name:"admin"})}}}}export{m as u};
