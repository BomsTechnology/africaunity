import{b as z,B as A,r as h,o as y,f as g,g as e,t as n,a as r,w as a,h as u,k as B,K as D,m as I,i as m,I as M,e as x}from"./app.55978ff3.js";import{u as N}from"./postServices.99798c1d.js";import{r as S}from"./PlusCircleIcon.ce6923cd.js";const E={class:"relative h-auto w-full xl:mt-0 xl:p-4"},j={class:"z-0 h-full w-full p-4"},q={class:"flex justify-between bg-white px-8 py-5 shadow-lg"},F={class:"text-4xl font-bold capitalize text-primary-blue"},K={class:"text-base leading-4"},L={class:"flex flex-col bg-white pt-8"},O={class:"overflow-x-auto shadow-lg"},R={class:"dark:bg-gray-800 inline-block min-w-full align-middle"},U={class:"p-4"},Z=e("label",{for:"table-search",class:"sr-only"},"Search",-1),$={class:"relative mt-1"},G=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"dark:text-gray-400 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),H={class:"py-2"},J=["src"],Q=m("Edit"),W=["onClick"],ae={__name:"PostIndex",props:{type:{required:!0,type:String}},setup(s){const l=s,_=M(),{posts:v,getPostsAll:i,destroyPost:f,loading:b,errors:w}=N(),k=["article","propau"];z(async()=>{k.includes(l.type)||_.push({name:"admin.dash"}),await i(l.type)}),A(l,async(o,c)=>{await i(o.type)});const C=async o=>{confirm("I you Sure ?")&&(await f(o),w.value==""&&await i(l.type))},P=h("title"),d=h(""),T=[{text:"Image",value:"image"},{text:"Title",value:"title"},{text:"Author",value:"user.firstname"},{text:"Language",value:"language"},{text:"Continent",value:"continent.name_en"},{text:"Zone",value:"zone.name_en"},{text:"Country",value:"country.name_en"},{text:"Ministry",value:"ministry.name_en"},{text:"ACTION",value:"id"}];return(o,c)=>{const p=x("router-link"),V=x("EasyDataTable");return y(),g("div",E,[e("div",j,[e("div",q,[e("h1",F,n(s.type),1),r(p,{to:{name:"admin.post.create",params:{type:s.type}},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:a(()=>[r(u(S),{class:"h-6 w-6"}),e("p",K,"Add "+n(s.type),1)]),_:1},8,["to"])]),e("div",L,[e("div",O,[e("div",R,[e("div",U,[Z,e("div",$,[G,B(e("input",{type:"text",id:"table-search","onUpdate:modelValue":c[0]||(c[0]=t=>d.value=t),class:"dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 block w-80 rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500",placeholder:"Search for items"},null,512),[[D,d.value]])])]),r(V,{headers:T,items:u(v),alternating:"","search-field":P.value,"search-value":d.value,"show-index":"","buttons-pagination":"",loading:u(b)},{"item-image":a(t=>[e("div",H,[t.image?(y(),g("img",{key:0,src:t.image,alt:"",class:"h-10 w-10 rounded-full object-cover"},null,8,J)):I("",!0)])]),"item-title":a(t=>[m(n(t.title.length<=30?t.title:t.title.substring(0,29)+"..."),1)]),"item-ministry.name_en":a(t=>[m(n(t.ministry.name_en<=30?t.ministry.name_en:t.ministry.name_en.substring(0,29)+"..."),1)]),"item-id":a(t=>[e("div",null,[r(p,{to:{name:"admin.post.edit",params:{type:s.type,id:t.id}},class:"dark:text-blue-500 text-primary-blue hover:underline"},{default:a(()=>[Q]),_:2},1032,["to"]),e("button",{type:"button",onClick:X=>C(t.id),class:"dark:text-blue-500 ml-3 text-red-600 hover:underline"}," Delete ",8,W)])]),_:1},8,["items","search-field","search-value","loading"])])])])])])}}};export{ae as default};
