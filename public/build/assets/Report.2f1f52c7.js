import{o as r,c as f,a as x,d as h,r as p,k as m,v,f as n,g as e,w,i as c,t as i,m as b,l as k,h as _,K as B}from"./app.69871223.js";import{E as C}from"./Error.32d105e3.js";function M(s,g){return r(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[x("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])}const S={class:"fixed inset-0 z-40 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},z={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},$=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),V={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},N={class:"relative rounded-lg bg-white py-4 shadow"},j={key:1,class:"mx-8 bg-green-50 py-4 px-2 text-green-700"},A={class:"flex items-center justify-center text-xl font-bold text-gray-900 md:text-2xl"},E={class:"mr-2 rounded-full bg-yellow-100 p-2 text-yellow-700"},D={for:"report",class:"dark:text-gray-300 mb-2 block text-sm font-medium text-gray-900"},K=e("span",{class:"text-red-500"},"*",-1),O={key:0,type:"submit",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 w-full rounded-lg bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},R={key:1,type:"submit",disabled:"",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 flex w-full items-center justify-center rounded-lg bg-blue-300 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},T=e("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),q={key:3,class:"px-8"},J={__name:"Report",props:{open:Boolean,toogleModal:Function,id:String,type:String},setup(s){const g=s,d=h({user:JSON.parse(localStorage.user).id,reported:g.id,content:""}),a=p(0),u=p(""),y=async()=>{u.value="";try{a.value=1,g.type=="post"?await axios.post("/api/post-report",d,{headers:{Authorization:`Bearer ${localStorage.token}`}}):await axios.post("/api/users-report",d,{headers:{Authorization:`Bearer ${localStorage.token}`}}),a.value=2}catch(o){if(o.response.status==422){a.value=0;for(const t in o.response.data.errors)u.value+=o.response.data.errors[t][0]+`
`}}};return(o,t)=>m((r(),n("div",S,[e("div",z,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:t[0]||(t[0]=(...l)=>s.toogleModal&&s.toogleModal(...l))}),$,e("div",V,[e("div",N,[u.value!=""?(r(),f(C,{key:0},{default:w(()=>[c(i(u.value),1)]),_:1})):b("",!0),a.value==2?(r(),n("div",j,[e("p",null,i(o.$t("msg-contact-sucess")),1)])):(r(),n("form",{key:2,onSubmit:t[2]||(t[2]=k(l=>y(),["prevent"])),class:"space-y-6 px-6 pb-4 sm:pb-6 lg:px-8 xl:pb-8",action:"#"},[e("h3",A,[e("span",E,[x(_(M),{class:"h-5 w-5"})]),c(" "+i(o.$t("report")),1)]),e("div",null,[e("label",D,[c(i(o.$t("report-msg"))+" ",1),K]),m(e("textarea",{required:"","onUpdate:modelValue":t[1]||(t[1]=l=>d.content=l),id:"report",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                            `,512),[[B,d.content]])]),a.value==0?(r(),n("button",O,i(o.$t("send")),1)):(r(),n("button",R,[c(i(o.$t("send"))+"... ",1),T]))],32)),a.value==2?(r(),n("div",q,[e("button",{type:"button",onClick:t[3]||(t[3]=(...l)=>s.toogleModal&&s.toogleModal(...l)),class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-2 w-full rounded bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"}," OK ")])):b("",!0)])])])],512)),[[v,s.open]])}};export{J as _,M as r};
