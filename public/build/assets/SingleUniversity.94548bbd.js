import{b as L,d as S,G as V,o as r,f as a,g as e,h as s,t as o,a as d,c as K,w as y,m as g,k as _,K as M,J as U,F as m,x,i as z,e as B}from"./app.55978ff3.js";import{u as N}from"./universityServices.4938f461.js";import{u as T}from"./announcementServices.25906547.js";import{u as H}from"./categoryAnnouncementServices.d7539e6f.js";import{r as f}from"./EmojiSadIcon.32062255.js";import{r as D}from"./PlusCircleIcon.ce6923cd.js";import{r as F}from"./SpeakerphoneIcon.2354edda.js";import{r as J}from"./UserIcon.2b86f5ac.js";import{r as q}from"./CalendarIcon.dae9979b.js";const E={class:"mx-auto min-h-screen w-full bg-white px-20 text-lg xl:w-[90%]"},G={key:0,class:"py-6 px-4"},O={class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-md"},I=["src"],P={class:"p-6"},Q={href:"#",class:"rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},R={key:0},W={key:1},X={key:2},Y={key:3},Z={class:"dark:text-white mt-2 block transform text-3xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600"},ee=["innerHTML"],te={key:1,class:"p-28"},se=e("svg",{class:"mx-auto h-16 w-16 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),oe=[se],re={key:2,class:"flex animate-pulse flex-col items-center justify-center p-28 text-gray-500"},ae={class:"mt-2 text-2xl"},ie={class:"py-2 text-center text-3xl font-bold text-primary-blue"},le={class:"flex justify-end px-6"},de={class:"text-base leading-4"},ce={class:"mt-4 grid grid-cols-1 gap-2 bg-gray-50 px-10 pb-8 pt-4 shadow lg:grid-cols-3"},ne={class:"text-xs lg:text-sm"},pe={class:"dark:text-gray-200 text-gray-700"},ye={class:"text-xs lg:text-sm"},he={class:"text-gray-700",for:"es"},ue=e("option",{value:""},"--------------",-1),ge=["value"],_e=e("div",{class:"bg-primary-blue p-2 shadow"},null,-1),me={class:"py-8"},xe={key:0,class:"grid grid-cols-1 gap-8 py-8 md:grid-cols-2 lg:grid-cols-3 lg:px-10"},fe=["src","alt"],we={key:1,class:"mt-2 h-48 w-full overflow-hidden rounded-t-lg bg-gray-50 py-10"},ve={class:"space-y-2 px-4 py-2"},be={href:"#",class:"mt-2 rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},ke={class:"text-2xl font-bold capitalize text-gray-800 hover:underline"},$e={class:"dark:text-gray-400 mt-2 text-sm text-gray-600"},Ce={class:"flex h-10 items-center justify-between bg-gray-900 px-4 py-2"},Ae={key:0,class:"text-lg font-bold text-white"},je={class:"flex items-center space-x-2 text-xs text-white"},Le={class:"flex space-x-1"},Se={class:"hidden space-x-1 lg:flex"},Ve={href:"#",class:"hover:text-primary-blue"},Ke={key:1,class:"flex animate-pulse flex-col items-center justify-center p-28 text-gray-500"},Me={class:"mt-2 text-2xl"},qe={__name:"SingleUniversity",props:{id:{required:!0,type:String}},setup(w){const h=w,{university:l,getUniversity2:v,loading:b}=N(),{categoryAnnouncements:k,getCategoryAnnouncements:$}=H(),C=localStorage.user?JSON.parse(localStorage.user):"",{announcements:A,getAnnouncementsUniversity:j}=T();L(async()=>{await v(h.id),await j(h.id),await $()});const c=S({searchKey:"",category:""}),u=V(()=>A.value.filter(i=>{let n="";return c.category!=""?n=i.title.toLowerCase().includes(c.searchKey.toLowerCase())&&i.category.id==c.category:n=i.title.toLowerCase().includes(c.searchKey.toLowerCase()),n}));return(i,n)=>{const p=B("router-link");return r(),a("div",E,[e("div",null,[s(l).length!=0?(r(),a("div",G,[e("div",O,[e("img",{class:"h-96 w-full object-cover",src:s(l).image,alt:""},null,8,I),e("div",P,[e("div",null,[e("a",Q,[i.$i18n.locale=="en"?(r(),a("span",R,o(s(l).city.name_en+"-"+s(l).country.code_iso),1)):i.$i18n.locale=="fr"?(r(),a("span",W,o(s(l).city.name_fr+"-"+s(l).country.code_iso),1)):i.$i18n.locale=="es"?(r(),a("span",X,o(s(l).city.name_es+"-"+s(l).country.code_iso),1)):(r(),a("span",Y,o(s(l).country.name_pt+"-"+s(l).country.code_iso),1))]),e("h1",Z,o(s(l).name),1),e("p",{class:"dark:text-gray-400 my-4 mt-2 py-4 text-gray-600",innerHTML:s(l).description},null,8,ee)])])])])):s(b)==1?(r(),a("div",te,oe)):(r(),a("div",re,[d(s(f),{class:"h-16 w-16"}),e("span",ae,o(i.$t("no-content")),1)])),e("h1",ie,o(i.$t("ads-university"))+" "+o(s(l).name),1),e("div",le,[s(C).type=="particular"?(r(),K(p,{key:0,to:{name:"add.ads"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:y(()=>[d(s(D),{class:"h-6 w-6"}),e("p",de,o(i.$t("add"))+" "+o(i.$t("ads")),1)]),_:1},8,["to"])):g("",!0)]),e("div",ce,[e("div",ne,[e("label",pe,o(i.$t("key-words")),1),_(e("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>c.searchKey=t),class:"form-input mt-2 block w-full rounded-md border border-gray-200 bg-white px-3 pr-2 text-gray-700 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,512),[[M,c.searchKey]])]),e("div",ye,[e("label",he,o(i.$t("category")),1),_(e("select",{"onUpdate:modelValue":n[1]||(n[1]=t=>c.category=t),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[ue,(r(!0),a(m,null,x(s(k),t=>(r(),a("option",{key:t.id,value:t.id},o(t.name),9,ge))),128))],512),[[U,c.category]])])]),_e,e("div",me,[s(u).length!=0?(r(),a("div",xe,[(r(!0),a(m,null,x(s(u),t=>(r(),a("div",{class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-lg",key:t.id},[d(p,{to:{name:"show.ads",params:{id:t.id}}},{default:y(()=>[t.image?(r(),a("img",{key:0,class:"mt-2 h-48 w-full rounded-t-lg object-cover",src:t.image,alt:t.title},null,8,fe)):(r(),a("div",we,[d(s(F),{class:"h-full w-full text-gray-500"})]))]),_:2},1032,["to"]),e("div",ve,[e("a",be,o(t.category.name),1),d(p,{to:{name:"show.ads",params:{id:t.id}}},{default:y(()=>[e("h1",ke,o(t.title),1)]),_:2},1032,["to"]),e("p",$e,o(t.description.substring(0,19)+"..."),1)]),e("div",Ce,[t.price&&t.price!="null"?(r(),a("h1",Ae,o(t.price)+" "+o(t.currency.symbol),1)):g("",!0),e("div",je,[e("div",Le,[d(s(J),{class:"h-4 w-4"}),d(p,{to:{name:"compte",params:{name:t.user.firstname,id:t.user.id}},href:"#",class:"hover:text-primary-blue"},{default:y(()=>[z(o(t.user.firstname),1)]),_:2},1032,["to"])]),e("div",Se,[d(s(q),{class:"h-4 w-4"}),e("a",Ve,o(t.date),1)])])])]))),128))])):(r(),a("div",Ke,[d(s(f),{class:"h-16 w-16"}),e("span",Me,o(i.$t("no-content")),1)]))])])])}}};export{qe as default};
