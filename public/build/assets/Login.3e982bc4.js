import{o as m,c as M,a as n,e as C,k as h,v as j,f as p,g as e,t as s,w as g,i as d,h as c,r as $,d as S,b as V,p as N,m as y,l as F,K as k,F as L,L as A}from"./app.69871223.js";import{E as K}from"./Error.32d105e3.js";import{u as O}from"./authServices.33be885c.js";import{r as q}from"./MailIcon.3ae8aed2.js";import{r as D}from"./LockClosedIcon.a9b7f08f.js";import"./_plugin-vue_export-helper.cdc0426e.js";function E(t,i){return m(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z","clip-rule":"evenodd"})])}const U={class:"fixed inset-0 z-40 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},T={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},H=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),J={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},G={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},I={class:"sm:flex sm:flex-col sm:items-center sm:justify-center"},P=e("div",{class:"mx-auto flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-8 w-8 text-yellow-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1),Q={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},R={class:"py-4"},W={class:"text-md text-center text-gray-500"},X={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:justify-center sm:px-6"},Y={__name:"NotLogin",props:{open:Boolean,toogleModal:Function},setup(t){return(i,o)=>{const r=C("router-link");return h((m(),p("div",U,[e("div",T,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:o[0]||(o[0]=(...a)=>t.toogleModal&&t.toogleModal(...a))}),H,e("div",J,[e("div",G,[e("div",I,[P,e("div",Q,[e("div",R,[e("p",W,s(i.$t("modal-not-login")),1)])])])]),e("div",X,[n(r,{to:{name:"pack"},class:"inline-flex w-full justify-center rounded-md border border-transparent bg-primary-blue px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-primary-blue focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm"},{default:g(()=>[d(s(i.$t("register")),1)]),_:1}),e("button",{type:"button",onClick:o[1]||(o[1]=(...a)=>t.toogleModal&&t.toogleModal(...a)),class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},s(i.$t("login")),1)])])])],512)),[[j,t.open]])}}},Z={class:"fixed inset-0 z-10 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},ee={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},te=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),se={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},oe={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},le={class:"sm:flex sm:flex-col sm:items-center sm:justify-center"},ie={class:"mx-auto flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-full bg-green-100 sm:mx-0 sm:h-20 sm:w-20"},re={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},ne={class:"py-4"},ae={class:"text-md text-center font-semibold text-gray-500"},de={class:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:items-center sm:justify-center sm:px-6"},ce={__name:"VerifyOK",props:{open:Boolean,toogleModal:Function},setup(t){return(i,o)=>h((m(),p("div",Z,[e("div",ee,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:o[0]||(o[0]=(...r)=>t.toogleModal&&t.toogleModal(...r))}),te,e("div",se,[e("div",oe,[e("div",le,[e("div",ie,[n(c(E),{class:"h-16 w-16 text-green-600"})]),e("div",re,[e("div",ne,[e("p",ae,s(i.$t("modal-verif-ok")),1)])])])]),e("div",de,[e("button",{type:"button",onClick:o[1]||(o[1]=(...r)=>t.toogleModal&&t.toogleModal(...r)),class:"mt-3 w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," OK ")])])])],512)),[[j,t.open]])}},me={class:"mx-auto w-full items-center justify-center bg-white px-2 py-8 md:space-x-6 md:px-12 lg:flex xl:w-[90%]"},ue={class:"space-y-6 text-center lg:w-[60%] lg:text-left"},pe={class:"text-4xl font-bold text-primary-blue lg:text-5xl"},fe=A('<svg xmlns="http://www.w3.org/2000/svg" class="inline h-10 w-10" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"></circle><path fill="#664500" d="M10.515 23.621C10.56 23.8 11.683 28 18 28c6.318 0 7.44-4.2 7.485-4.379.055-.217-.043-.442-.237-.554-.195-.111-.439-.078-.6.077C24.629 23.163 22.694 25 18 25s-6.63-1.837-6.648-1.855C11.256 23.05 11.128 23 11 23c-.084 0-.169.021-.246.064-.196.112-.294.339-.239.557z"></path><ellipse fill="#664500" cx="12" cy="13.5" rx="2.5" ry="3.5"></ellipse><ellipse fill="#664500" cx="24" cy="13.5" rx="2.5" ry="3.5"></ellipse></svg>',1),ge={class:"p-6 lg:w-[40%]"},he={class:"border-t-8 border-primary-blue shadow"},xe={class:"px-6 py-6"},we={class:"text-center text-3xl font-bold text-[#242A56]"},ye=["onSubmit"],be={class:"relative"},ve=["placeholder"],_e={class:"relative"},$e=["placeholder"],ke={key:0,type:"submit",class:"mt-6 w-full bg-primary-blue px-8 py-2 text-lg text-white"},Me={key:1,disabled:"",type:"submit",class:"mt-6 inline-flex w-full cursor-wait items-center justify-center bg-blue-300 px-8 py-2 text-lg text-white"},Ce=e("svg",{class:"mr-3 h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),je={class:"pt-6 text-center"},ze={class:"md:text-md h-16 bg-primary-blue p-4 text-center text-sm text-white"},Ae={__name:"Login",props:{redirect:{required:!1,type:String}},setup(t){const i=t,o=localStorage.user?JSON.parse(localStorage.user):"",r=$(!1),a=$(!1),u=S({email:"",password:""}),b=()=>{r.value=!1,a.value=!1},{loginUser:z,errors:x,loading:v}=O();V(async()=>{i.redirect=="not-login"?r.value=!0:i.redirect=="verif-ok"&&(a.value=!0),localStorage.token&&N.push({name:"compte",params:{name:o.firstname,id:o.id}})});const B=async()=>{await z({...u}),x.value==""&&(location.href=window.location.origin)};return(l,f)=>{const _=C("router-link");return m(),p(L,null,[n(Y,{open:r.value,toogleModal:b},null,8,["open"]),n(ce,{open:a.value,toogleModal:b},null,8,["open"]),e("div",me,[e("div",ue,[e("h1",pe,[e("span",null,[d(s(l.$t("login-welcome-msg"))+" ",1),fe])]),e("p",null,s(l.$t("login-desc")),1)]),e("div",ge,[e("div",he,[e("div",xe,[e("h1",we,s(l.$t("login")),1),c(x)!=""?(m(),M(K,{key:0},{default:g(()=>[d(s(c(x)),1)]),_:1})):y("",!0),e("form",{onSubmit:F(B,["prevent"]),class:"py-7"},[e("div",be,[e("span",null,[n(c(q),{class:"absolute mt-2 ml-2 h-6 w-6 text-gray-400"})]),h(e("input",{type:"email",required:"","onUpdate:modelValue":f[0]||(f[0]=w=>u.email=w),placeholder:l.$t("adresse")+" "+l.$t("email"),class:"form-input mt-2 block w-full border-gray-400 px-3 pr-2 pl-10 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,8,ve),[[k,u.email]])]),e("div",_e,[e("span",null,[n(c(D),{class:"absolute mt-2 ml-2 h-6 w-6 text-gray-400"})]),h(e("input",{type:"password",required:"","onUpdate:modelValue":f[1]||(f[1]=w=>u.password=w),placeholder:l.$t("password"),class:"form-input mt-3 block w-full border-gray-400 px-3 pr-2 pl-10 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,8,$e),[[k,u.password]])]),e("div",null,[c(v)==0?(m(),p("button",ke,s(l.$t("login")),1)):y("",!0),c(v)==1?(m(),p("button",Me,[Ce,d(" "+s(l.$t("login"))+"... ",1)])):y("",!0)]),e("div",je,[n(_,{class:"text-gray-400 hover:underline",to:{name:"forgot.password"}},{default:g(()=>[d(s(l.$t("password-forgot"))+" ? ",1)]),_:1},8,["to"])])],40,ye)]),e("div",ze,[d(s(l.$t("no-signup"))+" ",1),n(_,{class:"text-[#242A56] hover:underline",to:{name:"pack"}},{default:g(()=>[d(s(l.$t("register")),1)]),_:1})])])])])],64)}}};export{Ae as default};
