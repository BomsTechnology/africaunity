import{r as u,n as l}from"./app.fb44c589.js";function h(){const o=u([]),n=u([]),a=u(""),e=u(0);return{legalStatuses:o,legalStatus:n,errorsLegal:a,loading:e,getLegalStatuses:async()=>{a.value="",e.value=!0;let t=await l.get("/api/legalStatuses",{headers:{Authorization:`Bearer ${localStorage.token}`}});o.value=t.data.data,e.value=!1},getLegalStatus:async t=>{a.value="",e.value=!0;let s=await l.get("/api/legalStatuses/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,n.value=s.data.data},createLegalStatus:async t=>{a.value="";try{e.value=!0,await l.post("/api/legalStatuses",t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=0}catch(s){if(s.response.status==422){e.value=0;for(const r in s.response.data.errors)a.value+=s.response.data.errors[r][0]+`
`}}},updateLegalStatus:async(t,s)=>{a.value="";try{e.value=!0,await l.put("/api/legalStatuses/"+t,s,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(r){if(e.value=0,r.response.status==422)for(const g in r.response.data.errors)a.value+=r.response.data.errors[g][0]+`	
`}},destroyLegalStatus:async t=>{a.value="";try{return e.value=!0,await l.delete("/api/legalStatuses/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,!0}catch{e.value=0,a.value="Impossible de supprimer ce legalStatus"}}}}export{h as u};
