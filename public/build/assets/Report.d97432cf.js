import{c as r,d as a,e,a as x,r as p,j as m,v as y,k as h,w as v,h as c,t as i,m as b,l as w,f as k,g as _,K as M}from"./app.8ef239d2.js";import{E as S}from"./Error.443ca946.js";function B(s,g){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"})])}const C={class:"fixed inset-0 z-40 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},z={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},$=e("span",{class:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"},"\u200B",-1),V={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},N={class:"relative rounded-lg bg-white py-4 shadow"},j={key:1,class:"mx-8 bg-green-50 py-4 px-2 text-green-700"},A={class:"flex items-center justify-center text-xl font-bold text-gray-900 md:text-2xl"},E={class:"mr-2 rounded-full bg-yellow-100 p-2 text-yellow-700"},D={for:"report",class:"dark:text-gray-300 mb-2 block text-sm font-medium text-gray-900"},K=e("span",{class:"text-red-500"},"*",-1),O={key:0,type:"submit",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 w-full rounded-lg bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},R={key:1,type:"submit",disabled:"",class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 flex w-full items-center justify-center rounded-lg bg-blue-300 px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"},T=e("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),q={key:3,class:"px-8"},J={__name:"Report",props:{open:Boolean,toogleModal:Function,id:String,type:String},setup(s){const g=s,d=x({user:JSON.parse(localStorage.user).id,reported:g.id,content:""}),l=p(0),u=p(""),f=async()=>{u.value="";try{l.value=1,g.type=="post"?await axios.post("/api/post-report",d,{headers:{Authorization:`Bearer ${localStorage.token}`}}):await axios.post("/api/users-report",d,{headers:{Authorization:`Bearer ${localStorage.token}`}}),l.value=2}catch(o){if(o.response.status==422){l.value=0;for(const t in o.response.data.errors)u.value+=o.response.data.errors[t][0]+`
`}}};return(o,t)=>m((r(),a("div",C,[e("div",z,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:t[0]||(t[0]=(...n)=>s.toogleModal&&s.toogleModal(...n))}),$,e("div",V,[e("div",N,[u.value!=""?(r(),h(S,{key:0},{default:v(()=>[c(i(u.value),1)]),_:1})):b("",!0),l.value==2?(r(),a("div",j,[e("p",null,i(o.$t("msg-contact-sucess")),1)])):(r(),a("form",{key:2,onSubmit:t[2]||(t[2]=w(n=>f(),["prevent"])),class:"space-y-6 px-6 pb-4 sm:pb-6 lg:px-8 xl:pb-8",action:"#"},[e("h3",A,[e("span",E,[k(_(B),{class:"h-5 w-5"})]),c(" "+i(o.$t("report")),1)]),e("div",null,[e("label",D,[c(i(o.$t("report-msg"))+" ",1),K]),m(e("textarea",{required:"","onUpdate:modelValue":t[1]||(t[1]=n=>d.content=n),id:"report",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                            `,512),[[M,d.content]])]),l.value==0?(r(),a("button",O,i(o.$t("send")),1)):(r(),a("button",R,[c(i(o.$t("send"))+"... ",1),T]))],32)),l.value==2?(r(),a("div",q,[e("button",{type:"button",onClick:t[3]||(t[3]=(...n)=>s.toogleModal&&s.toogleModal(...n)),class:"dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 mt-2 w-full rounded bg-primary-blue px-5 py-2.5 text-center text-sm font-medium text-white focus:outline-none focus:ring-4 focus:ring-blue-300"}," OK ")])):b("",!0)])])])],512)),[[y,s.open]])}};export{J as _,B as r};
