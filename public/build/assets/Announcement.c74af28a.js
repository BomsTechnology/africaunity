import{c as l,d as r,e as o,F as u,x as c,f as d,g as a,L as W,r as p,o as X,M as Y,a as ee,t as i,j as m,K as te,J as h,_ as se,k as oe,w as $,m as b,h as le,b as re}from"./app.8ef239d2.js";import{u as ie}from"./announcementServices.32d452ea.js";import{u as ne}from"./universityServices.f25097d2.js";import{u as ae}from"./categoryAnnouncementServices.12b03649.js";import{u as de}from"./continentServices.aef8e806.js";import{u as ue}from"./countryServices.c36ab858.js";import{u as ce}from"./cityServices.1a4c98f4.js";import{u as ye}from"./zoneServices.a32e81e5.js";import{r as pe}from"./PhotoIcon.061808e4.js";import{r as me}from"./PlusCircleIcon.39fdb421.js";import{r as ge}from"./MegaphoneIcon.261ed88a.js";import{r as _e}from"./UserIcon.e892b5a5.js";import{r as fe}from"./FaceFrownIcon.74888c90.js";const ve={class:"animate-pulse"},he={class:"grid grid-cols-1 gap-4 py-8 px-10 md:grid-cols-3"},be={class:"mx-auto h-44 w-32 overflow-hidden"},xe=W('<div class="flex flex-col items-start justify-center p-6"><div class="mb-4 h-5 w-32 rounded-md bg-gray-200"></div><div class="mb-4 h-2.5 w-5/6 rounded-full bg-gray-200"></div><div class="flex w-full items-center justify-between"><div class="mb-4 h-2.5 w-1/5 rounded-full bg-gray-200"></div><div class="mb-4 h-2.5 w-3/5 rounded-full bg-gray-200"></div></div></div>',1),F={__name:"Ads",setup(K){const y=[1,2,3,4];return(S,x)=>(l(),r("div",ve,[o("div",he,[(l(),r(u,null,c(y,g=>o("div",{key:g,class:"rounded bg-gray-100 shadow"},[o("div",be,[d(a(pe),{class:"h-full w-full text-gray-200"})]),xe])),64))])]))}},we={class:"mx-auto min-h-screen w-full bg-white xl:w-[90%]"},ke={class:"py-2 text-center text-5xl font-bold capitalize text-primary-blue"},$e={class:"py-8 lg:px-16"},Ce={class:"mt-4 grid grid-cols-1 gap-2 bg-gray-50 px-10 pb-8 pt-4 shadow lg:grid-cols-3"},ze={class:"text-xs lg:text-sm"},Ae={class:"dark:text-gray-200 text-gray-700"},Ve={class:"text-xs lg:text-sm"},Se={class:"text-gray-700",for:"es"},Ue=o("option",{value:""},"--------------",-1),je=["value"],Ne={class:"text-xs lg:text-sm"},Fe={class:"text-gray-700",for:"es"},Ke=o("option",{value:""},"--------------",-1),Be=["value"],Le={key:0},Me={key:1},Ee={key:2},Ze={key:3},De={class:"text-xs lg:text-sm"},Je={class:"text-gray-700",for:"es"},Te=o("option",{value:""},"--------------",-1),qe=["value"],Ge={key:0},He={key:1},Oe={key:2},Re={key:3},Ie={key:1,value:"null"},Pe={class:"text-xs lg:text-sm"},Qe={class:"text-gray-700",for:"es"},We=o("option",{value:""},"--------------",-1),Xe=["value"],Ye={key:0},et={key:1},tt={key:2},st={key:3},ot={key:1,value:"null"},lt={class:"text-xs lg:text-sm"},rt={class:"text-gray-700",for:"es"},it=o("option",{value:""},"--------------",-1),nt=["value"],at={key:0},dt={key:1},ut={key:2},ct={key:3},yt={key:1,value:"null"},pt={class:"divSelect2 text-xs lg:text-sm"},mt={class:"text-gray-700",for:"es"},gt={class:"flex items-end text-xs lg:text-sm"},_t=o("div",{class:"bg-primary-blue p-2 shadow"},null,-1),ft={class:"flex justify-end py-4"},vt={class:"text-base leading-4"},ht={class:"py-8"},bt={key:0},xt=["src","alt"],wt={key:1,class:"mt-2 h-48 w-full overflow-hidden rounded-t-lg bg-gray-50 py-10"},kt={class:"space-y-2 px-4 py-2"},$t={href:"#",class:"mt-2 rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},Ct={class:"text-2xl font-bold capitalize text-gray-800 hover:underline"},zt={class:"dark:text-gray-400 mt-2 text-sm text-gray-600"},At={class:"flex h-10 items-center justify-between bg-gray-900 px-4 py-2"},Vt={key:0,class:"text-lg font-bold text-white"},St={class:"flex items-center space-x-2 text-xs text-white"},Ut={class:"flex space-x-1"},jt={key:2},Nt={key:3,class:"flex animate-pulse flex-col items-center justify-center p-28 text-gray-500"},Ft={class:"mt-2 text-2xl"},Rt={__name:"Announcement",setup(K){const{universities:y,getAllUniversities:S}=ne(),{announcements:x,getAnnouncements:g,loading:_,page:C,isAll:U,filterAnnouncements:B}=ie(),{continents:L,getContinents:M}=de(),{countries:E,getCountries:Z}=ue(),{categoryAnnouncements:D,getCategoryAnnouncements:J}=ae(),{zones:T,getZones:q}=ye(),{cities:G,getCities:H}=ce(),j=localStorage.user?JSON.parse(localStorage.user):"",z=p([]),w=p([]),f=p([]),v=p([]),A=p(null),V=p(!0);X(async()=>{window.addEventListener("scroll",N),await g(),await M(),await q(),await Z(),await J(),await H(),S()}),Y(async()=>{C.value=1,window.removeEventListener("scroll",N)});const N=async s=>{A.value&&A.value.getBoundingClientRect().bottom<window.innerHeight&&V.value&&!U.value&&t.searchKey==""&&t.category==""&&t.country==""&&t.continent==""&&t.university==""&&t.city==""&&t.zone==""&&(V.value=!1,C.value++,await g(),V.value=!0)},O=async()=>{t.searchKey!=""||t.category!=""||t.country!=""||t.continent!=""||t.university!=""||t.city!=""||t.zone!=""?(_.value=1,await B({...t}),_.value=2):(C.value=1,U.value=!1,await g())},t=ee({searchKey:"",category:"",country:"",continent:"",university:"",city:"",zone:""}),R=()=>{v.value=y.value.filter(s=>s.continent.id==t.continent&&s.zone.id==t.zone&&s.country.id==t.country&&s.city.id==t.city)},I=()=>{f.value=G.value.filter(s=>s.country_id==t.country),v.value=y.value.filter(s=>s.continent.id==t.continent&&s.zone.id==t.zone&&s.country.id==t.country),t.city=""},P=()=>{w.value=E.value.filter(s=>s.zone_id==t.zone),v.value=y.value.filter(s=>s.continent.id==t.continent&&s.zone.id==t.zone),t.country="",t.city="",f.value=[]},Q=()=>{z.value=T.value.filter(s=>s.continent_id==t.continent),v.value=y.value.filter(s=>s.continent.id==t.continent),t.zone="",t.country="",t.city="",f.value=[],w.value=[]};return(s,n)=>{const k=re("router-link");return l(),r("div",we,[o("h1",ke,i(s.$t("ads")),1),o("div",$e,[o("div",Ce,[o("div",ze,[o("label",Ae,i(s.$t("key-words")),1),m(o("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>t.searchKey=e),class:"form-input mt-2 block w-full rounded-md border border-gray-200 bg-white px-3 pr-2 text-gray-700 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,512),[[te,t.searchKey]])]),o("div",Ve,[o("label",Se,i(s.$t("category")),1),m(o("select",{"onUpdate:modelValue":n[1]||(n[1]=e=>t.category=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Ue,(l(!0),r(u,null,c(a(D),e=>(l(),r("option",{key:e.id,value:e.id},i(e.name),9,je))),128))],512),[[h,t.category]])]),o("div",Ne,[o("label",Fe,i(s.$t("continent")),1),m(o("select",{"onUpdate:modelValue":n[2]||(n[2]=e=>t.continent=e),onChange:n[3]||(n[3]=e=>Q()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Ke,(l(!0),r(u,null,c(a(L),e=>(l(),r("option",{key:e.id,value:e.id},[s.$i18n.locale=="en"?(l(),r("span",Le,i(e.name_en),1)):s.$i18n.locale=="fr"?(l(),r("span",Me,i(e.name_fr),1)):s.$i18n.locale=="es"?(l(),r("span",Ee,i(e.name_es),1)):(l(),r("span",Ze,i(e.name_pt),1))],8,Be))),128))],544),[[h,t.continent]])]),o("div",De,[o("label",Je,i(s.$t("zoned")),1),m(o("select",{"onUpdate:modelValue":n[4]||(n[4]=e=>t.zone=e),onChange:n[5]||(n[5]=e=>P()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Te,z.value.length!=0?(l(!0),r(u,{key:0},c(z.value,e=>(l(),r("option",{key:e.id,value:e.id},[s.$i18n.locale=="en"?(l(),r("span",Ge,i(e.name_en),1)):s.$i18n.locale=="fr"?(l(),r("span",He,i(e.name_fr),1)):s.$i18n.locale=="es"?(l(),r("span",Oe,i(e.name_es),1)):(l(),r("span",Re,i(e.name_pt),1))],8,qe))),128)):(l(),r("option",Ie," Select "+i(s.$t("continent")),1))],544),[[h,t.zone]])]),o("div",Pe,[o("label",Qe,i(s.$t("country")),1),m(o("select",{"onUpdate:modelValue":n[6]||(n[6]=e=>t.country=e),onChange:n[7]||(n[7]=e=>I()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[We,w.value.length!=0?(l(!0),r(u,{key:0},c(w.value,e=>(l(),r("option",{key:e.id,value:e.id},[s.$i18n.locale=="en"?(l(),r("span",Ye,i(e.name_en),1)):s.$i18n.locale=="fr"?(l(),r("span",et,i(e.name_fr),1)):s.$i18n.locale=="es"?(l(),r("span",tt,i(e.name_es),1)):(l(),r("span",st,i(e.name_pt),1))],8,Xe))),128)):(l(),r("option",ot," Select "+i(s.$t("zoned")),1))],544),[[h,t.country]])]),o("div",lt,[o("label",rt,i(s.$t("city")),1),m(o("select",{"onUpdate:modelValue":n[8]||(n[8]=e=>t.city=e),onChange:n[9]||(n[9]=e=>R()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[it,f.value.length!=0?(l(!0),r(u,{key:0},c(f.value,e=>(l(),r("option",{key:e.id,value:e.id},[s.$i18n.locale=="en"?(l(),r("span",at,i(e.name_en),1)):s.$i18n.locale=="fr"?(l(),r("span",dt,i(e.name_fr),1)):s.$i18n.locale=="es"?(l(),r("span",ut,i(e.name_es),1)):(l(),r("span",ct,i(e.name_pt),1))],8,nt))),128)):(l(),r("option",yt," Select "+i(s.$t("country")),1))],544),[[h,t.city]])]),o("div",pt,[o("label",mt,i(s.$t("university")),1),d(se,{modelValue:t.university,"onUpdate:modelValue":n[10]||(n[10]=e=>t.university=e),data:v.value,placeholder:"Select University",required:!1,resetField:!0,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","className"])]),o("div",gt,[o("button",{type:"button",onClick:n[11]||(n[11]=e=>O()),class:"w-full rounded-md bg-primary-blue px-4 py-2.5 text-white"},i(s.$t("search")),1)])]),_t,o("div",ft,[a(j).type=="particular"||a(j).type=="admin"?(l(),oe(k,{key:0,to:{name:"add.ads"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:$(()=>[d(a(me),{class:"h-6 w-6"}),o("p",vt,i(s.$t("add"))+" "+i(s.$t("ads")),1)]),_:1},8,["to"])):b("",!0)]),o("div",ht,[a(_)==3?(l(),r("div",bt,[d(F)])):a(x).length!=0?(l(),r("div",{key:1,ref_key:"adsContainer",ref:A,class:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3"},[(l(!0),r(u,null,c(a(x),e=>(l(),r("div",{class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-lg",key:e.id},[d(k,{to:{name:"show.ads",params:{id:e.id,slug:e.slug}}},{default:$(()=>[e.image?(l(),r("img",{key:0,class:"mt-2 h-48 w-full rounded-t-lg object-cover",src:e.image,alt:e.title},null,8,xt)):(l(),r("div",wt,[d(a(ge),{class:"h-full w-full text-gray-500"})]))]),_:2},1032,["to"]),o("div",kt,[o("a",$t,i(e.category.name.length<=30?e.category.name:e.category.name.substring(0,25)+"..."),1),d(k,{to:{name:"show.ads",params:{id:e.id,slug:e.slug}}},{default:$(()=>[o("h1",Ct,i(e.title.length<=20?e.title:e.title.substring(0,19)+"..."),1)]),_:2},1032,["to"]),o("p",zt,i(e.description.substring(0,19)+"..."),1)]),o("div",At,[e.price&&e.price!="null"?(l(),r("h1",Vt,i(e.price)+" "+i(e.currency.symbol),1)):b("",!0),o("div",St,[o("div",Ut,[d(a(_e),{class:"h-4 w-4"}),d(k,{to:{name:"compte",params:{slug:e.user.slug,id:e.user.id}},class:"hover:text-primary-blue"},{default:$(()=>[le(i(e.user.firstname),1)]),_:2},1032,["to"])])])])]))),128))],512)):b("",!0),a(_)==1?(l(),r("div",jt,[d(F)])):b("",!0),a(x).length==0&&a(_)!=1?(l(),r("div",Nt,[d(a(fe),{class:"h-16 w-16"}),o("span",Ft,i(s.$t("no-content")),1)])):b("",!0)])])])}}};export{Rt as default};
