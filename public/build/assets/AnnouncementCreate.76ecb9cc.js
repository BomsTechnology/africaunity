import{r as m,o as B,a as D,c as n,d as l,e,g as d,k as M,w as j,h as z,t as g,m as p,l as E,j as s,K as i,f as T,J as f,F as x,x as k,I,b as J}from"./app.8ef239d2.js";import{E as O}from"./Error.443ca946.js";import{u as P}from"./announcementServices.32d452ea.js";import{u as $}from"./categoryAnnouncementServices.12b03649.js";import{u as H}from"./currencyServices.8cf69a50.js";import{u as K}from"./universityServices.f25097d2.js";import"./_plugin-vue_export-helper.cdc0426e.js";const L={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},R={class:"z-0 w-full p-4"},W=e("div",{class:"flex w-full justify-between bg-white px-8 py-5"},[e("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Add Announcement ")],-1),G={class:"mx-auto w-full bg-white p-6"},Q=e("h2",{class:"text-md font-light text-gray-700"}," Add a new Announcement ",-1),X={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},Y={class:"col-span-2"},Z=e("label",{class:"dark:text-gray-200 text-gray-700"},"Title",-1),ee=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"University",-1),re=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Category",-1),te=["value"],oe=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Phone",-1),ae=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Adress Email",-1),se=e("label",{class:"dark:text-gray-200 text-gray-700"},"Price",-1),ne=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Currency",-1),le=["value"],de=e("label",{class:"dark:text-gray-200 text-gray-700"},"Address",-1),ie=e("label",{class:"dark:text-gray-200 text-gray-700"},"Website",-1),ue={class:"col-span-2"},ce=e("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),ge={class:"col-span-2"},pe=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),be={class:"mt-6 flex justify-end"},ye={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},me={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},fe=e("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),xe=[fe],Ue={__name:"AnnouncementCreate",setup(ke){const _=I(),b=m(null),w=JSON.parse(localStorage.user),{categoryAnnouncements:v,getCategoryAnnouncements:h}=$(),{currencies:V,getCurrencies:C}=H(),{universities:A,getAllUniversities:U}=K(),u=m(!1);B(async()=>{u.value=!0,await h(),await C(),await U(),u.value=!1});const r=D({title:"",user_id:w.id,description:"",price:"",image:"",adress:"",website:"",email:"",phone:"",category_announcement_id:1,currency_id:1,university_id:1}),{createAnnouncement:q,errors:c,loading:y}=P(),S=async()=>{let a=new FormData;a.append("image",r.image),a.append("title",r.title),a.append("description",r.description),a.append("price",r.price),a.append("adress",r.adress),a.append("website",r.website),a.append("email",r.email),a.append("phone",r.phone),a.append("user_id",r.user_id),a.append("category_announcement_id",r.category_announcement_id),a.append("currency_id",r.currency_id),a.append("university_id",r.university_id),await q(a),c.value==""&&_.push({name:"admin.announcement.index"})},F=async()=>{r.image=b.value.files[0]};return(a,o)=>{const N=J("SelectFilter");return n(),l("div",L,[e("div",R,[W,e("section",G,[d(c)!=""?(n(),M(O,{key:0},{default:j(()=>[z(g(d(c)),1)]),_:1})):p("",!0),Q,e("form",{onSubmit:o[11]||(o[11]=E(t=>S(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",X,[e("div",Y,[Z,s(e("input",{required:"","onUpdate:modelValue":o[0]||(o[0]=t=>r.title=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,r.title]])]),e("div",null,[ee,T(N,{modelValue:r.university_id,"onUpdate:modelValue":o[1]||(o[1]=t=>r.university_id=t),data:d(A),placeholder:"Select University",required:!1,resetField:!0,loading:u.value,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","loading","className"])]),e("div",null,[re,s(e("select",{required:"","onUpdate:modelValue":o[2]||(o[2]=t=>r.category_announcement_id=t),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),l(x,null,k(d(v),t=>(n(),l("option",{key:t.id,value:t.id},g(t.name),9,te))),128))],512),[[f,r.category_announcement_id]])]),e("div",null,[oe,s(e("input",{required:"","onUpdate:modelValue":o[3]||(o[3]=t=>r.phone=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,r.phone]])]),e("div",null,[ae,s(e("input",{required:"","onUpdate:modelValue":o[4]||(o[4]=t=>r.email=t),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,r.email]])]),e("div",null,[se,s(e("input",{required:"","onUpdate:modelValue":o[5]||(o[5]=t=>r.price=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,r.price]])]),e("div",null,[ne,s(e("select",{required:"","onUpdate:modelValue":o[6]||(o[6]=t=>r.currency_id=t),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),l(x,null,k(d(V),t=>(n(),l("option",{key:t.id,value:t.id},g(t.symbol+" "+t.name),9,le))),128))],512),[[f,r.currency_id]])]),e("div",null,[de,s(e("input",{"onUpdate:modelValue":o[7]||(o[7]=t=>r.adress=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,r.adress]])]),e("div",null,[ie,s(e("input",{"onUpdate:modelValue":o[8]||(o[8]=t=>r.website=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,r.website]])]),e("div",ue,[ce,e("input",{required:"",ref_key:"file",ref:b,onChange:o[9]||(o[9]=t=>F()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),e("div",ge,[pe,s(e("textarea",{required:"",type:"text","onUpdate:modelValue":o[10]||(o[10]=t=>r.description=t),id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                            `,512),[[i,r.description]])])]),e("div",be,[d(y)==0?(n(),l("button",ye," Save ")):p("",!0),d(y)==1?(n(),l("button",me,xe)):p("",!0)])],32)])])])}}};export{Ue as default};
