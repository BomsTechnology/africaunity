import{r as S,b as B,d as D,o as a,f as d,g as e,h as i,c as M,w as z,i as E,t as u,m as c,l as F,k as n,K as l,J as g,F as p,x as b,I as N}from"./app.55978ff3.js";import{E as j}from"./Error.0d032b49.js";import{u as T}from"./announcementServices.25906547.js";import{u as I}from"./categoryAnnouncementServices.d7539e6f.js";import{u as J}from"./currencyServices.5fad5633.js";import{u as O}from"./universityServices.4938f461.js";import"./_plugin-vue_export-helper.cdc0426e.js";const P={class:"relative h-auto w-full xl:mt-0 xl:p-4"},$={class:"z-0 w-full p-4"},H=e("div",{class:"flex w-full justify-between bg-white px-8 py-5 shadow-lg"},[e("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Add Announcement ")],-1),K={class:"mx-auto w-full bg-white p-6 shadow-md"},L=e("h2",{class:"text-md font-light text-gray-700"}," Add a new Announcement ",-1),R={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},W={class:"col-span-2"},G=e("label",{class:"dark:text-gray-200 text-gray-700"},"Title",-1),Q=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"University",-1),X=["value"],Y=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Category",-1),Z=["value"],ee=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Phone",-1),re=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Adress Email",-1),te=e("label",{class:"dark:text-gray-200 text-gray-700"},"Price",-1),oe=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Currency",-1),se=["value"],ae=e("label",{class:"dark:text-gray-200 text-gray-700"},"Address",-1),ne=e("label",{class:"dark:text-gray-200 text-gray-700"},"Website",-1),de={class:"col-span-2"},ie=e("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),le={class:"col-span-2"},ue=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),ce={class:"mt-6 flex justify-end"},ge={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},pe={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},be=e("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),ye=[be],Ce={__name:"AnnouncementCreate",setup(me){const x=N(),y=S(null),k=JSON.parse(localStorage.user),{categoryAnnouncements:_,getCategoryAnnouncements:w}=I(),{currencies:h,getCurrencies:v}=J(),{universities:C,getUniversities:A}=O();B(async()=>{await w(),await v(),await A()});const t=D({title:"",user_id:k.id,description:"",price:"",image:"",adress:"",website:"",email:"",phone:"",category_announcement_id:1,currency_id:1,university_id:1}),{createAnnouncement:V,errors:m,loading:f}=T(),U=async()=>{let s=new FormData;s.append("image",t.image),s.append("title",t.title),s.append("description",t.description),s.append("price",t.price),s.append("adress",t.adress),s.append("website",t.website),s.append("email",t.email),s.append("phone",t.phone),s.append("user_id",t.user_id),s.append("category_announcement_id",t.category_announcement_id),s.append("currency_id",t.currency_id),s.append("university_id",t.university_id),await V(s),x.push({name:"admin.announcement.index"})},q=async()=>{t.image=y.value.files[0]};return(s,o)=>(a(),d("div",P,[e("div",$,[H,e("section",K,[i(m)!=""?(a(),M(j,{key:0},{default:z(()=>[E(u(i(m)),1)]),_:1})):c("",!0),L,e("form",{onSubmit:o[11]||(o[11]=F(r=>U(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",R,[e("div",W,[G,n(e("input",{required:"","onUpdate:modelValue":o[0]||(o[0]=r=>t.title=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[l,t.title]])]),e("div",null,[Q,n(e("select",{required:"","onUpdate:modelValue":o[1]||(o[1]=r=>t.university_id=r),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(a(!0),d(p,null,b(i(C),r=>(a(),d("option",{key:r.id,value:r.id},u(r.name),9,X))),128))],512),[[g,t.university_id]])]),e("div",null,[Y,n(e("select",{required:"","onUpdate:modelValue":o[2]||(o[2]=r=>t.category_announcement_id=r),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(a(!0),d(p,null,b(i(_),r=>(a(),d("option",{key:r.id,value:r.id},u(r.name),9,Z))),128))],512),[[g,t.category_announcement_id]])]),e("div",null,[ee,n(e("input",{required:"","onUpdate:modelValue":o[3]||(o[3]=r=>t.phone=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[l,t.phone]])]),e("div",null,[re,n(e("input",{required:"","onUpdate:modelValue":o[4]||(o[4]=r=>t.email=r),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[l,t.email]])]),e("div",null,[te,n(e("input",{required:"","onUpdate:modelValue":o[5]||(o[5]=r=>t.price=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[l,t.price]])]),e("div",null,[oe,n(e("select",{required:"","onUpdate:modelValue":o[6]||(o[6]=r=>t.currency_id=r),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(a(!0),d(p,null,b(i(h),r=>(a(),d("option",{key:r.id,value:r.id},u(r.symbol+" "+r.name),9,se))),128))],512),[[g,t.currency_id]])]),e("div",null,[ae,n(e("input",{"onUpdate:modelValue":o[7]||(o[7]=r=>t.adress=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[l,t.adress]])]),e("div",null,[ne,n(e("input",{"onUpdate:modelValue":o[8]||(o[8]=r=>t.website=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[l,t.website]])]),e("div",de,[ie,e("input",{required:"",ref_key:"file",ref:y,onChange:o[9]||(o[9]=r=>q()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),e("div",le,[ue,n(e("textarea",{required:"",type:"text","onUpdate:modelValue":o[10]||(o[10]=r=>t.description=r),id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                            `,512),[[l,t.description]])])]),e("div",ce,[i(f)==0?(a(),d("button",ge," Save ")):c("",!0),i(f)==1?(a(),d("button",pe,ye)):c("",!0)])],32)])])]))}};export{Ce as default};
