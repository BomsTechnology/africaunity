import{d as w,b as _,o,f as n,g as t,h as i,c as b,w as g,i as p,t as v,m as l,l as k,k as u,K as m,I as S,n as A}from"./app.4c9b42c1.js";import{E as B}from"./Error.ff1a47a1.js";import{u as V}from"./authServices.dfa0cdc1.js";import"./_plugin-vue_export-helper.cdc0426e.js";const C={class:"flex h-screen items-center justify-center"},N={class:"w-full max-w-sm rounded-md bg-white p-6 shadow-md"},j=t("div",{class:"flex items-center justify-center space-x-2"},[t("h1",{class:"text-center text-3xl font-semibold text-primary-blue"}," AfricaUnity ")],-1),E=t("h1",{class:"text-md text-center font-light text-[#242A56]"}," login to acces the admin panel ",-1),M=["onSubmit"],U=t("label",{for:"username",class:"block text-sm text-gray-800"},"Username or E-mail",-1),L={class:"mt-4"},z=t("div",{class:"flex items-center justify-between"},[t("label",{for:"password",class:"block text-sm text-gray-800"},"Password")],-1),D={class:"mt-6"},O={key:0,type:"submit",class:"mt-6 w-full bg-primary-blue px-8 py-2 text-lg text-white"},P={key:1,disabled:"",type:"submit",class:"mt-6 inline-flex w-full cursor-wait items-center justify-center bg-blue-300 px-8 py-2 text-lg text-white"},T=t("svg",{class:"mr-3 h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),G=p(" Login... "),H=[T,G],I=t("p",{class:"font-mone py-2 text-center text-sm italic text-primary-blue underline"}," Powered By GNO Solutions ",-1),F={__name:"Login",setup(J){const f=S(),s=w({email:"",password:""}),{loginAdmin:x,errors:r,loading:c}=V(),h=async()=>{await x({...s})},y=async()=>{if(localStorage.token&&localStorage.token!=""){var d=JSON.parse(localStorage.user);try{let e=await A.post("/api/verif-admin",{id:d.id});f.push({name:"admin.dash"})}catch{r.value="Your not a admin"}}};return _(async()=>{y()}),(d,e)=>(o(),n("div",C,[t("div",N,[j,E,i(r)!=""?(o(),b(B,{key:0},{default:g(()=>[p(v(i(r)),1)]),_:1})):l("",!0),t("form",{onSubmit:k(h,["prevent"]),class:"mt-6"},[t("div",null,[U,u(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>s.email=a),class:"mt-2 block w-full rounded-md border bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.email]])]),t("div",L,[z,u(t("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=a=>s.password=a),class:"mt-2 block w-full rounded-md border bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.password]])]),t("div",D,[i(c)==0?(o(),n("button",O," Login ")):l("",!0),i(c)==1?(o(),n("button",P,H)):l("",!0)]),I],40,M)])]))}};export{F as default};
