import{r as D,b as M,o as n,f as d,g as e,h as o,c as S,w as z,i as F,t as u,m as c,l as T,k as l,K as i,J as p,F as g,x as b,I as j}from"./app.69871223.js";import{E as N}from"./Error.32d105e3.js";import{u as P}from"./announcementServices.9ab3a7e6.js";import{u as I}from"./categoryAnnouncementServices.bfef96c3.js";import{u as $}from"./currencyServices.0750074b.js";import{u as H}from"./universityServices.164b0162.js";import"./_plugin-vue_export-helper.cdc0426e.js";const J={class:"relative h-auto w-full xl:mt-0 xl:p-4"},K={class:"z-0 w-full p-4"},L=e("div",{class:"flex w-full justify-between bg-white px-8 py-5 shadow-lg"},[e("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Edit Announcement ")],-1),O={class:"mx-auto w-full bg-white p-6 shadow-md"},R=e("h2",{class:"text-md font-light text-gray-700"}," Add a new Announcement ",-1),W={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},G={class:"col-span-2"},Q=e("label",{class:"dark:text-gray-200 text-gray-700"},"Title",-1),X=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"University",-1),Y=["value"],Z=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Category",-1),ee=["value"],re=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Phone",-1),te=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Adress Email",-1),oe=e("label",{class:"dark:text-gray-200 text-gray-700"},"Price",-1),ae=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Currency",-1),se=["value"],ne=e("label",{class:"dark:text-gray-200 text-gray-700"},"Address",-1),le=e("label",{class:"dark:text-gray-200 text-gray-700"},"Website",-1),de={class:"col-span-2"},ie=e("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),ue={class:"col-span-2"},ce=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),pe={class:"mt-6 flex justify-end"},ge={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},be={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},ye=e("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),me=[ye],Ae={__name:"AnnouncementEdit",props:{id:{required:!0,type:String}},setup(k){const y=k,_=j(),m=D(null),{updateAnnouncement:w,getAnnouncement:v,announcement:t,errors:f,loading:x}=P(),{categoryAnnouncements:h,getCategoryAnnouncements:A}=I(),{currencies:C,getCurrencies:U}=$(),{universities:V,getUniversities:q}=H();M(async()=>{await v(y.id),await A(),await U(),await q()});const E=async()=>{let s=new FormData;s.append("image",t.value.image),s.append("title",t.value.title),s.append("description",t.value.description),s.append("price",t.value.price),s.append("adress",t.value.adress),s.append("website",t.value.website),s.append("email",t.value.email),s.append("phone",t.value.phone),s.append("user_id",t.value.user_id),s.append("category_announcement_id",t.value.category_announcement_id),s.append("currency_id",t.value.currency_id),s.append("university_id",t.value.university_id),s.append("_method","PUT"),await w(s,y.id),_.push({name:"admin.announcement.index"})},B=async()=>{t.image=m.value.files[0]};return(s,a)=>(n(),d("div",J,[e("div",K,[L,e("section",O,[o(f)!=""?(n(),S(N,{key:0},{default:z(()=>[F(u(o(f)),1)]),_:1})):c("",!0),R,e("form",{onSubmit:a[11]||(a[11]=T(r=>E(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",W,[e("div",G,[Q,l(e("input",{required:"","onUpdate:modelValue":a[0]||(a[0]=r=>o(t).title=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,o(t).title]])]),e("div",null,[X,l(e("select",{required:"","onUpdate:modelValue":a[1]||(a[1]=r=>o(t).university_id=r),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),d(g,null,b(o(V),r=>(n(),d("option",{key:r.id,value:r.id},u(r.name),9,Y))),128))],512),[[p,o(t).university_id]])]),e("div",null,[Z,l(e("select",{required:"","onUpdate:modelValue":a[2]||(a[2]=r=>o(t).category_announcement_id=r),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),d(g,null,b(o(h),r=>(n(),d("option",{key:r.id,value:r.id},u(r.name),9,ee))),128))],512),[[p,o(t).category_announcement_id]])]),e("div",null,[re,l(e("input",{required:"","onUpdate:modelValue":a[3]||(a[3]=r=>o(t).phone=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,o(t).phone]])]),e("div",null,[te,l(e("input",{required:"","onUpdate:modelValue":a[4]||(a[4]=r=>o(t).email=r),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,o(t).email]])]),e("div",null,[oe,l(e("input",{required:"","onUpdate:modelValue":a[5]||(a[5]=r=>o(t).price=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,o(t).price]])]),e("div",null,[ae,l(e("select",{required:"","onUpdate:modelValue":a[6]||(a[6]=r=>o(t).currency_id=r),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),d(g,null,b(o(C),r=>(n(),d("option",{key:r.id,value:r.id},u(r.symbol+" "+r.name),9,se))),128))],512),[[p,o(t).currency_id]])]),e("div",null,[ne,l(e("input",{"onUpdate:modelValue":a[7]||(a[7]=r=>o(t).adress=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,o(t).adress]])]),e("div",null,[le,l(e("input",{"onUpdate:modelValue":a[8]||(a[8]=r=>o(t).website=r),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[i,o(t).website]])]),e("div",de,[ie,e("input",{ref_key:"file",ref:m,onChange:a[9]||(a[9]=r=>B()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),e("div",ue,[ce,l(e("textarea",{required:"",type:"text","onUpdate:modelValue":a[10]||(a[10]=r=>o(t).description=r),id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                            `,512),[[i,o(t).description]])])]),e("div",pe,[o(x)==0?(n(),d("button",ge," Save ")):c("",!0),o(x)==1?(n(),d("button",be,me)):c("",!0)])],32)])])]))}};export{Ae as default};
