import{d as y,b as w,o,f as n,g as t,h as i,c as _,w as b,i as p,t as g,m as l,l as v,k as u,K as m,n as k,p as S}from"./app.69871223.js";import{E as A}from"./Error.32d105e3.js";import{u as B}from"./authServices.33be885c.js";import"./_plugin-vue_export-helper.cdc0426e.js";const V={class:"flex h-screen items-center justify-center"},C={class:"w-full max-w-sm rounded-md bg-white p-6 shadow-md"},N=t("div",{class:"flex items-center justify-center space-x-2"},[t("h1",{class:"text-center text-3xl font-semibold text-primary-blue"}," AfricaUnity ")],-1),j=t("h1",{class:"text-md text-center font-light text-[#242A56]"}," login to acces the admin panel ",-1),E=["onSubmit"],M=t("label",{for:"username",class:"block text-sm text-gray-800"},"Username or E-mail",-1),U={class:"mt-4"},L=t("div",{class:"flex items-center justify-between"},[t("label",{for:"password",class:"block text-sm text-gray-800"},"Password")],-1),z={class:"mt-6"},D={key:0,type:"submit",class:"mt-6 w-full bg-primary-blue px-8 py-2 text-lg text-white"},O={key:1,disabled:"",type:"submit",class:"mt-6 inline-flex w-full cursor-wait items-center justify-center bg-blue-300 px-8 py-2 text-lg text-white"},P=t("svg",{class:"mr-3 h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),T=p(" Login... "),G=[P,T],H=t("p",{class:"font-mone py-2 text-center text-sm italic text-primary-blue underline"}," Powered By GNO Solutions ",-1),I={__name:"Login",setup(J){const s=y({email:"",password:""}),{loginAdmin:f,errors:a,loading:c}=B(),x=async()=>{await f({...s})},h=async()=>{if(localStorage.token&&localStorage.token!=""){var d=JSON.parse(localStorage.user);try{let e=await k.post("/api/verif-admin",{id:d.id});S.push({name:"admin.dash"})}catch{a.value="Your not a admin"}}};return w(async()=>{h()}),(d,e)=>(o(),n("div",V,[t("div",C,[N,j,i(a)!=""?(o(),_(A,{key:0},{default:b(()=>[p(g(i(a)),1)]),_:1})):l("",!0),t("form",{onSubmit:v(x,["prevent"]),class:"mt-6"},[t("div",null,[M,u(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>s.email=r),class:"mt-2 block w-full rounded-md border bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.email]])]),t("div",U,[L,u(t("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=r=>s.password=r),class:"mt-2 block w-full rounded-md border bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[m,s.password]])]),t("div",z,[i(c)==0?(o(),n("button",D," Login ")):l("",!0),i(c)==1?(o(),n("button",O,G)):l("",!0)]),H],40,E)])]))}};export{I as default};
