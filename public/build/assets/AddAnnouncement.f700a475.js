import{r as S,b as N,d as B,o as n,f as l,g as e,t as a,h as u,c as D,w as F,i as d,m as p,l as M,k as i,K as c,a as z,_ as E,J as f,F as x,x as _,I as j}from"./app.4c9b42c1.js";import{E as J}from"./Error.ff1a47a1.js";import{u as O}from"./announcementServices.521dc430.js";import{u as T}from"./categoryAnnouncementServices.46e18743.js";import{u as H}from"./currencyServices.80444a2d.js";import{u as I}from"./universityServices.bbee6575.js";import"./_plugin-vue_export-helper.cdc0426e.js";const K={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},L={class:"w-full space-y-4 py-5 text-center"},R={class:"text-4xl font-bold capitalize text-primary-blue"},G={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},P={class:"text-xl font-semibold"},Q={class:"text-md font-light text-gray-700"},W={class:"mt-4"},X={class:"col-span-2"},Y={class:"dark:text-gray-200 text-gray-700"},Z=e("span",{class:"text-red-500"},"*",-1),ee={class:"text-xs font-light text-gray-400"},te={class:"divSelect2 col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},re={class:"dark:text-gray-200 text-gray-700",for:"pt"},oe=e("span",{class:"text-red-500"},"*",-1),se={class:"dark:text-gray-200 text-gray-700",for:"pt"},ae=e("span",{class:"text-red-500"},"*",-1),ne=["value"],de={class:"dark:text-gray-200 text-gray-700"},le=e("span",{class:"text-red-500"},"*",-1),ie={class:"dark:text-gray-200 text-gray-700"},ue=e("span",{class:"text-red-500"},"*",-1),ce={key:0},pe={class:"dark:text-gray-200 text-gray-700"},ge=e("span",{class:"text-red-500"},"*",-1),ye={key:1},be={class:"dark:text-gray-200 text-gray-700",for:"es"},me=e("span",{class:"text-red-500"},"*",-1),fe=["value"],xe={class:"dark:text-gray-200 text-gray-700"},_e={class:"dark:text-gray-200 text-gray-700"},ke={class:"col-span-2 mt-4"},he={class:"dark:text-gray-200 text-gray-700",for:"fr"},we={class:"col-span-2 mt-4"},ve={class:"dark:text-gray-200 text-gray-700",for:"pt"},$e=e("span",{class:"text-red-500"},"*",-1),Ve={class:"mt-6"},Ue={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Ce={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},Ae=e("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Ee={__name:"AddAnnouncement",setup(qe){const k=j(),y=localStorage.user?JSON.parse(localStorage.user):"",{categoryAnnouncements:h,getCategoryAnnouncements:w}=T(),{currencies:v,getCurrencies:$}=H(),{universities:V,getAllUniversities:U}=I(),b=S(null);N(async()=>{await w(),await $(),await U()});const t=B({title:"",user_id:y.id,description:"",price:"",image:"",adress:"",website:"",email:y.email,phone:"",category_announcement_id:"",currency_id:"",university_id:""}),{createAnnouncement:C,errors:g,loading:m}=O(),A=async()=>{let r=new FormData;r.append("image",t.image),r.append("title",t.title),r.append("description",t.description),r.append("price",t.price),r.append("adress",t.adress),r.append("website",t.website),r.append("email",t.email),r.append("phone",t.phone),r.append("user_id",t.user_id),r.append("category_announcement_id",t.category_announcement_id),r.append("currency_id",t.currency_id),r.append("university_id",t.university_id),await C(r),g.value==""&&k.push({name:"ads"})},q=()=>{t.image=b.value.files[0]};return(r,s)=>(n(),l("div",K,[e("div",L,[e("h1",R,a(r.$t("add"))+" "+a(r.$t("ads")),1)]),e("section",G,[u(g)!=""?(n(),D(J,{key:0},{default:F(()=>[d(a(u(g)),1)]),_:1})):p("",!0),e("h1",P,a(r.$t("add"))+" "+a(r.$t("ads")),1),e("h2",Q,a(r.$t("good-msg-post"))+" ! ",1),e("form",{onSubmit:s[11]||(s[11]=M(o=>A(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",W,[e("div",X,[e("label",Y,[d(a(r.$t("title"))+" ",1),Z]),i(e("input",{required:"","onUpdate:modelValue":s[0]||(s[0]=o=>t.title=o),maxlength:"50",type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,t.title]]),e("span",ee,a(t.title?t.title.length:0)+" of 50 Characters",1)]),e("div",te,[e("div",null,[e("label",re,[d(a(r.$t("university"))+" ",1),oe]),z(E,{modelValue:t.university_id,"onUpdate:modelValue":s[1]||(s[1]=o=>t.university_id=o),data:u(V),placeholder:"Select University",required:!1,resetField:!0,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","className"])]),e("div",null,[e("label",se,[d(a(r.$t("category"))+" ",1),ae]),i(e("select",{required:"","onUpdate:modelValue":s[2]||(s[2]=o=>t.category_announcement_id=o),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),l(x,null,_(u(h),o=>(n(),l("option",{key:o.id,value:o.id},a(o.name),9,ne))),128))],512),[[f,t.category_announcement_id]])]),e("div",null,[e("label",de,[d(a(r.$t("contact-phone"))+" ",1),le]),i(e("input",{required:"","onUpdate:modelValue":s[3]||(s[3]=o=>t.phone=o),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,t.phone]])]),e("div",null,[e("label",ie,[d(a(r.$t("contact-email"))+" ",1),ue]),i(e("input",{required:"","onUpdate:modelValue":s[4]||(s[4]=o=>t.email=o),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,t.email]])]),t.category_announcement_id!=10?(n(),l("div",ce,[e("label",pe,[d(a(r.$t("price"))+" ",1),ge]),i(e("input",{required:"","onUpdate:modelValue":s[5]||(s[5]=o=>t.price=o),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,t.price]])])):p("",!0),t.category_announcement_id!=10?(n(),l("div",ye,[e("label",be,[d(a(r.$t("currency"))+" ",1),me]),i(e("select",{required:"","onUpdate:modelValue":s[6]||(s[6]=o=>t.currency_id=o),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(n(!0),l(x,null,_(u(v),o=>(n(),l("option",{key:o.id,value:o.id},a(o.symbol+" "+o.name),9,fe))),128))],512),[[f,t.currency_id]])])):p("",!0),e("div",null,[e("label",xe,a(r.$t("adresse")),1),i(e("input",{"onUpdate:modelValue":s[7]||(s[7]=o=>t.adress=o),type:"text",placeholder:"Douala Cameroon",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,t.adress]])]),e("div",null,[e("label",_e,a(r.$t("website")),1),i(e("input",{"onUpdate:modelValue":s[8]||(s[8]=o=>t.website=o),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,t.website]])])]),e("div",ke,[e("label",he,a(r.$t("thumbnails")),1),e("input",{ref_key:"file",ref:b,onChange:s[9]||(s[9]=o=>q()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),e("div",we,[e("label",ve,[d(a(r.$t("description"))+" ",1),$e]),i(e("textarea",{required:"",type:"text","onUpdate:modelValue":s[10]||(s[10]=o=>t.description=o),id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                        `,512),[[c,t.description]])])]),e("div",Ve,[u(m)==0?(n(),l("button",Ue,a(r.$t("save")),1)):p("",!0),u(m)==1?(n(),l("button",Ce,[d(a(r.$t("save"))+"... ",1),Ae])):p("",!0)])],32)])]))}};export{Ee as default};
