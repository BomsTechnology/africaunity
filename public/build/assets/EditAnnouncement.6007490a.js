import{r as M,b as E,o as l,f as d,g as e,t as n,h as r,c as F,w as N,i,m as p,l as z,k as u,K as c,a as T,J as f,F as x,x as _,I as j,e as H}from"./app.69871223.js";import{E as I}from"./Error.32d105e3.js";import{u as J}from"./announcementServices.9ab3a7e6.js";import{u as K}from"./categoryAnnouncementServices.bfef96c3.js";import{u as L}from"./currencyServices.0750074b.js";import{u as O}from"./universityServices.164b0162.js";import"./_plugin-vue_export-helper.cdc0426e.js";const P={class:"mx-auto min-h-screen w-full bg-white py-4 lg:px-20 xl:w-[90%]"},R={class:"w-full space-y-4 py-5 text-center"},G={class:"text-4xl font-bold capitalize text-primary-blue"},Q={class:"mx-auto w-full rounded-md bg-white p-6 shadow-xl"},W={class:"text-xl font-semibold"},X={class:"text-md font-light text-gray-700"},Y={class:"mt-4"},Z={class:"col-span-2"},ee={class:"dark:text-gray-200 text-gray-700"},te=e("span",{class:"text-red-500"},"*",-1),re={class:"text-xs font-light text-gray-400"},oe={class:"divSelect2 col-span-2 mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},se={class:"dark:text-gray-200 text-gray-700",for:"pt"},ae=e("span",{class:"text-red-500"},"*",-1),ne={class:"dark:text-gray-200 text-gray-700",for:"pt"},le=e("span",{class:"text-red-500"},"*",-1),de=["value"],ie={class:"dark:text-gray-200 text-gray-700"},ue=e("span",{class:"text-red-500"},"*",-1),ce={class:"dark:text-gray-200 text-gray-700"},pe=e("span",{class:"text-red-500"},"*",-1),ge={key:0},ye={class:"dark:text-gray-200 text-gray-700"},be=e("span",{class:"text-red-500"},"*",-1),me={key:1},fe={class:"dark:text-gray-200 text-gray-700",for:"es"},xe=e("span",{class:"text-red-500"},"*",-1),_e=["value"],ke={class:"dark:text-gray-200 text-gray-700"},he={class:"dark:text-gray-200 text-gray-700"},ve={class:"col-span-2 mt-4"},we={class:"dark:text-gray-200 text-gray-700",for:"fr"},$e={class:"flex items-center space-x-4 py-4"},Ve=["src","alt"],Ce={class:"col-span-2 mt-4"},Ue={class:"dark:text-gray-200 text-gray-700",for:"pt"},Ae=e("span",{class:"text-red-500"},"*",-1),qe={class:"mt-6"},Se={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Be={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},De=e("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),He={__name:"EditAnnouncement",props:{id:{required:!0,type:String}},setup(k){const y=k,h=j(),b=M(null),{updateAnnouncement:v,getAnnouncement:w,announcement:t,errors:g,loading:m}=J(),{categoryAnnouncements:$,getCategoryAnnouncements:V}=K(),{currencies:C,getCurrencies:U}=L(),{universities:A,getUniversities:q}=O();E(async()=>{await w(y.id),await V(),await U(),await q()}),t.value.image="";const S=async()=>{let o=new FormData;o.append("image",t.value.image),o.append("title",t.value.title),o.append("description",t.value.description),o.append("price",t.value.price),o.append("adress",t.value.adress),o.append("website",t.value.website),o.append("email",t.value.email),o.append("phone",t.value.phone),o.append("user_id",t.value.user_id),o.append("category_announcement_id",t.value.category_announcement_id),o.append("currency_id",t.value.currency_id),o.append("university_id",t.value.university_id),o.append("_method","PUT"),await v(o,y.id),g.value==""&&h.push({name:"universities"})},B=()=>{t.image=b.value.files[0]};return(o,a)=>{const D=H("Select2");return l(),d("div",P,[e("div",R,[e("h1",G,n(o.$t("edit"))+" "+n(o.$t("ads")),1)]),e("section",Q,[r(g)!=""?(l(),F(I,{key:0},{default:N(()=>[i(n(r(g)),1)]),_:1})):p("",!0),e("h1",W,n(o.$t("edit"))+" "+n(o.$t("ads")),1),e("h2",X,n(o.$t("good-msg-post"))+" ! ",1),e("form",{onSubmit:a[11]||(a[11]=z(s=>S(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",Y,[e("div",Z,[e("label",ee,[i(n(o.$t("title"))+" ",1),te]),u(e("input",{required:"","onUpdate:modelValue":a[0]||(a[0]=s=>r(t).title=s),maxlength:"50",type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,r(t).title]]),e("span",re,n(r(t).title?r(t).title.length:0)+" of 50 Characters",1)]),e("div",oe,[e("div",null,[e("label",se,[i(n(o.$t("university"))+" ",1),ae]),T(D,{modelValue:r(t).university_id,"onUpdate:modelValue":a[1]||(a[1]=s=>r(t).university_id=s),options:r(A),id:"select2",settings:{width:"100%"}},null,8,["modelValue","options"])]),e("div",null,[e("label",ne,[i(n(o.$t("category"))+" ",1),le]),u(e("select",{required:"","onUpdate:modelValue":a[2]||(a[2]=s=>r(t).category_announcement_id=s),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),d(x,null,_(r($),s=>(l(),d("option",{key:s.id,value:s.id},n(s.name),9,de))),128))],512),[[f,r(t).category_announcement_id]])]),e("div",null,[e("label",ie,[i(n(o.$t("contact-phone"))+" ",1),ue]),u(e("input",{required:"","onUpdate:modelValue":a[3]||(a[3]=s=>r(t).phone=s),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,r(t).phone]])]),e("div",null,[e("label",ce,[i(n(o.$t("contact-email"))+" ",1),pe]),u(e("input",{required:"","onUpdate:modelValue":a[4]||(a[4]=s=>r(t).email=s),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,r(t).email]])]),r(t).category_announcement_id!=10?(l(),d("div",ge,[e("label",ye,[i(n(o.$t("price"))+" ",1),be]),u(e("input",{required:"","onUpdate:modelValue":a[5]||(a[5]=s=>r(t).price=s),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,r(t).price]])])):p("",!0),r(t).category_announcement_id!=10?(l(),d("div",me,[e("label",fe,[i(n(o.$t("currency"))+" ",1),xe]),u(e("select",{required:"","onUpdate:modelValue":a[6]||(a[6]=s=>r(t).currency_id=s),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(l(!0),d(x,null,_(r(C),s=>(l(),d("option",{key:s.id,value:s.id},n(s.symbol+" "+s.name),9,_e))),128))],512),[[f,r(t).currency_id]])])):p("",!0),e("div",null,[e("label",ke,n(o.$t("adresse")),1),u(e("input",{"onUpdate:modelValue":a[7]||(a[7]=s=>r(t).adress=s),placeholder:"Douala Cameroon",type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,r(t).adress]])]),e("div",null,[e("label",he,n(o.$t("website")),1),u(e("input",{"onUpdate:modelValue":a[8]||(a[8]=s=>r(t).website=s),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[c,r(t).website]])])]),e("div",ve,[e("label",we,n(o.$t("thumbnails")),1),e("div",$e,[r(t).image?(l(),d("img",{key:0,src:r(t).image,class:"h-16 w-16 rounded-full",alt:r(t).title},null,8,Ve)):p("",!0),e("input",{ref_key:"file",ref:b,onChange:a[9]||(a[9]=s=>B()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)])]),e("div",Ce,[e("label",Ue,[i(n(o.$t("description"))+" ",1),Ae]),u(e("textarea",{required:"",type:"text","onUpdate:modelValue":a[10]||(a[10]=s=>r(t).description=s),id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-32 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                        `,512),[[c,r(t).description]])])]),e("div",qe,[r(m)==0?(l(),d("button",Se,n(o.$t("save")),1)):p("",!0),r(m)==1?(l(),d("button",Be,[i(n(o.$t("save"))+"... ",1),De])):p("",!0)])],32)])])}}};export{He as default};
