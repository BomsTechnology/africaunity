import{u as T,d as A,b as E,r as $,o,f as r,a as l,g as e,h as t,m as u,H as F,t as a,w as p,i as _,c as f,F as M,x as U,l as q,k as S,K as z,e as I}from"./app.55978ff3.js";import{_ as O}from"./FilterArticle.0d274ea9.js";import{_ as J,r as K}from"./Report.03bc9994.js";import{u as R}from"./postServices.99798c1d.js";import{u as G}from"./commentServices.c9547b1f.js";import{E as Q}from"./Error.0d032b49.js";import{r as W}from"./CalendarIcon.dae9979b.js";import{r as X}from"./UserIcon.2b86f5ac.js";import{r as Y}from"./ChatIcon.6e5cba0d.js";import{r as H}from"./UserCircleIcon.73113e63.js";import{r as Z}from"./PencilAltIcon.8bae390f.js";import{r as ee}from"./EmojiSadIcon.32062255.js";import"./_plugin-vue_export-helper.cdc0426e.js";const te={class:"mx-auto flex min-h-screen w-full flex-col bg-white p-4 text-lg md:space-y-2 lg:flex-row lg:space-x-2 xl:w-[90%]"},se={class:"lg:w-[70%]"},oe={key:0,class:"py-6 lg:px-4"},re={class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-md"},ae=["src"],ne={class:"p-6"},le={key:0},ie={key:1},ce={key:2},de={key:3},ue={class:"dark:text-white mt-2 block transform text-3xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600"},me={class:"mt-2 flex space-x-2 text-xs text-gray-500"},pe={class:"flex space-x-1"},he={href:"#",class:"hover:text-primary-blue"},_e={class:"flex space-x-1"},ye={class:"flex space-x-1"},xe={href:"#",class:"hover:text-primary-blue"},fe=["innerHTML"],ge={key:1,class:"dark:text-gray-400 my-4 mt-2 break-words py-4 text-gray-600"},we={class:"mt-4"},ve={class:"flex items-center justify-between"},be=["src"],ke={class:"dark:text-gray-200 mx-2 font-semibold text-gray-700"},Ce={class:"flex items-center"},$e={class:"hidden lg:block"},Me={key:0,class:"ml-3"},Se={class:"flex items-center space-x-3 px-2 py-4"},ze=["href"],He=e("svg",{fill:"#25D366",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",class:"h-6 w-6"},[e("path",{d:"M 15 3 C 8.373 3 3 8.373 3 15 C 3 17.251208 3.6323415 19.350068 4.7109375 21.150391 L 3.1074219 27 L 9.0820312 25.431641 C 10.829354 26.425062 12.84649 27 15 27 C 21.627 27 27 21.627 27 15 C 27 8.373 21.627 3 15 3 z M 10.892578 9.4023438 C 11.087578 9.4023438 11.287937 9.4011562 11.460938 9.4101562 C 11.674938 9.4151563 11.907859 9.4308281 12.130859 9.9238281 C 12.395859 10.509828 12.972875 11.979906 13.046875 12.128906 C 13.120875 12.277906 13.173313 12.453437 13.070312 12.648438 C 12.972312 12.848437 12.921344 12.969484 12.777344 13.146484 C 12.628344 13.318484 12.465078 13.532109 12.330078 13.662109 C 12.181078 13.811109 12.027219 13.974484 12.199219 14.271484 C 12.371219 14.568484 12.968563 15.542125 13.851562 16.328125 C 14.986562 17.342125 15.944188 17.653734 16.242188 17.802734 C 16.540187 17.951734 16.712766 17.928516 16.884766 17.728516 C 17.061766 17.533516 17.628125 16.864406 17.828125 16.566406 C 18.023125 16.268406 18.222188 16.319969 18.492188 16.417969 C 18.766188 16.515969 20.227391 17.235766 20.525391 17.384766 C 20.823391 17.533766 21.01875 17.607516 21.09375 17.728516 C 21.17075 17.853516 21.170828 18.448578 20.923828 19.142578 C 20.676828 19.835578 19.463922 20.505734 18.919922 20.552734 C 18.370922 20.603734 17.858562 20.7995 15.351562 19.8125 C 12.327563 18.6215 10.420484 15.524219 10.271484 15.324219 C 10.122484 15.129219 9.0605469 13.713906 9.0605469 12.253906 C 9.0605469 10.788906 9.8286563 10.071437 10.097656 9.7734375 C 10.371656 9.4754375 10.692578 9.4023438 10.892578 9.4023438 z"})],-1),Le=[He],Ve={key:1,class:"mt-4 px-8 py-4"},je={class:"h-10 w-10 overflow-hidden rounded-full shadow md:h-20 md:w-20"},Be=["src"],De={class:"mt-2 text-center text-xs font-bold hover:underline lg:text-sm"},Ne={class:"text-center text-xs font-light lg:text-sm"},Pe={class:"ml-2 w-full p-2 text-xs lg:text-lg"},Te={class:"mt-4 px-8 py-4"},Ae=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},[_("Laisser un Commentaire "),e("span",{class:"text-red-500"},"*")],-1),Ee={class:"mt-6"},Fe={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Ue={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},qe=e("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Ie={key:1,class:"p-28"},Oe=e("svg",{class:"mx-auto h-16 w-16 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Je=[Oe],Ke={key:2,class:"flex animate-pulse flex-col items-center justify-center p-28 text-gray-500"},Re={class:"mt-2 text-2xl"},Ge={class:"bg-white lg:w-[30%]"},it={__name:"SinglePost",props:{id:{required:!0,type:String}},setup(g){const y=g,{locale:L}=T(),V=window.location.href,{post:s,getPost2:j,loading:B}=R(),{createComment:D,errors:w,comments:v,getCommentsPost:b}=G(),k=localStorage.user?JSON.parse(localStorage.user):"",d=A({user_id:k.id,post_id:"",content:""});E(async()=>{await j(y.id),await b(y.id),d.post_id=s.value.id});const x=$(!1),C=()=>{x.value=!x.value},N=i=>new DOMParser().parseFromString(i,"text/html").body.innerHTML,h=$(0),P=async()=>{h.value=1,await D({...d}),h.value=0,d.content="",await b(y.id)};return(i,c)=>{const m=I("router-link");return o(),r(M,null,[l(J,{open:x.value,toogleModal:C,id:g.id,type:"post"},null,8,["open","id"]),e("div",te,[e("div",se,[t(s).length!=0?(o(),r("div",oe,[e("div",re,[t(s).type=="article"?(o(),r("img",{key:0,class:"h-96 w-full object-cover",src:t(s).image,alt:""},null,8,ae)):u("",!0),e("div",ne,[e("div",null,[e("a",{href:"#",class:"rounded py-1 px-2 text-xs capitalize text-white",style:F("background:"+t(s).ministry.color)},[i.$i18n.locale=="en"?(o(),r("span",le,a(t(s).ministry.name_en),1)):i.$i18n.locale=="fr"?(o(),r("span",ie,a(t(s).ministry.name_fr),1)):i.$i18n.locale=="es"?(o(),r("span",ce,a(t(s).ministry.name_es),1)):(o(),r("span",de,a(t(s).country.name_pt),1))],4),e("h1",ue,a(t(s).title),1),e("div",me,[e("div",pe,[l(t(W),{class:"h-4 w-4"}),e("a",he,a(new Date(t(s).date).toLocaleDateString(t(L),{day:"numeric",year:"numeric",month:"long"})),1)]),e("div",_e,[l(t(X),{class:"h-4 w-4"}),l(m,{to:{name:"compte",params:{name:t(s).user.firstname,id:t(s).user.id}},href:"#",class:"hover:text-primary-blue"},{default:p(()=>[_(a(t(s).user.firstname),1)]),_:1},8,["to"])]),e("div",ye,[l(t(Y),{class:"h-4 w-4"}),e("a",xe,a(t(s).comments),1)])]),t(s).type=="article"?(o(),r("p",{key:0,class:"dark:text-gray-400 my-4 mt-2 py-4 text-gray-600",innerHTML:N(t(s).content2)},null,8,fe)):(o(),r("p",ge,a(t(s).content),1))]),e("div",we,[e("div",ve,[l(m,{to:{name:"compte",params:{name:t(s).user.firstname,id:t(s).user.id}},class:"flex items-center"},{default:p(()=>[t(s).user.avatar?(o(),r("img",{key:0,class:"h-16 w-16 rounded-full object-cover shadow",src:t(s).user.avatar},null,8,be)):(o(),f(t(H),{key:1,class:"h-10 w-10 text-gray-700"})),e("span",ke,a(t(s).user.firstname),1)]),_:1},8,["to"]),e("div",Ce,[e("div",null,[e("button",{onClick:c[0]||(c[0]=n=>C()),class:"flex cursor-pointer items-center space-x-2 rounded-full border border-gray-400 px-2 py-1 text-xs text-gray-400 hover:border-white hover:bg-yellow-300 hover:text-white"},[l(t(K),{class:"h-5 w-5"}),e("span",$e,a(i.$t("report")),1)])]),t(k).id==t(s).user.id?(o(),r("div",Me,[l(m,{to:{name:"edit.post",params:{id:t(s).id,type:t(s).type}}},{default:p(()=>[l(t(Z),{class:"h-5 w-5 cursor-pointer text-gray-400 hover:text-primary-blue"})]),_:1},8,["to"])])):u("",!0)])])]),e("div",Se,[e("a",{href:"whatsapp://send?text=Hello, I have just published an publication on the AfricaUnity website. please go see, thank you "+t(V)},Le,8,ze)])]),t(v).length!=0?(o(),r("div",Ve,[(o(!0),r(M,null,U(t(v),n=>(o(),r("div",{class:"flex border-b py-4",key:n.id},[e("div",null,[l(m,{to:{name:"compte",params:{name:n.user.firstname,id:n.user.id}}},{default:p(()=>[e("div",je,[n.user.avatar?(o(),r("img",{key:0,src:n.user.avatar,class:"h-full w-full bg-cover object-cover",alt:""},null,8,Be)):(o(),f(t(H),{key:1,class:"h-full w-full text-gray-500"}))]),e("h1",De,a(n.user.firstname),1)]),_:2},1032,["to"]),e("h3",Ne,a(n.date),1)]),e("div",Pe,a(n.content),1)]))),128))])):u("",!0),t(w)!=""?(o(),f(Q,{key:2},{default:p(()=>[_(a(t(w)),1)]),_:1})):u("",!0),e("form",{onSubmit:c[3]||(c[3]=q(n=>P(),["prevent"]))},[e("div",Te,[Ae,S(e("textarea",{"onUpdate:modelValue":c[1]||(c[1]=n=>d.content=n),required:"",type:"text",id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-60 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                            `,512),[[z,d.content]]),e("div",Ee,[S(e("input",{type:"hidden","onUpdate:modelValue":c[2]||(c[2]=n=>d.post_id=n)},null,512),[[z,d.post_id]]),h.value==0?(o(),r("button",Fe,a(i.$t("save")),1)):u("",!0),h.value==1?(o(),r("button",Ue,[_(a(i.$t("save"))+"... ",1),qe])):u("",!0)])])],32)])])):t(B)==1?(o(),r("div",Ie,Je)):(o(),r("div",Ke,[l(t(ee),{class:"h-16 w-16"}),e("span",Re,a(i.$t("no-content")),1)]))]),e("div",Ge,[l(O)])])],64)}}};export{it as default};
