import{r as i,I as c,n as r}from"./app.55978ff3.js";function f(){const u=i([]),n=i([]),t=i(""),e=i(0),l=c();return{ministries:u,ministry:n,errors:t,loading:e,getMinistries:async()=>{t.value="",e.value=!0;let s=await r.get("/api/ministries",{headers:{Authorization:`Bearer ${localStorage.token}`}});u.value=s.data.data,e.value=!1},getMinistry:async s=>{t.value="",e.value=!0;let a=await r.get("/api/ministries/"+s,{headers:{Authorization:`Bearer ${localStorage.token}`}});e.value=0,n.value=a.data.data},createMinistry:async s=>{t.value="";try{e.value=!0,await r.post("/api/ministries",s,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,l.push({name:"admin.ministry.index"})}catch(a){if(a.response.status==422){e.value=0;for(const o in a.response.data.errors)t.value+=a.response.data.errors[o][0]+`
`}}},updateMinistry:async s=>{t.value="";try{e.value=!0,await r.put("/api/ministries/"+s,n.value,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1,l.push({name:"admin.ministry.index"})}catch(a){if(e.value=0,a.response.status==422)for(const o in a.response.data.errors)t.value+=a.response.data.errors[o][0]+`	
`}},destroyMinistry:async s=>{t.value="";try{e.value=!0,await r.delete("/api/ministries/"+s,{headers:{Authorization:`Bearer ${localStorage.token}`}}),e.value=!1}catch(a){e.value=0,a.response.status=="500"&&(t.value="Impossible de supprimer ce ministries")}}}}export{f as u};
