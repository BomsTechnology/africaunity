import{c as r,d as a,e as t,u as S,r as z,o as B,a as V,g as e,m as l,t as o,f as n,w as p,h,k as w,l as M,j,K as A,I as D,b as N}from"./app.04741282.js";import{E as q}from"./Error.74e5730d.js";import{u as E}from"./announcementServices.8a4494af.js";import{r as H}from"./CalendarIcon.778e0e13.js";import{r as I}from"./UserIcon.d174bb5b.js";import{r as L}from"./UserCircleIcon.3536e70d.js";import{r as T}from"./PencilSquareIcon.5642bd2a.js";import{r as U}from"./FaceFrownIcon.46fe2391.js";import{r as J,a as K}from"./MapPinIcon.2f626174.js";import{r as O}from"./EnvelopeIcon.f4107268.js";import{r as R}from"./GlobeEuropeAfricaIcon.76e896ad.js";import{r as F}from"./BriefcaseIcon.e0278101.js";import"./_plugin-vue_export-helper.cdc0426e.js";function G(y,m){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z","clip-rule":"evenodd"})])}const P={class:"mx-auto flex min-h-screen w-full flex-col bg-white p-4 text-lg md:space-y-2 lg:flex-row lg:space-x-2 xl:w-[90%]"},Q={class:"lg:w-[70%]"},W={key:0,class:"py-6 px-4"},X={class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-md"},Y=["src"],Z={class:"p-6"},ee={href:"#",class:"rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},te={class:"dark:text-white mt-2 block transform text-3xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600"},se={class:"mt-2 flex space-x-2 text-xs text-gray-500"},oe={class:"flex space-x-1"},re={href:"#",class:"hover:text-primary-blue"},ae={class:"flex space-x-1"},ne={class:"dark:text-gray-400 my-4 mt-2 py-4 text-gray-600"},le={class:"mt-4"},ie={class:"flex items-center justify-between"},ce=["src"],de={class:"dark:text-gray-200 mx-2 font-semibold text-gray-700"},ue={class:"flex items-center"},pe={key:0,class:"ml-3"},he={class:"flex items-center space-x-3 px-2 py-4"},me=["href"],xe=t("svg",{fill:"#25D366",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",class:"h-6 w-6"},[t("path",{d:"M 15 3 C 8.373 3 3 8.373 3 15 C 3 17.251208 3.6323415 19.350068 4.7109375 21.150391 L 3.1074219 27 L 9.0820312 25.431641 C 10.829354 26.425062 12.84649 27 15 27 C 21.627 27 27 21.627 27 15 C 27 8.373 21.627 3 15 3 z M 10.892578 9.4023438 C 11.087578 9.4023438 11.287937 9.4011562 11.460938 9.4101562 C 11.674938 9.4151563 11.907859 9.4308281 12.130859 9.9238281 C 12.395859 10.509828 12.972875 11.979906 13.046875 12.128906 C 13.120875 12.277906 13.173313 12.453437 13.070312 12.648438 C 12.972312 12.848437 12.921344 12.969484 12.777344 13.146484 C 12.628344 13.318484 12.465078 13.532109 12.330078 13.662109 C 12.181078 13.811109 12.027219 13.974484 12.199219 14.271484 C 12.371219 14.568484 12.968563 15.542125 13.851562 16.328125 C 14.986562 17.342125 15.944188 17.653734 16.242188 17.802734 C 16.540187 17.951734 16.712766 17.928516 16.884766 17.728516 C 17.061766 17.533516 17.628125 16.864406 17.828125 16.566406 C 18.023125 16.268406 18.222188 16.319969 18.492188 16.417969 C 18.766188 16.515969 20.227391 17.235766 20.525391 17.384766 C 20.823391 17.533766 21.01875 17.607516 21.09375 17.728516 C 21.17075 17.853516 21.170828 18.448578 20.923828 19.142578 C 20.676828 19.835578 19.463922 20.505734 18.919922 20.552734 C 18.370922 20.603734 17.858562 20.7995 15.351562 19.8125 C 12.327563 18.6215 10.420484 15.524219 10.271484 15.324219 C 10.122484 15.129219 9.0605469 13.713906 9.0605469 12.253906 C 9.0605469 10.788906 9.8286563 10.071437 10.097656 9.7734375 C 10.371656 9.4754375 10.692578 9.4023438 10.892578 9.4023438 z"})],-1),_e=[xe],ye={key:1,class:"p-28"},fe=t("svg",{class:"mx-auto h-16 w-16 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),ge=[fe],we={key:2,class:"flex animate-pulse flex-col items-center justify-center p-28 text-gray-500"},ve={class:"mt-2 text-2xl"},be={class:"bg-white py-5 lg:w-[30%]"},ke={class:"space-y-3 rounded-md py-5 px-10 shadow"},Ce={class:"text-2xl font-bold text-primary-blue"},$e={key:0,class:"flex items-center space-x-2 text-gray-500"},Se={key:1,class:"flex items-center space-x-2 text-gray-500"},ze={key:2,class:"flex items-center space-x-2 text-gray-500"},Be={key:3,class:"flex items-center space-x-2 text-gray-500"},Ve={key:4,class:"flex items-center space-x-2 text-gray-500"},Me={key:5,class:"flex items-center space-x-2 text-gray-500"},je={class:"mt-4 rounded-md py-5 shadow"},Ae={key:1,class:"bg-green-50 py-4 px-2 text-green-700"},De={class:"px-8"},Ne={class:"text-xl font-bold text-primary-blue",for:"pt"},qe=t("span",{class:"text-red-500"},"*",-1),Ee={class:"mt-6"},He=t("input",{type:"hidden"},null,-1),Ie={key:0,type:"submit",class:"text-md w-full rounded bg-primary-blue px-6 py-4 leading-5 text-white focus:outline-none"},Le={key:1,type:"submit",disabled:"",class:"text-md flex w-full items-center justify-center rounded bg-blue-300 px-6 py-4 leading-5 text-white focus:outline-none"},Te=t("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),et={__name:"SingleAnnouncement",props:{id:{required:!0,type:String},slug:{required:!1,type:String}},setup(y){const m=y,{locale:v}=S();D();const b=window.location.href,{announcement:s,getAnnouncement2:k,loading:C,errors:u}=E(),f=localStorage.user?JSON.parse(localStorage.user):"",c=z(0);B(async()=>{await k(m.id)});const x=V({user:f.id,ads:m.id,content:""}),$=async()=>{u.value="";try{c.value=1,await axios.post("/api/announcement-send-contact",x,{headers:{Authorization:`Bearer ${localStorage.token}`}}),c.value=2}catch(i){if(i.response.status==422){c.value=0;for(const d in i.response.data.errors)u.value+=i.response.data.errors[d][0]+`
`}}};return(i,d)=>{const _=N("router-link");return r(),a("div",P,[t("div",Q,[e(s).length!=0?(r(),a("div",W,[t("div",X,[e(s).image?(r(),a("img",{key:0,class:"h-96 w-full object-cover",src:e(s).image,alt:""},null,8,Y)):l("",!0),t("div",Z,[t("div",null,[t("a",ee,o(e(s).category.name),1),t("h1",te,o(e(s).title),1),t("div",se,[t("div",oe,[n(e(H),{class:"h-4 w-4"}),t("a",re,o(new Date(e(s).date).toLocaleDateString(e(v),{day:"numeric",year:"numeric",month:"long"})),1)]),t("div",ae,[n(e(I),{class:"h-4 w-4"}),n(_,{to:{name:"compte",params:{slug:e(s).user.slug,id:e(s).user.id}},class:"hover:text-primary-blue"},{default:p(()=>[h(o(e(s).user.firstname),1)]),_:1},8,["to"])])]),t("p",ne,o(e(s).description),1)]),t("div",le,[t("div",ie,[n(_,{to:{name:"compte",params:{slug:e(s).user.slug,id:e(s).user.id}},class:"flex items-center"},{default:p(()=>[e(s).user.avatar?(r(),a("img",{key:0,class:"h-16 w-16 rounded-full object-cover shadow",src:e(s).user.avatar},null,8,ce)):(r(),w(e(L),{key:1,class:"h-10 w-10 text-gray-700"})),t("span",de,o(e(s).user.firstname),1)]),_:1},8,["to"]),t("div",ue,[e(f).id==e(s).user.id?(r(),a("div",pe,[n(_,{to:{name:"edit.ads",params:{id:e(s).id}}},{default:p(()=>[n(e(T),{class:"h-5 w-5 cursor-pointer text-gray-400 hover:text-primary-blue"})]),_:1},8,["to"])])):l("",!0)])])]),t("div",he,[t("a",{href:"whatsapp://send?text=Hello, I have just published an publication on the AfricaUnity website. please go see, thank you "+e(b)},_e,8,me)])])])])):e(C)==1?(r(),a("div",ye,ge)):(r(),a("div",we,[n(e(U),{class:"h-16 w-16"}),t("span",ve,o(i.$t("no-content")),1)]))]),t("div",be,[t("div",ke,[t("h1",Ce,o(i.$t("details")),1),e(s).university?(r(),a("div",$e,[n(e(J),{class:"h-8 w-8"}),t("span",null,o(e(s).university.name),1)])):l("",!0),e(s).email?(r(),a("div",Se,[n(e(O),{class:"h-8 w-8"}),t("span",null,o(e(s).email),1)])):l("",!0),e(s).phone?(r(),a("div",ze,[n(e(G),{class:"h-8 w-8"}),t("span",null,o(e(s).phone),1)])):l("",!0),e(s).website&&e(s).website!="null"?(r(),a("div",Be,[n(e(R),{class:"h-8 w-8"}),t("span",null,o(e(s).website),1)])):l("",!0),e(s).adress&&e(s).adress!="null"?(r(),a("div",Ve,[n(e(F),{class:"h-8 w-8"}),t("span",null,o(e(s).adress),1)])):l("",!0),e(s).currency&&e(s).price!="null"?(r(),a("div",Me,[n(e(K),{class:"h-8 w-8"}),t("span",null,o(e(s).price)+" "+o(e(s).currency.symbol),1)])):l("",!0)]),t("div",je,[e(u)!=""?(r(),w(q,{key:0},{default:p(()=>[h(o(e(u)),1)]),_:1})):l("",!0),c.value==2?(r(),a("div",Ae,[t("p",null,o(i.$t("msg-contact-sucess")),1)])):(r(),a("form",{key:2,onSubmit:d[1]||(d[1]=M(g=>$(),["prevent"]))},[t("div",De,[t("label",Ne,[h(o(i.$t("contact-ads"))+" ",1),qe]),j(t("textarea",{"onUpdate:modelValue":d[0]||(d[0]=g=>x.content=g),required:"",type:"text",id:"pt",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block h-60 w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring focus:ring-primary-blue focus:ring-opacity-40"},`\r
                        `,512),[[A,x.content]]),t("div",Ee,[He,c.value==0?(r(),a("button",Ie,o(i.$t("send")),1)):l("",!0),c.value==1?(r(),a("button",Le,[h(o(i.$t("send"))+"... ",1),Te])):l("",!0)])])],32))])])])}}};export{et as default};
