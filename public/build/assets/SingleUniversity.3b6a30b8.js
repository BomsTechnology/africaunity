import{u as L,o as V,a as K,G as M,c as r,d as a,e,g as s,t as o,f as d,k as U,w as u,m as h,j as _,K as z,J as B,F as m,x,h as N,b as D}from"./app.8ef239d2.js";import{u as T}from"./universityServices.f25097d2.js";import{u as H}from"./announcementServices.32d452ea.js";import{u as q}from"./categoryAnnouncementServices.12b03649.js";import{r as f}from"./FaceFrownIcon.74888c90.js";import{r as F}from"./PlusCircleIcon.39fdb421.js";import{r as J}from"./MegaphoneIcon.261ed88a.js";import{r as E}from"./UserIcon.e892b5a5.js";import{r as G}from"./CalendarIcon.c6f77168.js";const I={class:"mx-auto min-h-screen w-full bg-white px-20 text-lg xl:w-[90%]"},O={key:0,class:"py-6 px-4"},P={class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-md"},Q=["src"],R={class:"p-6"},W={href:"#",class:"rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},X={key:0},Y={key:1},Z={key:2},ee={key:3},te={class:"dark:text-white mt-2 block transform text-3xl font-semibold text-gray-800 transition-colors duration-200 hover:text-gray-600"},se=["innerHTML"],oe={key:1,class:"p-28"},re=e("svg",{class:"mx-auto h-16 w-16 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),ae=[re],ie={key:2,class:"flex animate-pulse flex-col items-center justify-center p-28 text-gray-500"},le={class:"mt-2 text-2xl"},de={class:"py-2 text-center text-3xl font-bold text-primary-blue"},ce={class:"flex justify-end px-6"},ne={class:"text-base leading-4"},pe={class:"mt-4 grid grid-cols-1 gap-2 bg-gray-50 px-10 pb-8 pt-4 shadow lg:grid-cols-3"},ue={class:"text-xs lg:text-sm"},ye={class:"dark:text-gray-200 text-gray-700"},ge={class:"text-xs lg:text-sm"},he={class:"text-gray-700",for:"es"},_e=e("option",{value:""},"--------------",-1),me=["value"],xe=e("div",{class:"bg-primary-blue p-2 shadow"},null,-1),fe={class:"py-8"},we={key:0,class:"grid grid-cols-1 gap-8 py-8 md:grid-cols-2 lg:grid-cols-3 lg:px-10"},ve=["src","alt"],be={key:1,class:"mt-2 h-48 w-full overflow-hidden rounded-t-lg bg-gray-50 py-10"},ke={class:"space-y-2 px-4 py-2"},$e={href:"#",class:"mt-2 rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},Ce={class:"text-2xl font-bold capitalize text-gray-800 hover:underline"},Se={class:"dark:text-gray-400 mt-2 text-sm text-gray-600"},je={class:"flex h-10 items-center justify-between bg-gray-900 px-4 py-2"},Ae={key:0,class:"text-lg font-bold text-white"},Le={class:"flex items-center space-x-2 text-xs text-white"},Ve={class:"flex space-x-1"},Ke={class:"hidden space-x-1 lg:flex"},Me={href:"#",class:"hover:text-primary-blue"},Ue={key:1,class:"flex animate-pulse flex-col items-center justify-center p-28 text-gray-500"},ze={class:"mt-2 text-2xl"},Ge={__name:"SingleUniversity",props:{id:{required:!0,type:String},slug:{required:!1,type:String}},setup(w){const y=w,{locale:v}=L(),{university:l,getUniversity2:b,loading:k}=T(),{categoryAnnouncements:$,getCategoryAnnouncements:C}=q(),S=localStorage.user?JSON.parse(localStorage.user):"",{announcements:j,getAnnouncementsUniversity:A}=H();V(async()=>{await b(y.id),await A(y.id),await C()});const c=K({searchKey:"",category:""}),g=M(()=>j.value.filter(i=>{let n="";return c.category!=""?n=i.title.toLowerCase().includes(c.searchKey.toLowerCase())&&i.category.id==c.category:n=i.title.toLowerCase().includes(c.searchKey.toLowerCase()),n}));return(i,n)=>{const p=D("router-link");return r(),a("div",I,[e("div",null,[s(l).length!=0?(r(),a("div",O,[e("div",P,[e("img",{class:"h-96 w-full object-cover",src:s(l).image,alt:""},null,8,Q),e("div",R,[e("div",null,[e("a",W,[i.$i18n.locale=="en"?(r(),a("span",X,o(s(l).city.name_en+"-"+s(l).country.code_iso),1)):i.$i18n.locale=="fr"?(r(),a("span",Y,o(s(l).city.name_fr+"-"+s(l).country.code_iso),1)):i.$i18n.locale=="es"?(r(),a("span",Z,o(s(l).city.name_es+"-"+s(l).country.code_iso),1)):(r(),a("span",ee,o(s(l).country.name_pt+"-"+s(l).country.code_iso),1))]),e("h1",te,o(s(l).name),1),e("p",{class:"dark:text-gray-400 my-4 mt-2 py-4 text-gray-600",innerHTML:s(l).description},null,8,se)])])])])):s(k)==1?(r(),a("div",oe,ae)):(r(),a("div",ie,[d(s(f),{class:"h-16 w-16"}),e("span",le,o(i.$t("no-content")),1)])),e("h1",de,o(i.$t("ads-university"))+" "+o(s(l).name),1),e("div",ce,[s(S).type=="particular"?(r(),U(p,{key:0,to:{name:"add.ads"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:u(()=>[d(s(F),{class:"h-6 w-6"}),e("p",ne,o(i.$t("add"))+" "+o(i.$t("ads")),1)]),_:1},8,["to"])):h("",!0)]),e("div",pe,[e("div",ue,[e("label",ye,o(i.$t("key-words")),1),_(e("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>c.searchKey=t),class:"form-input mt-2 block w-full rounded-md border border-gray-200 bg-white px-3 pr-2 text-gray-700 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,512),[[z,c.searchKey]])]),e("div",ge,[e("label",he,o(i.$t("category")),1),_(e("select",{"onUpdate:modelValue":n[1]||(n[1]=t=>c.category=t),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[_e,(r(!0),a(m,null,x(s($),t=>(r(),a("option",{key:t.id,value:t.id},o(t.name),9,me))),128))],512),[[B,c.category]])])]),xe,e("div",fe,[s(g).length!=0?(r(),a("div",we,[(r(!0),a(m,null,x(s(g),t=>(r(),a("div",{class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-lg",key:t.id},[d(p,{to:{name:"show.ads",params:{id:t.id,slug:t.slug}}},{default:u(()=>[t.image?(r(),a("img",{key:0,class:"mt-2 h-48 w-full rounded-t-lg object-cover",src:t.image,alt:t.title},null,8,ve)):(r(),a("div",be,[d(s(J),{class:"h-full w-full text-gray-500"})]))]),_:2},1032,["to"]),e("div",ke,[e("a",$e,o(t.category.name),1),d(p,{to:{name:"show.ads",params:{id:t.id,slug:t.slug}}},{default:u(()=>[e("h1",Ce,o(t.title),1)]),_:2},1032,["to"]),e("p",Se,o(t.description.substring(0,19)+"..."),1)]),e("div",je,[t.price&&t.price!="null"?(r(),a("h1",Ae,o(t.price)+" "+o(t.currency.symbol),1)):h("",!0),e("div",Le,[e("div",Ve,[d(s(E),{class:"h-4 w-4"}),d(p,{to:{name:"compte",params:{slug:t.user.slug,id:t.user.id}},class:"hover:text-primary-blue"},{default:u(()=>[N(o(t.user.firstname),1)]),_:2},1032,["to"])]),e("div",Ke,[d(s(G),{class:"h-4 w-4"}),e("a",Me,o(new Date(t.date).toLocaleDateString(s(v),{day:"numeric",year:"numeric",month:"long"})),1)])])])]))),128))])):(r(),a("div",Ue,[d(s(f),{class:"h-16 w-16"}),e("span",ze,o(i.$t("no-content")),1)]))])])])}}};export{Ge as default};
