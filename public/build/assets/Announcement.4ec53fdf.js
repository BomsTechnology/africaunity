import{o as l,f as r,g as o,F as u,x as c,a as d,h as a,L as W,r as m,b as X,M as Y,d as ee,t as n,k as p,K as te,J as h,_ as se,c as oe,w as $,m as b,i as le,e as re}from"./app.55978ff3.js";import{u as ne}from"./announcementServices.25906547.js";import{u as ie}from"./universityServices.4938f461.js";import{u as ae}from"./categoryAnnouncementServices.d7539e6f.js";import{u as de}from"./continentServices.19b5280c.js";import{u as ue}from"./countryServices.b4bbfd61.js";import{u as ce}from"./cityServices.b708d7a6.js";import{u as ye}from"./zoneServices.1b73f0e2.js";import{r as me}from"./PhotographIcon.4424e2f3.js";import{r as pe}from"./PlusCircleIcon.ce6923cd.js";import{r as ge}from"./SpeakerphoneIcon.2354edda.js";import{r as fe}from"./UserIcon.2b86f5ac.js";import{r as _e}from"./EmojiSadIcon.32062255.js";const ve={class:"animate-pulse"},he={class:"grid grid-cols-1 gap-4 py-8 px-10 md:grid-cols-3"},be={class:"mx-auto h-44 w-32 overflow-hidden"},xe=W('<div class="flex flex-col items-start justify-center p-6"><div class="mb-4 h-5 w-32 rounded-md bg-gray-200"></div><div class="mb-4 h-2.5 w-5/6 rounded-full bg-gray-200"></div><div class="flex w-full items-center justify-between"><div class="mb-4 h-2.5 w-1/5 rounded-full bg-gray-200"></div><div class="mb-4 h-2.5 w-3/5 rounded-full bg-gray-200"></div></div></div>',1),F={__name:"Ads",setup(K){const y=[1,2,3,4];return(S,x)=>(l(),r("div",ve,[o("div",he,[(l(),r(u,null,c(y,g=>o("div",{key:g,class:"rounded bg-gray-100 shadow"},[o("div",be,[d(a(me),{class:"h-full w-full text-gray-200"})]),xe])),64))])]))}},we={class:"mx-auto min-h-screen w-full bg-white xl:w-[90%]"},ke={class:"py-2 text-center text-5xl font-bold capitalize text-primary-blue"},$e={class:"py-8 lg:px-16"},Ce={class:"mt-4 grid grid-cols-1 gap-2 bg-gray-50 px-10 pb-8 pt-4 shadow lg:grid-cols-3"},ze={class:"text-xs lg:text-sm"},Ae={class:"dark:text-gray-200 text-gray-700"},Ve={class:"text-xs lg:text-sm"},Se={class:"text-gray-700",for:"es"},Ue=o("option",{value:""},"--------------",-1),Ne=["value"],je={class:"text-xs lg:text-sm"},Fe={class:"text-gray-700",for:"es"},Ke=o("option",{value:""},"--------------",-1),Be=["value"],Le={key:0},Me={key:1},Ee={key:2},Ze={key:3},De={class:"text-xs lg:text-sm"},Je={class:"text-gray-700",for:"es"},Te=o("option",{value:""},"--------------",-1),qe=["value"],Ge={key:0},He={key:1},Oe={key:2},Re={key:3},Ie={key:1,value:"null"},Pe={class:"text-xs lg:text-sm"},Qe={class:"text-gray-700",for:"es"},We=o("option",{value:""},"--------------",-1),Xe=["value"],Ye={key:0},et={key:1},tt={key:2},st={key:3},ot={key:1,value:"null"},lt={class:"text-xs lg:text-sm"},rt={class:"text-gray-700",for:"es"},nt=o("option",{value:""},"--------------",-1),it=["value"],at={key:0},dt={key:1},ut={key:2},ct={key:3},yt={key:1,value:"null"},mt={class:"divSelect2 text-xs lg:text-sm"},pt={class:"text-gray-700",for:"es"},gt={class:"flex items-end text-xs lg:text-sm"},ft=o("div",{class:"bg-primary-blue p-2 shadow"},null,-1),_t={class:"flex justify-end py-4"},vt={class:"text-base leading-4"},ht={class:"py-8"},bt={key:0},xt=["src","alt"],wt={key:1,class:"mt-2 h-48 w-full overflow-hidden rounded-t-lg bg-gray-50 py-10"},kt={class:"space-y-2 px-4 py-2"},$t={href:"#",class:"mt-2 rounded bg-primary-blue py-1 px-2 text-xs capitalize text-white"},Ct={class:"text-2xl font-bold capitalize text-gray-800 hover:underline"},zt={class:"dark:text-gray-400 mt-2 text-sm text-gray-600"},At={class:"flex h-10 items-center justify-between bg-gray-900 px-4 py-2"},Vt={key:0,class:"text-lg font-bold text-white"},St={class:"flex items-center space-x-2 text-xs text-white"},Ut={class:"flex space-x-1"},Nt={key:2},jt={key:3,class:"flex animate-pulse flex-col items-center justify-center p-28 text-gray-500"},Ft={class:"mt-2 text-2xl"},Rt={__name:"Announcement",setup(K){const{universities:y,getAllUniversities:S}=ie(),{announcements:x,getAnnouncements:g,loading:f,page:C,isAll:U,filterAnnouncements:B}=ne(),{continents:L,getContinents:M}=de(),{countries:E,getCountries:Z}=ue(),{categoryAnnouncements:D,getCategoryAnnouncements:J}=ae(),{zones:T,getZones:q}=ye(),{cities:G,getCities:H}=ce(),N=localStorage.user?JSON.parse(localStorage.user):"",z=m([]),w=m([]),_=m([]),v=m([]),A=m(null),V=m(!0);X(async()=>{window.addEventListener("scroll",j),await g(),await M(),await q(),await Z(),await J(),await H(),S()}),Y(async()=>{C.value=1,window.removeEventListener("scroll",j)});const j=async s=>{A.value&&A.value.getBoundingClientRect().bottom<window.innerHeight&&V.value&&!U.value&&t.searchKey==""&&t.category==""&&t.country==""&&t.continent==""&&t.university==""&&t.city==""&&t.zone==""&&(V.value=!1,C.value++,await g(),V.value=!0)},O=async()=>{t.searchKey!=""||t.category!=""||t.country!=""||t.continent!=""||t.university!=""||t.city!=""||t.zone!=""?(f.value=1,await B({...t}),f.value=2):(C.value=1,U.value=!1,await g())},t=ee({searchKey:"",category:"",country:"",continent:"",university:"",city:"",zone:""}),R=()=>{v.value=y.value.filter(s=>s.continent.id==t.continent&&s.zone.id==t.zone&&s.country.id==t.country&&s.city.id==t.city)},I=()=>{_.value=G.value.filter(s=>s.country_id==t.country),v.value=y.value.filter(s=>s.continent.id==t.continent&&s.zone.id==t.zone&&s.country.id==t.country),t.city=""},P=()=>{w.value=E.value.filter(s=>s.zone_id==t.zone),v.value=y.value.filter(s=>s.continent.id==t.continent&&s.zone.id==t.zone),t.country="",t.city="",_.value=[]},Q=()=>{z.value=T.value.filter(s=>s.continent_id==t.continent),v.value=y.value.filter(s=>s.continent.id==t.continent),t.zone="",t.country="",t.city="",_.value=[],w.value=[]};return(s,i)=>{const k=re("router-link");return l(),r("div",we,[o("h1",ke,n(s.$t("ads")),1),o("div",$e,[o("div",Ce,[o("div",ze,[o("label",Ae,n(s.$t("key-words")),1),p(o("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=e=>t.searchKey=e),class:"form-input mt-2 block w-full rounded-md border border-gray-200 bg-white px-3 pr-2 text-gray-700 placeholder:text-gray-400 focus:border-primary-blue focus:ring-primary-blue"},null,512),[[te,t.searchKey]])]),o("div",Ve,[o("label",Se,n(s.$t("category")),1),p(o("select",{"onUpdate:modelValue":i[1]||(i[1]=e=>t.category=e),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Ue,(l(!0),r(u,null,c(a(D),e=>(l(),r("option",{key:e.id,value:e.id},n(e.name),9,Ne))),128))],512),[[h,t.category]])]),o("div",je,[o("label",Fe,n(s.$t("continent")),1),p(o("select",{"onUpdate:modelValue":i[2]||(i[2]=e=>t.continent=e),onChange:i[3]||(i[3]=e=>Q()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Ke,(l(!0),r(u,null,c(a(L),e=>(l(),r("option",{key:e.id,value:e.id},[s.$i18n.locale=="en"?(l(),r("span",Le,n(e.name_en),1)):s.$i18n.locale=="fr"?(l(),r("span",Me,n(e.name_fr),1)):s.$i18n.locale=="es"?(l(),r("span",Ee,n(e.name_es),1)):(l(),r("span",Ze,n(e.name_pt),1))],8,Be))),128))],544),[[h,t.continent]])]),o("div",De,[o("label",Je,n(s.$t("zoned")),1),p(o("select",{"onUpdate:modelValue":i[4]||(i[4]=e=>t.zone=e),onChange:i[5]||(i[5]=e=>P()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[Te,z.value.length!=0?(l(!0),r(u,{key:0},c(z.value,e=>(l(),r("option",{key:e.id,value:e.id},[s.$i18n.locale=="en"?(l(),r("span",Ge,n(e.name_en),1)):s.$i18n.locale=="fr"?(l(),r("span",He,n(e.name_fr),1)):s.$i18n.locale=="es"?(l(),r("span",Oe,n(e.name_es),1)):(l(),r("span",Re,n(e.name_pt),1))],8,qe))),128)):(l(),r("option",Ie," Select "+n(s.$t("continent")),1))],544),[[h,t.zone]])]),o("div",Pe,[o("label",Qe,n(s.$t("country")),1),p(o("select",{"onUpdate:modelValue":i[6]||(i[6]=e=>t.country=e),onChange:i[7]||(i[7]=e=>I()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[We,w.value.length!=0?(l(!0),r(u,{key:0},c(w.value,e=>(l(),r("option",{key:e.id,value:e.id},[s.$i18n.locale=="en"?(l(),r("span",Ye,n(e.name_en),1)):s.$i18n.locale=="fr"?(l(),r("span",et,n(e.name_fr),1)):s.$i18n.locale=="es"?(l(),r("span",tt,n(e.name_es),1)):(l(),r("span",st,n(e.name_pt),1))],8,Xe))),128)):(l(),r("option",ot," Select "+n(s.$t("zoned")),1))],544),[[h,t.country]])]),o("div",lt,[o("label",rt,n(s.$t("city")),1),p(o("select",{"onUpdate:modelValue":i[8]||(i[8]=e=>t.city=e),onChange:i[9]||(i[9]=e=>R()),class:"form-select mt-1 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[nt,_.value.length!=0?(l(!0),r(u,{key:0},c(_.value,e=>(l(),r("option",{key:e.id,value:e.id},[s.$i18n.locale=="en"?(l(),r("span",at,n(e.name_en),1)):s.$i18n.locale=="fr"?(l(),r("span",dt,n(e.name_fr),1)):s.$i18n.locale=="es"?(l(),r("span",ut,n(e.name_es),1)):(l(),r("span",ct,n(e.name_pt),1))],8,it))),128)):(l(),r("option",yt," Select "+n(s.$t("country")),1))],544),[[h,t.city]])]),o("div",mt,[o("label",pt,n(s.$t("university")),1),d(se,{modelValue:t.university,"onUpdate:modelValue":i[10]||(i[10]=e=>t.university=e),data:v.value,placeholder:"Select University",required:!1,resetField:!0,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","className"])]),o("div",gt,[o("button",{type:"button",onClick:i[11]||(i[11]=e=>O()),class:"w-full rounded-md bg-primary-blue px-4 py-2.5 text-white"},n(s.$t("search")),1)])]),ft,o("div",_t,[a(N).type=="particular"||a(N).type=="admin"?(l(),oe(k,{key:0,to:{name:"add.ads"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:$(()=>[d(a(pe),{class:"h-6 w-6"}),o("p",vt,n(s.$t("add"))+" "+n(s.$t("ads")),1)]),_:1},8,["to"])):b("",!0)]),o("div",ht,[a(f)==3?(l(),r("div",bt,[d(F)])):a(x).length!=0?(l(),r("div",{key:1,ref_key:"adsContainer",ref:A,class:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3"},[(l(!0),r(u,null,c(a(x),e=>(l(),r("div",{class:"dark:bg-gray-800 overflow-hidden rounded-lg bg-white shadow-lg",key:e.id},[d(k,{to:{name:"show.ads",params:{id:e.id}}},{default:$(()=>[e.image?(l(),r("img",{key:0,class:"mt-2 h-48 w-full rounded-t-lg object-cover",src:e.image,alt:e.title},null,8,xt)):(l(),r("div",wt,[d(a(ge),{class:"h-full w-full text-gray-500"})]))]),_:2},1032,["to"]),o("div",kt,[o("a",$t,n(e.category.name.length<=30?e.category.name:e.category.name.substring(0,25)+"..."),1),d(k,{to:{name:"show.ads",params:{id:e.id}}},{default:$(()=>[o("h1",Ct,n(e.title.length<=20?e.title:e.title.substring(0,19)+"..."),1)]),_:2},1032,["to"]),o("p",zt,n(e.description.substring(0,19)+"..."),1)]),o("div",At,[e.price&&e.price!="null"?(l(),r("h1",Vt,n(e.price)+" "+n(e.currency.symbol),1)):b("",!0),o("div",St,[o("div",Ut,[d(a(fe),{class:"h-4 w-4"}),d(k,{to:{name:"compte",params:{name:e.user.firstname,id:e.user.id}},href:"#",class:"hover:text-primary-blue"},{default:$(()=>[le(n(e.user.firstname),1)]),_:2},1032,["to"])])])])]))),128))],512)):b("",!0),a(f)==1?(l(),r("div",Nt,[d(F)])):b("",!0),a(x).length==0&&a(f)!=1?(l(),r("div",jt,[d(a(_e),{class:"h-16 w-16"}),o("span",Ft,n(s.$t("no-content")),1)])):b("",!0)])])])}}};export{Rt as default};
