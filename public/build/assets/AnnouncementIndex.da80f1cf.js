import{r,o as j,c as u,d as p,e as t,f as l,w as a,g as i,j as C,K as T,k as V,h as d,t as m,b as v}from"./app.04741282.js";import{u as B}from"./announcementServices.8a4494af.js";import{r as D}from"./PlusCircleIcon.2912cddb.js";import{r as E}from"./TrashIcon.0de62fab.js";import{r as I}from"./MegaphoneIcon.ba578c44.js";const z={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},M={class:"z-0 h-full w-full p-4"},N={class:"flex justify-between bg-white px-8 py-5"},S=t("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Announcement ",-1),U=t("p",{class:"text-base leading-4"},"Add Announcement",-1),$={class:"flex flex-col bg-white pt-8"},P={class:"overflow-x-auto shadow-lg"},F={class:"dark:bg-gray-800 inline-block min-w-full align-middle"},K={class:"items-center justify-between p-4 lg:flex"},O={class:"relative mt-1"},q=t("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[t("svg",{class:"dark:text-gray-400 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),G={class:""},H=t("span",{class:"hidden text-sm font-thin lg:block"},"Delete",-1),J={class:"py-2"},L=["src"],Q=d("Edit"),R=d(" View "),se={__name:"AnnouncementIndex",setup(W){const n=r([]),{announcements:g,getAnnouncements:h,destroyAnnouncement:x,loading:f,errors:_}=B();r(""),j(async()=>{h()});const b=async k=>{if(n.value.length!=0){const s=r([]);n.value.forEach(o=>{s.value.push(o.id)}),confirm("I you Sure ?")&&(await x(s.value),_.value==""&&(await h(),n.value=[]))}},y=r("title"),c=r(""),w=[{text:"Image",value:"image"},{text:"Title",value:"title"},{text:"Author",value:"user.firstname"},{text:"Phone",value:"phone"},{text:"Price",value:"price"},{text:"University",value:"university.name"},{text:"Category",value:"category.name"},{text:"ACTION",value:"id"}];return(k,s)=>{const o=v("router-link"),A=v("EasyDataTable");return u(),p("div",z,[t("div",M,[t("div",N,[S,l(o,{to:{name:"admin.announcement.create"},class:"flex items-center justify-start space-x-3 rounded bg-primary-blue px-3 py-2 text-white"},{default:a(()=>[l(i(D),{class:"h-6 w-6"}),U]),_:1},8,["to"])]),t("div",$,[t("div",P,[t("div",F,[t("div",K,[t("div",O,[q,C(t("input",{type:"text",id:"table-search","onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),class:"dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 block w-80 rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500",placeholder:"Search for items"},null,512),[[T,c.value]])]),t("div",G,[t("button",{type:"button",title:"delete",onClick:s[1]||(s[1]=e=>b()),class:"flex items-center justify-between space-x-2 rounded border border-red-500 p-2 text-red-500 hover:bg-red-500 hover:text-white"},[l(i(E),{class:"h-6 w-6"}),H])])]),l(A,{"items-selected":n.value,"onUpdate:items-selected":s[2]||(s[2]=e=>n.value=e),headers:w,items:i(g),alternating:"","search-field":y.value,"search-value":c.value,"show-index":"","buttons-pagination":"",loading:i(f)},{"item-image":a(e=>[t("div",J,[e.image?(u(),p("img",{key:0,src:e.image,alt:"",class:"h-12 w-12 rounded-full object-cover"},null,8,L)):(u(),V(i(I),{key:1,class:"h-12 w-12"}))])]),"item-title":a(e=>[d(m(e.title.length<=30?e.title:e.title.substring(0,29)+"..."),1)]),"item-price":a(e=>[d(m(e.price)+" "+m(e.currency.symbol),1)]),"item-id":a(e=>[t("div",null,[l(o,{to:{name:"admin.announcement.edit",params:{id:e.id}},class:"dark:text-blue-500 text-primary-blue hover:underline"},{default:a(()=>[Q]),_:2},1032,["to"]),l(o,{to:{name:"show.ads",params:{id:e.id,slug:e.slug}},class:"dark:text-blue-500 ml-3 text-indigo-600 hover:underline"},{default:a(()=>[R]),_:2},1032,["to"])])]),_:1},8,["items-selected","items","search-field","search-value","loading"])])])])])])}}};export{se as default};
