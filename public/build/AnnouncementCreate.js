var E=Object.defineProperty;var U=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var A=(l,a,s)=>a in l?E(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s,C=(l,a)=>{for(var s in a||(a={}))P.call(a,s)&&A(l,s,a[s]);if(U)for(var s of U(a))T.call(a,s)&&A(l,s,a[s]);return l};var v=(l,a,s)=>new Promise((f,y)=>{var x=n=>{try{m(s.next(n))}catch(u){y(u)}},_=n=>{try{m(s.throw(n))}catch(u){y(u)}},m=n=>n.done?f(n.value):Promise.resolve(n.value).then(x,_);m((s=s.apply(l,a)).next())});import{G as $,r as S,o as I,a as J,b as q,d,e as c,f as e,h as g,l as G,w as K,j as L,t as w,P as O,k as h,m as R,I as i,K as b,g as p,J as N,F,x as B}from"./app.js";import{u as W}from"./announcementServices.js";import{u as H}from"./categoryAnnouncementServices.js";import{u as Q}from"./currencyServices.js";import{u as X}from"./universityServices.js";import{_ as Y}from"./RichText.js";import{_ as Z}from"./DropZone.js";const ee={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},te={class:"z-0 w-full p-4"},re=e("div",{class:"flex w-full justify-between bg-white px-8 py-5"},[e("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Add Announcement ")],-1),oe={class:"mx-auto w-full bg-white p-6"},se=e("h2",{class:"text-md font-light text-gray-700"}," Add a new Announcement ",-1),ae={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},le={class:"col-span-2"},ne=e("label",{class:"dark:text-gray-200 text-gray-700"},"Title",-1),de=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"University",-1),ie=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Category",-1),ue=["value"],ce=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Phone",-1),ge=e("label",{class:"dark:text-gray-200 text-gray-700"},"Contact Adress Email",-1),be=e("label",{class:"dark:text-gray-200 text-gray-700"},"Price",-1),me=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Currency",-1),ye=["value"],pe=e("label",{class:"dark:text-gray-200 text-gray-700"},"Address",-1),fe=e("label",{class:"dark:text-gray-200 text-gray-700"},"Website",-1),xe={class:"col-span-2"},_e=e("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),ke={class:"col-span-2"},ve=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),we={class:"mt-6 flex justify-end"},he={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},Ve={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},je={__name:"AnnouncementCreate",setup(l){const a=$();S(null);const s=JSON.parse(localStorage.user),{categoryAnnouncements:f,getCategoryAnnouncements:y}=H(),{currencies:x,getCurrencies:_}=Q(),{universities:m,getAllUniversities:n}=X(),u=S(!1);I(()=>v(this,null,function*(){u.value=!0,yield y(),yield _(),yield n(),u.value=!1}));const o=J({title:"",user_id:s.id,description:"",price:"",image:[],adress:"",website:"",email:"",phone:"",category_announcement_id:1,currency_id:1,university_id:1}),{createAnnouncement:M,errors:k,loading:V}=W(),j=()=>v(this,null,function*(){yield M(C({},o)),k.value==""&&a.push({name:"admin.announcement.index"})});return(Ue,r)=>{const z=q("SelectFilter"),D=q("Spin");return d(),c("div",ee,[e("div",te,[re,e("section",oe,[g(k)!=""?(d(),G(O,{key:0},{default:K(()=>[L(w(g(k)),1)]),_:1})):h("",!0),se,e("form",{onSubmit:r[11]||(r[11]=R(t=>j(),["prevent"])),id:"announcementform",enctype:"multipart/form-data"},[e("div",ae,[e("div",le,[ne,i(e("input",{required:"","onUpdate:modelValue":r[0]||(r[0]=t=>o.title=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o.title]])]),e("div",null,[de,p(z,{modelValue:o.university_id,"onUpdate:modelValue":r[1]||(r[1]=t=>o.university_id=t),data:g(m),placeholder:"Select University",required:!1,resetField:!0,loading:u.value,className:"w-full h-full mt-1 block rounded-md border bg-white  border-gray-300 p-2.5 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 text-sm"},null,8,["modelValue","data","loading"])]),e("div",null,[ie,i(e("select",{required:"","onUpdate:modelValue":r[2]||(r[2]=t=>o.category_announcement_id=t),name:"",id:"",class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(d(!0),c(F,null,B(g(f),t=>(d(),c("option",{key:t.id,value:t.id},w(t.name),9,ue))),128))],512),[[N,o.category_announcement_id]])]),e("div",null,[ce,i(e("input",{required:"","onUpdate:modelValue":r[3]||(r[3]=t=>o.phone=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o.phone]])]),e("div",null,[ge,i(e("input",{required:"","onUpdate:modelValue":r[4]||(r[4]=t=>o.email=t),type:"email",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o.email]])]),e("div",null,[be,i(e("input",{required:"","onUpdate:modelValue":r[5]||(r[5]=t=>o.price=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o.price]])]),e("div",null,[me,i(e("select",{required:"","onUpdate:modelValue":r[6]||(r[6]=t=>o.currency_id=t),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(d(!0),c(F,null,B(g(x),t=>(d(),c("option",{key:t.id,value:t.id},w(t.symbol+" "+t.name),9,ye))),128))],512),[[N,o.currency_id]])]),e("div",null,[pe,i(e("input",{"onUpdate:modelValue":r[7]||(r[7]=t=>o.adress=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o.adress]])]),e("div",null,[fe,i(e("input",{"onUpdate:modelValue":r[8]||(r[8]=t=>o.website=t),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[b,o.website]])]),e("div",xe,[_e,p(Z,{modelValue:o.image,"onUpdate:modelValue":r[9]||(r[9]=t=>o.image=t),multiple:!0},null,8,["modelValue"])]),e("div",ke,[ve,p(Y,{modelValue:o.description,"onUpdate:modelValue":r[10]||(r[10]=t=>o.description=t)},null,8,["modelValue"])])]),e("div",we,[g(V)==0?(d(),c("button",he," Save ")):h("",!0),g(V)==1?(d(),c("button",Ve,[p(D,{size:"small"})])):h("",!0)])],32)])])])}}};export{je as default};
