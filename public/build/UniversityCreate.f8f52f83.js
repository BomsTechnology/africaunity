import{r as l,o as H,a as I,c as s,d as n,e,g as u,k as J,w as C,j as K,t as a,P as L,m,l as O,i as c,K as P,J as f,F as _,x as g,f as z,T as G,H as Q,b as W}from"./app.1097d858.js";import{u as X}from"./universityServices.3524b998.js";import{u as Y}from"./continentServices.eb5fdb99.js";import{u as ee}from"./countryServices.39eefecd.js";import{u as te}from"./cityServices.9e4adf68.js";import{u as oe}from"./zoneServices.a52bcaa1.js";const re={class:"relative min-h-screen w-full bg-white xl:mt-0 xl:p-4"},se={class:"z-0 w-full p-4"},ne=e("div",{class:"flex w-full justify-between bg-white px-8 py-5"},[e("h1",{class:"text-4xl font-bold capitalize text-primary-blue"}," Add University ")],-1),ie={class:"mx-auto w-full bg-white p-6"},ae=e("h2",{class:"text-md font-light text-gray-700"}," Add a new University ",-1),le={class:"mt-4 grid grid-cols-1 gap-6 sm:grid-cols-2"},de={class:"col-span-2"},ue=e("label",{class:"dark:text-gray-200 text-gray-700"},"Name",-1),ce=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Continent",-1),ye=["value"],pe=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Zone",-1),me=["value"],fe={key:1,value:"null"},_e=e("label",{class:"dark:text-gray-200 text-gray-700",for:"es"},"Country",-1),ge=["value"],be={key:1,value:"null"},ve={class:""},xe=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"City",-1),he=["value"],ke={key:1,value:"null"},we={class:"col-span-2"},Ce=e("label",{class:"dark:text-gray-200 text-gray-700",for:"fr"},"Image",-1),ze={class:"col-span-2"},qe=e("label",{class:"dark:text-gray-200 text-gray-700",for:"pt"},"Description",-1),Ue={class:"mt-6 flex flex-col items-end justify-end"},Ve={key:0,type:"submit",class:"rounded bg-primary-blue px-6 py-2 leading-5 text-white focus:outline-none"},Fe={key:1,type:"submit",disabled:"",class:"rounded bg-blue-300 px-6 py-2 leading-5 text-white focus:outline-none"},Se={key:0,class:"text-xs font-light italic"},Te={__name:"UniversityCreate",setup(je){const q=Q(),{continents:U,getContinents:V}=Y(),{countries:F,getCountries:S}=ee(),{cities:j,getCities:D}=te(),{zones:N,getZones:$}=oe(),y=l(""),b=l(""),v=l(0);H(async()=>{sceditor.create(y.value,{format:"xhtml",style:"https://cdn.jsdelivr.net/npm/sceditor@3/minified/themes/content/default.min.css",height:400,toolbarExclude:"indent,outdent,email,date,time,ltr,rtl,print,subscript,superscript,table,code,quote,emoticon",icons:"material"}),y.value.value=="",v.value++,await $(),await V(),await S(),await D()});const t=I({name:"",description:"",image:"",continent_id:"",country_id:"",city_id:"",zone_id:""}),x=l([]),p=l([]),k=l(null),d=l([]),B=()=>{d.value=j.value.filter(r=>r.country_id==t.country_id),t.city_id=""},M=()=>{p.value=F.value.filter(r=>r.zone_id==t.zone_id),t.country_id="",t.city_id="",d.value=[]},R=()=>{x.value=N.value.filter(r=>r.continent_id==t.continent_id),t.zone_id="",t.country_id="",t.city_id="",d.value=[],p.value=[]},{createUniversity:T,errors:h,loading:w}=X(),Z=async()=>{if(t.description=y.value.value,v.value==1){v.value++,b.value="please click again";return}let r=new FormData;r.append("image",t.image),r.append("name",t.name),r.append("description",t.description),r.append("continent_id",t.continent_id),r.append("country_id",t.country_id),r.append("city_id",t.city_id),r.append("zone_id",t.zone_id),await T(r),h.value==""&&q.push({name:"admin.university.index"})},E=async()=>{t.image=k.value.files[0]};return(r,i)=>{const A=W("Spin");return s(),n("div",re,[e("div",se,[ne,e("section",ie,[u(h)!=""?(s(),J(L,{key:0},{default:C(()=>[K(a(u(h)),1)]),_:1})):m("",!0),ae,e("form",{onSubmit:i[6]||(i[6]=O(o=>Z(),["prevent"])),id:"universityform",enctype:"multipart/form-data"},[e("div",le,[e("div",de,[ue,c(e("input",{required:"","onUpdate:modelValue":i[0]||(i[0]=o=>t.name=o),type:"text",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,512),[[P,t.name]])]),e("div",null,[ce,c(e("select",{required:"",onChange:R,"onUpdate:modelValue":i[1]||(i[1]=o=>t.continent_id=o),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[(s(!0),n(_,null,g(u(U),o=>(s(),n("option",{key:o.id,value:o.id},a(o.name_en),9,ye))),128))],544),[[f,t.continent_id]])]),e("div",null,[pe,c(e("select",{required:"","onUpdate:modelValue":i[2]||(i[2]=o=>t.zone_id=o),onChange:M,class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[x.value.length!=0?(s(!0),n(_,{key:0},g(x.value,o=>(s(),n("option",{key:o.id,value:o.id},a(o.name_en),9,me))),128)):(s(),n("option",fe," Requires "+a(r.$t("continent")),1))],544),[[f,t.zone_id]])]),e("div",null,[_e,c(e("select",{required:"",onChange:B,"onUpdate:modelValue":i[3]||(i[3]=o=>t.country_id=o),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[p.value.length!=0?(s(!0),n(_,{key:0},g(p.value,o=>(s(),n("option",{key:o.id,value:o.id},a(o.name_en),9,ge))),128)):(s(),n("option",be," Requires "+a(r.$t("zoned")),1))],544),[[f,t.country_id]])]),e("div",ve,[xe,c(e("select",{required:"","onUpdate:modelValue":i[4]||(i[4]=o=>t.city_id=o),class:"form-select mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-primary-blue focus:outline-none focus:ring-primary-blue"},[d.value.length!=0?(s(!0),n(_,{key:0},g(d.value,o=>(s(),n("option",{key:o.id,value:o.id},a(o.name_en),9,he))),128)):(s(),n("option",ke," Requires "+a(r.$t("country")),1))],512),[[f,t.city_id]])]),e("div",we,[Ce,e("input",{required:"",ref_key:"file",ref:k,onChange:i[5]||(i[5]=o=>E()),type:"file",class:"dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:border-blue-300 mt-2 block w-full rounded-md border border-gray-200 bg-white px-4 py-2 text-gray-700 focus:border-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-40"},null,544)]),e("div",ze,[qe,e("textarea",{required:"",ref_key:"textarea",ref:y,class:"h-96 w-full"},`
                            `,512)])]),e("div",Ue,[u(w)==0?(s(),n("button",Ve," Save ")):m("",!0),u(w)==1?(s(),n("button",Fe,[z(A,{size:"small"})])):m("",!0),z(G,{"enter-active-class":" transition-all  ","enter-from-class":" opacity-0  -translate-y-10","enter-to-class":"  opacity-1 translate-y-0","leave-active-class":"","leave-from-class":"","leave-to-class":""},{default:C(()=>[b.value!=""?(s(),n("span",Se,a(b.value),1)):m("",!0)]),_:1})])],32)])])])}}};export{Te as default};
