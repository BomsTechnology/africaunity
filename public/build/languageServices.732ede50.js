var u=(g,l,e)=>new Promise((a,p)=>{var v=r=>{try{c(e.next(r))}catch(t){p(t)}},d=r=>{try{c(e.throw(r))}catch(t){p(t)}},c=r=>r.done?a(r.value):Promise.resolve(r.value).then(v,d);c((e=e.apply(g,l)).next())});import{r as i,p as o}from"./app.59e8d623.js";function f(){const g=i([]),l=i([]),e=i(""),a=i(0);return{languages:g,language:l,errorsLang:e,loading:a,getLanguages:()=>u(this,null,function*(){e.value="",a.value=!0;let t=yield o.get("/api/languages",{headers:{Authorization:`Bearer ${localStorage.token}`}});g.value=t.data.data,a.value=!1}),getLanguage:t=>u(this,null,function*(){e.value="",a.value=!0;let s=yield o.get("/api/languages/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}});a.value=0,l.value=s.data.data}),createLanguage:t=>u(this,null,function*(){e.value="";try{a.value=!0,yield o.post("/api/languages",t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),a.value=0}catch(s){if(s.response.status==422){a.value=0;for(const n in s.response.data.errors)e.value+=s.response.data.errors[n][0]+`
`}}}),updateLanguage:(t,s)=>u(this,null,function*(){e.value="";try{a.value=!0,yield o.put("/api/languages/"+t,s,{headers:{Authorization:`Bearer ${localStorage.token}`}}),a.value=!1}catch(n){if(a.value=0,n.response.status==422)for(const h in n.response.data.errors)e.value+=n.response.data.errors[h][0]+`	
`}}),destroyLanguage:t=>u(this,null,function*(){e.value="";try{return a.value=!0,yield o.delete("/api/languages/"+t,{headers:{Authorization:`Bearer ${localStorage.token}`}}),a.value=!1,!0}catch(s){a.value=0,e.value="Impossible de supprimer ce language"}})}}export{f as u};
