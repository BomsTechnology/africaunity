var u=(o,s,t)=>new Promise((i,l)=>{var p=a=>{try{e(t.next(a))}catch(r){l(r)}},v=a=>{try{e(t.throw(a))}catch(r){l(r)}},e=a=>a.done?i(a.value):Promise.resolve(a.value).then(p,v);e((t=t.apply(o,s)).next())});import{r as c,p as n}from"./app.59e8d623.js";function y(){const o=c([]),s=c(""),t=c(0);return{status:o,errorsStatus:s,loading:t,getStatus:()=>u(this,null,function*(){s.value="",t.value=!0;let e=yield n.get("/api/status",{headers:{Authorization:`Bearer ${localStorage.token}`}});o.value=e.data.data,t.value=!1}),createStatus:e=>u(this,null,function*(){s.value="";try{t.value=!0,yield n.post("/api/status",e,{headers:{Authorization:`Bearer ${localStorage.token}`}}),t.value=0}catch(a){if(a.response.status==422){t.value=0;for(const r in a.response.data.errors)s.value+=a.response.data.errors[r][0]+`
`}}}),updateStatus:(e,a)=>u(this,null,function*(){s.value="";try{t.value=!0,yield n.put("/api/status/"+e,a,{headers:{Authorization:`Bearer ${localStorage.token}`}}),t.value=!1}catch(r){if(t.value=0,r.response.status==422)for(const d in r.response.data.errors)s.value+=r.response.data.errors[d][0]+`	
`}}),destroyStatus:e=>u(this,null,function*(){s.value="";try{return t.value=!0,yield n.delete("/api/status/"+e,{headers:{Authorization:`Bearer ${localStorage.token}`}}),t.value=!1,!0}catch(a){t.value=0,s.value="Impossible de supprimer ce statu"}})}}export{y as u};
